<!DOCTYPE html>
<html lang="en" itemscope itemtype="http://schema.org/WebPage">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>网易云课堂MySQL &gt; chapter4 - Jane-主题-Hugo</title>
  

<meta name="renderer" content="webkit" />
<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=yes"/>

<meta name="MobileOptimized" content="width"/>
<meta name="HandheldFriendly" content="true"/>


<meta name="applicable-device" content="pc,mobile">

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">

<meta name="mobile-web-app-capable" content="yes">

<meta name="author" content="zch" /><meta name="description" content="测试博客" />

  <meta name="keywords" content="Hugo, theme, jane" />






<meta name="generator" content="Hugo 0.53" />


<link rel="canonical" href="https://huachengzhou.github.io/studyDocument/post/uuid_t_%E7%BD%91%E6%98%93%E4%BA%91%E8%AF%BE%E5%A0%82mysql_%E7%BD%91%E6%98%93%E4%BA%91%E8%AF%BE%E5%A0%82mysql_chapter4/" />





<link rel="icon" href="/studyDocument/favicon.ico" />











<link rel="stylesheet" href="/studyDocument/sass/jane.min.b3a8813c06e6d785beba22bf8264e174fa2cb3a396b22f9ba24e2c00c18aaf7f.css" integrity="sha256-s6iBPAbm14W&#43;uiK/gmThdPoss6OWsi&#43;bok4sAMGKr38=" media="screen" crossorigin="anonymous">





<meta property="og:title" content="网易云课堂MySQL &gt; chapter4" />
<meta property="og:description" content="测试博客" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://huachengzhou.github.io/studyDocument/post/uuid_t_%E7%BD%91%E6%98%93%E4%BA%91%E8%AF%BE%E5%A0%82mysql_%E7%BD%91%E6%98%93%E4%BA%91%E8%AF%BE%E5%A0%82mysql_chapter4/" /><meta property="article:published_time" content="2021-02-14T00:00:00&#43;00:00"/>
<meta property="article:modified_time" content="2021-02-14T00:00:00&#43;00:00"/>

<meta itemprop="name" content="网易云课堂MySQL &gt; chapter4">
<meta itemprop="description" content="测试博客">


<meta itemprop="datePublished" content="2021-02-14T00:00:00&#43;00:00" />
<meta itemprop="dateModified" content="2021-02-14T00:00:00&#43;00:00" />
<meta itemprop="wordCount" content="6320">



<meta itemprop="keywords" content="网易云课堂MySQL," />
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="网易云课堂MySQL &gt; chapter4"/>
<meta name="twitter:description" content="测试博客"/>

<!--[if lte IE 9]>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js"></script>
<![endif]-->

<!--[if lt IE 9]>
  <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
<![endif]-->




</head>
<body>
  <div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/studyDocument/" class="logo">技术博客</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>
<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list">
    <li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="https://huachengzhou.github.io/studyDocument/">主页</a>
          
        
      </li><li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="https://huachengzhou.github.io/studyDocument/post/">归档</a>
          
        
      </li><li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="https://huachengzhou.github.io/studyDocument/tags/">标签</a>
          
        
      </li><li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="https://huachengzhou.github.io/studyDocument/categories/">分类</a>
          
        
      </li><li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="https://huachengzhou.github.io/studyDocument/about/">关于</a>
          
        
      </li><li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="https://gohugo.io" rel="noopener" target="_blank">
              外部链接
              
              <i class="iconfont">
                <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="18" height="18">
  <path d="M623.36 272.96 473.216 423.04C467.2 429.056 467.072 438.656 472.896 444.416c0 0-6.72-6.656 1.6 1.6C496.064 467.648 528.64 500.224 528.64 500.224 534.464 506.048 544 505.856 550.016 499.904l150.08-150.144 67.328 66.432c9.024 8.96 27.456 4.544 30.4-8.96 19.968-92.608 46.656-227.52 46.656-227.52 6.848-34.496-16.192-56.704-49.92-49.92 0 0-134.656 26.816-227.328 46.784C560.32 178.048 556.352 182.272 554.752 187.136c-3.2 6.208-3.008 14.208 3.776 20.992L623.36 272.96z"></path>
  <path d="M841.152 457.152c-30.528 0-54.784 24.512-54.784 54.656l0 274.752L237.696 786.56 237.696 237.696l206.016 0c6.656 0 10.752 0 13.248 0C487.68 237.696 512 213.184 512 182.848 512 152.32 487.36 128 456.96 128L183.04 128C153.216 128 128 152.576 128 182.848c0 3.136 0.256 6.272 0.768 9.28C128.256 195.136 128 198.272 128 201.408l0 639.488c0 0.064 0 0.192 0 0.256 0 0.128 0 0.192 0 0.32 0 30.528 24.512 54.784 54.784 54.784l646.976 0c6.592 0 9.728 0 11.712 0 28.736 0 52.928-22.976 54.464-51.968C896 843.264 896 842.304 896 841.344l0-20.352L896 561.408 896 512.128C896 481.792 871.424 457.152 841.152 457.152z"></path>
</svg>

              </i>
            </a>
          
        
      </li><li class="mobile-menu-item">
        
          
          <div class="mobile-menu-parent">
            <span class="mobile-submenu-open"></span>
            <a href="https://huachengzhou.github.io/studyDocument/">
              docs
            </a>
          </div>
          <ul class="mobile-submenu-list">
            
              <li>
                <a href="https://huachengzhou.github.io/studyDocument/post/%E7%9F%AD%E7%A0%81%E9%A2%84%E8%A7%88/">短码预览</a>
              </li>
            
              <li>
                <a href="https://huachengzhou.github.io/studyDocument/post/%E5%9B%BE%E7%89%87%E9%A2%84%E8%A7%88/">图片预览</a>
              </li>
            
              <li>
                <a href="https://huachengzhou.github.io/studyDocument/post/%E8%AF%AD%E6%B3%95%E9%AB%98%E4%BA%AE%E6%98%BE%E7%A4%BA/">语法高亮显示</a>
              </li>
            
              <li>
                <a href="https://huachengzhou.github.io/studyDocument/post/%E6%95%B0%E5%AD%A6%E9%A2%84%E8%A7%88/">数学预览</a>
              </li>
            
          </ul>
        
      </li>
    

    
  </ul>
</nav>


  
    






  <link rel="stylesheet" href="/studyDocument/lib/photoswipe/photoswipe.min.css" />
  <link rel="stylesheet" href="/studyDocument/lib/photoswipe/default-skin/default-skin.min.css" />




<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

<div class="pswp__bg"></div>

<div class="pswp__scroll-wrap">
    
    <div class="pswp__container">
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
    </div>
    
    <div class="pswp__ui pswp__ui--hidden">
    <div class="pswp__top-bar">
      
      <div class="pswp__counter"></div>
      <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
      <button class="pswp__button pswp__button--share" title="Share"></button>
      <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
      <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
      
      
      <div class="pswp__preloader">
        <div class="pswp__preloader__icn">
          <div class="pswp__preloader__cut">
            <div class="pswp__preloader__donut"></div>
          </div>
        </div>
      </div>
    </div>
    <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
      <div class="pswp__share-tooltip"></div>
    </div>
    <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
    </button>
    <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
    </button>
    <div class="pswp__caption">
      <div class="pswp__caption__center"></div>
    </div>
    </div>
    </div>
</div>

  

  

  

  <header id="header" class="header container">
    <div class="logo-wrapper">
  <a href="/studyDocument/" class="logo">
    
      技术博客
    
  </a>
</div>

<nav class="site-navbar">
  <ul id="menu" class="menu">
    
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="https://huachengzhou.github.io/studyDocument/">主页</a>
          

        

      </li>
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="https://huachengzhou.github.io/studyDocument/post/">归档</a>
          

        

      </li>
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="https://huachengzhou.github.io/studyDocument/tags/">标签</a>
          

        

      </li>
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="https://huachengzhou.github.io/studyDocument/categories/">分类</a>
          

        

      </li>
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="https://huachengzhou.github.io/studyDocument/about/">关于</a>
          

        

      </li>
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="https://gohugo.io" rel="noopener" target="_blank">
              外部链接
              
              <i class="iconfont">
                <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="18" height="18">
  <path d="M623.36 272.96 473.216 423.04C467.2 429.056 467.072 438.656 472.896 444.416c0 0-6.72-6.656 1.6 1.6C496.064 467.648 528.64 500.224 528.64 500.224 534.464 506.048 544 505.856 550.016 499.904l150.08-150.144 67.328 66.432c9.024 8.96 27.456 4.544 30.4-8.96 19.968-92.608 46.656-227.52 46.656-227.52 6.848-34.496-16.192-56.704-49.92-49.92 0 0-134.656 26.816-227.328 46.784C560.32 178.048 556.352 182.272 554.752 187.136c-3.2 6.208-3.008 14.208 3.776 20.992L623.36 272.96z"></path>
  <path d="M841.152 457.152c-30.528 0-54.784 24.512-54.784 54.656l0 274.752L237.696 786.56 237.696 237.696l206.016 0c6.656 0 10.752 0 13.248 0C487.68 237.696 512 213.184 512 182.848 512 152.32 487.36 128 456.96 128L183.04 128C153.216 128 128 152.576 128 182.848c0 3.136 0.256 6.272 0.768 9.28C128.256 195.136 128 198.272 128 201.408l0 639.488c0 0.064 0 0.192 0 0.256 0 0.128 0 0.192 0 0.32 0 30.528 24.512 54.784 54.784 54.784l646.976 0c6.592 0 9.728 0 11.712 0 28.736 0 52.928-22.976 54.464-51.968C896 843.264 896 842.304 896 841.344l0-20.352L896 561.408 896 512.128C896 481.792 871.424 457.152 841.152 457.152z"></path>
</svg>

              </i>
            </a>
          

        

      </li>
    
        <li class="menu-item">
        
          
          <a class="menu-item-link menu-parent" href="https://huachengzhou.github.io/studyDocument/">docs</a>
          <ul class="submenu">
            
              <li>
                <a href="https://huachengzhou.github.io/studyDocument/post/%E7%9F%AD%E7%A0%81%E9%A2%84%E8%A7%88/">短码预览</a>
              </li>
            
              <li>
                <a href="https://huachengzhou.github.io/studyDocument/post/%E5%9B%BE%E7%89%87%E9%A2%84%E8%A7%88/">图片预览</a>
              </li>
            
              <li>
                <a href="https://huachengzhou.github.io/studyDocument/post/%E8%AF%AD%E6%B3%95%E9%AB%98%E4%BA%AE%E6%98%BE%E7%A4%BA/">语法高亮显示</a>
              </li>
            
              <li>
                <a href="https://huachengzhou.github.io/studyDocument/post/%E6%95%B0%E5%AD%A6%E9%A2%84%E8%A7%88/">数学预览</a>
              </li>
            
          </ul>

        

      </li>
    

    
    

    
  </ul>
</nav>

  </header>

  <div id="mobile-panel">
    <main id="main" class="main bg-llight">
      <div class="content-wrapper">
        <div id="content" class="content container">
          <article class="post bg-white">
    
    <header class="post-header">
      <h1 class="post-title">网易云课堂MySQL &gt; chapter4</h1>
      
      <div class="post-meta">
        <time datetime="2021-02-14" class="post-time">
          2021-02-14
        </time>
        <div class="post-category">
            <a href="https://huachengzhou.github.io/studyDocument/categories/mysql/"> mysql </a>
            <a href="https://huachengzhou.github.io/studyDocument/categories/index/"> index </a>
            
          </div>
        

        
        

        
        
      </div>
    </header>

    
    
<div class="post-toc" id="post-toc">
  <h2 class="post-toc-title">Table of Contents</h2>
  <div class="post-toc-content">
    <nav id="TableOfContents">
<ul>
<li><a href="#mysql应用优化">MySQL应用优化</a>
<ul>
<li><a href="#4-1-mysql索引优化与设计">4.1-MySQL索引优化与设计</a>
<ul>
<li><a href="#什么是索引">什么是索引</a></li>
<li><a href="#数据库索引查找">数据库索引查找</a></li>
<li><a href="#如何根据首字母找到所在行">如何根据首字母找到所在行</a></li>
<li><a href="#innodb表聚簇索引">InnoDB表聚簇索引</a></li>
<li><a href="#创建索引">创建索引</a></li>
<li><a href="#索引维护">索引维护</a></li>
<li><a href="#如何使用索引">如何使用索引</a></li>
<li><a href="#索引与字段选择性">索引与字段选择性</a></li>
<li><a href="#联合索引与前缀查询">联合索引与前缀查询</a></li>
<li><a href="#长字段上的索引">长字段上的索引</a></li>
<li><a href="#索引覆盖扫">索引覆盖扫</a></li>
<li><a href="#无法使用索引的情况">无法使用索引的情况</a></li>
<li><a href="#利用索引排序">利用索引排序</a></li>
<li><a href="#如何确定一个查询走没走索引-走了哪个索引">如何确定一个查询走没走索引，走了哪个索引</a></li>
</ul></li>
<li><a href="#4-2-mysql数据库设计">4.2-MySQL数据库设计</a>
<ul>
<li><a href="#什么是schema设计">什么是Schema设计</a></li>
<li><a href="#为什么schema需要设计">为什么Schema需要设计</a></li>
<li><a href="#完全由开发者主导的schema设计">完全由开发者主导的Schema设计</a></li>
<li><a href="#基于性能的表设计">基于性能的表设计</a></li>
<li><a href="#索引">索引</a></li>
<li><a href="#反范式-冗余必要字段">反范式，冗余必要字段</a></li>
<li><a href="#拆分大字段">拆分大字段</a></li>
<li><a href="#避免过多字段或过长行">避免过多字段或过长行</a></li>
<li><a href="#分页查询">分页查询</a></li>
<li><a href="#热点读数据特殊处理">热点读数据特殊处理</a></li>
<li><a href="#热点写数据特殊处理">热点写数据特殊处理</a></li>
<li><a href="#准实时统计">准实时统计</a></li>
<li><a href="#实时统计改进1-触发器实时统计">实时统计改进1 - 触发器实时统计</a></li>
<li><a href="#实时统计改进2-缓存实时统计">实时统计改进2 - 缓存实时统计</a></li>
<li><a href="#实时统计改进2-最大自增id获取总数">实时统计改进2 - 最大自增ID获取总数</a></li>
<li><a href="#课拓展性设计">课拓展性设计</a></li>
<li><a href="#分区表与数据淘汰">分区表与数据淘汰</a></li>
<li><a href="#分区表与垂直分区">分区表与垂直分区</a></li>
<li><a href="#分区表与水平分区">分区表与水平分区</a></li>
<li><a href="#mysql分区表的局限">MySQL分区表的局限</a></li>
<li><a href="#满足周边需求">满足周边需求</a></li>
<li><a href="#统计和后台需求">统计和后台需求</a></li>
<li><a href="#自动更新时间戳">自动更新时间戳</a></li>
<li><a href="#schema设计与前瞻性">Schema设计与前瞻性</a></li>
</ul></li>
<li><a href="#4-3-mysql容量评估">4.3-MySQL容量评估</a>
<ul>
<li><a href="#性能容量评估">性能容量评估</a></li>
<li><a href="#数据库服务器硬件性能指标">数据库服务器硬件性能指标</a></li>
<li><a href="#数据库业务特点关键词">数据库业务特点关键词</a></li>
<li><a href="#oltp-olap">OLTP/OLAP</a></li>
<li><a href="#并发请求-衡量线上业务繁忙程度">并发请求 - 衡量线上业务繁忙程度</a></li>
<li><a href="#读写比例-描述应用程序如何使用数据库">读写比例 - 描述应用程序如何使用数据库</a></li>
<li><a href="#数据量-总量">数据量 - 总量</a></li>
<li><a href="#冷数据与热数据-有用数据的实时集合">冷数据与热数据 - 有用数据的实时集合</a></li>
<li><a href="#线上数据分层存储-缓解线上磁盘空间压力">线上数据分层存储 - 缓解线上磁盘空间压力</a></li>
<li><a href="#服务器资源选型-将可选方案列出来">服务器资源选型 - 将可选方案列出来</a></li>
<li><a href="#案例一-网易云音乐曲库数据库服务器评估">案例一，网易云音乐曲库数据库服务器评估</a></li>
<li><a href="#案例二-网易理财销售数据库服务器评估">案例二，网易理财销售数据库服务器评估</a></li>
</ul></li>
<li><a href="#4-4-mysql性能测试">4.4-MySQL性能测试</a>
<ul>
<li><a href="#为什么需要性能测试">为什么需要性能测试</a></li>
<li><a href="#性能测试的分类">性能测试的分类</a></li>
<li><a href="#设备层的测试">设备层的测试</a></li>
<li><a href="#业务层测试">业务层测试</a></li>
<li><a href="#数据库层测试">数据库层测试</a></li>
<li><a href="#mysql测试分类">MySQL测试分类</a></li>
<li><a href="#常用的测试工具">常用的测试工具</a></li>
<li><a href="#性能测试衡量指标">性能测试衡量指标</a></li>
<li><a href="#sysbench">Sysbench</a></li>
<li><a href="#编译安装sysbench">编译安装Sysbench</a></li>
<li><a href="#sysbench流程">Sysbench流程</a></li>
<li><a href="#prepare语法">Prepare语法</a></li>
<li><a href="#sysbench表结构">Sysbench表结构</a></li>
<li><a href="#run语法">Run语法</a></li>
<li><a href="#特殊情况">特殊情况</a></li>
<li><a href="#cleanup">cleanup</a></li>
<li><a href="#tpcc-mysql">Tpcc-mysql</a></li>
<li><a href="#使用tpcc-mysql的步骤">使用Tpcc-mysql的步骤</a></li>
<li><a href="#创建表结构">创建表结构</a></li>
<li><a href="#tpcc-load">Tpcc-load</a></li>
<li><a href="#tpcc-start">Tpcc-start</a></li>
<li><a href="#总结">总结</a></li>
</ul></li>
</ul></li>
</ul>
</nav>
  </div>
</div>

    
    <div class="post-content">
      

<h1 id="mysql应用优化">MySQL应用优化</h1>

<h2 id="4-1-mysql索引优化与设计">4.1-MySQL索引优化与设计</h2>

<h3 id="什么是索引">什么是索引</h3>

<ul>
<li>索引的意义 —— 快速定位要查找的数据</li>
</ul>

<h3 id="数据库索引查找">数据库索引查找</h3>

<ul>
<li>全表扫描 VS 索引查找</li>
</ul>

<h3 id="如何根据首字母找到所在行">如何根据首字母找到所在行</h3>

<ul>
<li>二分查找</li>
<li>B+tree</li>
</ul>

<h3 id="innodb表聚簇索引">InnoDB表聚簇索引</h3>

<p>索引中只放着排序字段和ID</p>

<h3 id="创建索引">创建索引</h3>

<ul>
<li>单列索引</li>
</ul>

<pre><code class="language-sql">create index idx_test1 on tb_student (name);
</code></pre>

<ul>
<li>联合索引</li>
</ul>

<pre><code class="language-sql">create index idx_test2 on tb_student (name, age);
</code></pre>

<ul>
<li>索引中先根据name排序，name相同的情况下，根据age排序</li>
</ul>

<h3 id="索引维护">索引维护</h3>

<ul>
<li>索引维护由数据库自动完成</li>
<li>插入/修改/删除每一个索引行都会变成一个内部封装的事务</li>
<li>索引越多，事务越长，代价越高</li>
<li>索引越多对表的插入和索引字段修改就越慢</li>
<li>控制表上索引的数量，切忌胡乱添加无用索引</li>
</ul>

<h3 id="如何使用索引">如何使用索引</h3>

<ul>
<li>依据WHERE查询条件建立索引</li>
</ul>

<pre><code class="language-sql">select a, b from tab_a where c=? ;
idx_c (c)
select a, b from tab_a where c=? and d=?;
idx_cd (c, d)
</code></pre>

<ul>
<li>排序order by, group by, distinct字段添加索引</li>
</ul>

<pre><code class="language-sql">select * from tb_a order by a;
select a, count(*) from tb_a group by a;
idx_a (a)

select * from tb_a order by a, b;
idx_a_b (a, b)

select * from tb_a order where c=? by a;
idx_c_a (c, a)
</code></pre>

<h3 id="索引与字段选择性">索引与字段选择性</h3>

<ul>
<li><p>某个字段其值的重复程度</p></li>

<li><p>选择性很差的字段通常不适合创建单列索引</p>

<ul>
<li>男女比例相仿的列表中性别不适合创建单列索引</li>
<li>如果男女比例极不平衡，要查询的又是少数方(理工院校查女生)可以考虑使用索引</li>
</ul></li>

<li><p>联合索引中选择性好的字段应该排在前面</p></li>
</ul>

<pre><code class="language-sql">select * from tab_a where gender=? and name=?;
idx_a1 (name, gender)
</code></pre>

<h3 id="联合索引与前缀查询">联合索引与前缀查询</h3>

<ul>
<li>联合索引能为前缀单列，复列查询提供帮助</li>
</ul>

<pre><code class="language-sql">idx_smp (a, b, c)
where a=? ;
where a=? and b=? ;
where a=? and c=? ;(部分ok)
</code></pre>

<ul>
<li>合理创建联合索引，避免冗余
(a) , (a, b) , (a, b, c) X
(a, b, c) ok</li>
</ul>

<h3 id="长字段上的索引">长字段上的索引</h3>

<ul>
<li>在非常长的字段上建立索引影响性能</li>
<li>InnoDB索引单字段(utf8)只能取前767 bytes</li>
<li>对长字段处理的方法

<ul>
<li>Email类，建立前缀索引
<code>sql
Mail_addr varchar(2048)
idx_mailadd (Mail_addr(30)) ok
</code></li>
<li>住址类，拆分字段
<code>sql
Home_address varchar(2048)
idx_mailadd (Mail_addr(30)) ? -- 很可能前半段都是相同的省市区街道名称
Province varchar(1024), City varchar(1024), District varchar(1024), Local_address varchar(1024) ... -- 建立联合索引或单列索引
</code></li>
</ul></li>
</ul>

<h3 id="索引覆盖扫">索引覆盖扫</h3>

<ul>
<li>最核心SQL考虑索引覆盖
<code>sql
select Name from tb_user where UserID=?
Key idx_uid_name(UserID, Name)
</code></li>
<li>不需要回表获取name字段，IO最小，效率最高</li>
</ul>

<h3 id="无法使用索引的情况">无法使用索引的情况</h3>

<ul>
<li>索引列进行数学运算或函数运算
<code>sql
where id+1=10; X
where id = (10-1); ok
year(col) &lt; 2007; X
col &lt; '2007-01-01'; ok
</code></li>
<li>未含符合索引的前缀字段
<code>sql
Idx_abc (a, b, c):
where b=? and c=?; X
(b, c) ok
</code></li>
<li>前缀通配,&rsquo;_&lsquo;和&rsquo;%&lsquo;通配符
<code>sql
Like '%xxx%'; X
Like 'xxx%'; ok
</code></li>
<li>where 条件使用NOT, &lt;&gt;, !=</li>
<li>字段类型匹配

<ul>
<li>并不绝对，但是无法预测地会造成问题，不要使用
<code>sql
a int(11), idx_a (a)
where a = '123'; X
where a = 123 ; ok
</code></li>
</ul></li>
</ul>

<h3 id="利用索引排序">利用索引排序</h3>

<p>idx_a_b (a, b)</p>

<ul>
<li>能够使用索引帮助排序的查询：</li>
</ul>

<pre><code class="language-sql">order by a
a = 3 order by b
order by a, b
order by a desc, b desc
a &gt; 5 order by a
</code></pre>

<ul>
<li>不能使用索引帮助排序的查询：</li>
</ul>

<pre><code class="language-sql">order by b
a &gt; 5 order by b
a in (1, 3) order by b
order by a asc, b desc
</code></pre>

<h3 id="如何确定一个查询走没走索引-走了哪个索引">如何确定一个查询走没走索引，走了哪个索引</h3>

<ul>
<li>explain是确定一个查询如何走索引最简便有效的方法
<code>explain select * from tb_test ;</code></li>
<li>关注的项目

<ul>
<li>type:查询access的方式</li>
<li>key:本次查询最终选择使用哪个索引，NULL为未使用索引</li>
<li>key_len:选择的索引使用的前缀长度或者整个长度</li>
<li>rows:可以理解为查询逻辑读，需要扫描过的记录行数</li>
<li>extra:额外信息，主要指的fetch data的具体方式</li>
</ul></li>
</ul>

<h2 id="4-2-mysql数据库设计">4.2-MySQL数据库设计</h2>

<h3 id="什么是schema设计">什么是Schema设计</h3>

<ul>
<li>设计数据库的表，索引，以及表和表的关系

<ul>
<li>在数据模型的基础上将关系模型转化为数据库表</li>
<li>满足业务模型需要基础上根据数据库和应用特点优化表结构</li>
</ul></li>
</ul>

<h3 id="为什么schema需要设计">为什么Schema需要设计</h3>

<ul>
<li>Schema关系到应用程序功能与性能

<ul>
<li>满足业务功能需要</li>
<li>同性能密切相关</li>
<li>数据库扩展性</li>
<li>满足周边需求(统计，迁移等)</li>
</ul></li>
<li>关系型数据库修改Schema经常是高危操作

<ul>
<li>Schema设计要体现一定的前瞻性</li>
</ul></li>
</ul>

<h3 id="完全由开发者主导的schema设计">完全由开发者主导的Schema设计</h3>

<ul>
<li>着眼于实现当前功能</li>
<li>完全基于功能的设计可能存在一些隐患

<ul>
<li>不合理的表结构或索引设计造成性能问题</li>
<li>没有合理评估到数据量的增长造成空间紧张而且难以维护</li>
<li>需求频繁修改造成表结构经常变更</li>
<li>业务重大调整导致数据经常需要重构订正</li>
</ul></li>
</ul>

<h3 id="基于性能的表设计">基于性能的表设计</h3>

<ul>
<li>根据查询需要设计好索引</li>
<li>根据核心查询需求，适当调整表结构</li>
<li>基于一些特殊业务需求，调整实现方式</li>
</ul>

<h3 id="索引">索引</h3>

<ul>
<li>正确使用索引</li>
<li>更新尽可能使用主键或唯一索引</li>
<li>主键尽可能使用自增ID字段</li>
<li>核心查询覆盖扫描

<ul>
<li>用户登录需要根据用户名返回密码用于验证<code>create index idx_uname_passwd on tb_user (username, password);</code></li>
<li>建立联合索引避免回表取数据</li>
</ul></li>
</ul>

<h3 id="反范式-冗余必要字段">反范式，冗余必要字段</h3>

<ul>
<li>针对核心SQL保留查询结果所必须的冗余字段，避免频繁join

<ul>
<li>例：消息表中冗余了每次读消息必须返回的nickname字段，避免每次读消息都变成join操作。代价是用户修改nickname成本变高。</li>
</ul></li>
</ul>

<h3 id="拆分大字段">拆分大字段</h3>

<ul>
<li>拆分大字段到单独表中，避免范围扫描代价大

<ul>
<li>例：博文表拆分两份，标题表只保留标题和内容缩略部分，用于快速批量返回标题列表，正文表保存大段博文内容，用于点开文章单个读取</li>
</ul></li>
</ul>

<h3 id="避免过多字段或过长行">避免过多字段或过长行</h3>

<ul>
<li>根据SQL必要返回设计字段，有必要就拆表，避免过多字段</li>
<li>一次没有必要获取那么多列数据</li>
<li>行过长导致表数据页记录变少，范围扫描性能降低</li>
<li>更新数据也代价增加</li>
<li>16K也最少放2行，可能出现行迁移</li>
</ul>

<h3 id="分页查询">分页查询</h3>

<ul>
<li>避免limit + offset过大</li>
<li>应该使用自增主键ID模拟分页

<ul>
<li>第一页，直接查</li>
<li>得到第一页的max(id)=123(一般是最后一条记录)</li>
<li>第二页，带上id&gt;123查询：where id&gt;123 limit 100</li>
<li>这样每次只需要扫描100条数据</li>
</ul></li>
<li>要求业务上禁止查询XX页之后的数据</li>
</ul>

<h3 id="热点读数据特殊处理">热点读数据特殊处理</h3>

<ul>
<li>根据数据获取的频率或数量不同对热点数据做特殊处理

<ul>
<li>例1：论坛系统中置顶帖、公告贴，可以单独拆分存储，由于每次访问都要全部读出来，单独放在一起，避免每次都到普通表中随机找出来</li>
</ul></li>
</ul>

<h3 id="热点写数据特殊处理">热点写数据特殊处理</h3>

<ul>
<li>根据数据获取的频率或数量不同对热点数据做特殊处理

<ul>
<li>例2：微博系统中对于大量关注的热点账号消息从&rdquo;推&rdquo;改为&rdquo;拉&rdquo;，避免过量insert操作。</li>
</ul></li>
</ul>

<h3 id="准实时统计">准实时统计</h3>

<ul>
<li>对不需要精确结果的计数等统计要求，建立定期更新结果表

<ul>
<li>例：首页要求展示动态成交总金额，维护一个计数表，每分钟根据原表注册时间获取增量sum值更新计数表，避免每次用户刷新都要扫描交易全记录表</li>
</ul></li>
</ul>

<h3 id="实时统计改进1-触发器实时统计">实时统计改进1 - 触发器实时统计</h3>

<ul>
<li>对需要精确统计的计数利用数据库触发器维护计数表

<ul>
<li>例：用户量冲亿活动要求实时统计，用户表上加触发器，每次有新用户插入就同时在计数表+1</li>
</ul></li>
</ul>

<h3 id="实时统计改进2-缓存实时统计">实时统计改进2 - 缓存实时统计</h3>

<ul>
<li>对需要精确统计的计数利用前端缓存实时维护计数

<ul>
<li>例：用户量冲亿活动要求实时统计，注册数量在缓存中实时维护，每注册一个就+1，完全避免数据库读写操作。缓存万一故障失效，可从数据库整体count重新获取。</li>
</ul></li>
</ul>

<h3 id="实时统计改进2-最大自增id获取总数">实时统计改进2 - 最大自增ID获取总数</h3>

<ul>
<li>很多逻辑可以利用自增ID主键最大值直接作为总数

<ul>
<li>例：用户量冲亿活动要求实时统计，用户表加上自增ID作为主键，只要取当时max(ID)就可以得到用户总数</li>
</ul></li>
</ul>

<h3 id="课拓展性设计">课拓展性设计</h3>

<ul>
<li>可拓展性

<ul>
<li>硬件资源增长有极限的情况下处理尽可能久的线上业务</li>
</ul></li>
<li>数据分级，冷数据归档与淘汰

<ul>
<li>可以不断释放空间供新数据使用</li>
</ul></li>
<li>为数据分布式做准备

<ul>
<li>分库分表</li>
<li>水平拆分</li>
<li>牺牲一定的关系模型支持</li>
</ul></li>
</ul>

<h3 id="分区表与数据淘汰">分区表与数据淘汰</h3>

<ul>
<li>range分区</li>
<li>适合数据需要定期过期的大表</li>
<li>单个分区扫描迁移数据到历史库避免全表扫描IO开销</li>
<li>删除单个分区非常高效</li>
</ul>

<h3 id="分区表与垂直分区">分区表与垂直分区</h3>

<ul>
<li>list分区</li>
<li>适合将来可能要基于地区，类目等方式垂直拆分数据的方式</li>
<li>清理节点上不要的数据非常高效</li>
</ul>

<h3 id="分区表与水平分区">分区表与水平分区</h3>

<ul>
<li>hash分区</li>
<li>适合将来需要做水平拆分的表</li>
<li>清理节点上不要的数据非常高效</li>
</ul>

<h3 id="mysql分区表的局限">MySQL分区表的局限</h3>

<ul>
<li>主键或唯一键必须包含在分区字段内</li>
<li>分区字段必须是整数类型，或者加上返回整数的函数</li>
</ul>

<h3 id="满足周边需求">满足周边需求</h3>

<ul>
<li>为周边需求额外增加表设计

<ul>
<li>为后台统计任务增加特殊索引</li>
<li>为数据迁移或统计需求增加时间戳</li>
</ul></li>
</ul>

<h3 id="统计和后台需求">统计和后台需求</h3>

<ul>
<li>统计运行SQL往往和线上有很大不同

<ul>
<li>利用MySQL——主多从，主从可以建不同索引的特性将统计分流到特定从库</li>
<li>包括一些特殊用户批量查询等，所有对线上有IO压力的查询都要读写分离</li>
</ul></li>
</ul>

<h3 id="自动更新时间戳">自动更新时间戳</h3>

<ul>
<li>统计需求经常要求从线上读走增量数据</li>
<li>表的第一个timestamp类型字段再写入时如果不填值，会自动写入系统时间戳</li>
<li>表的第一个timestamp类型字段每次记录发生更新后都会自动更新</li>
<li>在update_time字段上建索引用于定时导出增量数据</li>
</ul>

<h3 id="schema设计与前瞻性">Schema设计与前瞻性</h3>

<ul>
<li>基于历史经验教训，预防和解决同类问题</li>
<li>把折腾DBA够呛的所有Schema改造的原因记录并分析总结
例：</li>
<li>业务为例用户信息加密做了大改造

<ul>
<li>数据库结果大量改动，增加了加密字段，验证策略表，所有表重新订正数据等等</li>
<li>是否所有用到用户信息管理的应用都要去上线就用密文？</li>
</ul></li>
<li>程序bug误删数据，线上风险大

<ul>
<li>改造业务流程，不再删除数据，加入is_deleted标记位，经常给各种表加</li>
<li>今后的类似表是否一上线就都用标记位的方式，并加上修改原因字段？</li>
</ul></li>
<li>支付类应用后期做了风控改造

<ul>
<li>对线上订单大表改造，加了限额，终端类型等字段</li>
<li>遇到支付类应用，是否一上线就提示业务是否需要考虑风控并留好相关字段？</li>
</ul></li>
</ul>

<h2 id="4-3-mysql容量评估">4.3-MySQL容量评估</h2>

<h3 id="性能容量评估">性能容量评估</h3>

<ul>
<li>分析线上业务场景</li>
<li>评估数据库服务器所需性能指标</li>
<li>预估可能成为瓶颈的服务器资源</li>
<li>帮助数据库性能调优</li>
</ul>

<h3 id="数据库服务器硬件性能指标">数据库服务器硬件性能指标</h3>

<ul>
<li>磁盘IO性能</li>
<li>内存容量</li>
<li>CPU</li>
<li>网络吞吐量</li>
<li>磁盘容量</li>
</ul>

<h3 id="数据库业务特点关键词">数据库业务特点关键词</h3>

<ul>
<li>OLTP/OLAP类型</li>
<li>并发请求</li>
<li>读写比例</li>
<li>数据量</li>
<li>冷热数据比</li>
<li>数据分级存储</li>
</ul>

<h3 id="oltp-olap">OLTP/OLAP</h3>

<ul>
<li>T = Transaction</li>
<li>面向广大用户，高并发，较短事务操作</li>
<li>互联网应用绝大部分属于OLTP</li>
<li>OLTP看重服务器CPU，内存，写事务较多或内存不够则依赖磁盘IO</li>
<li>A = Analytical</li>
<li>通常面向内部人员，大规模复查询</li>
<li>OLAP看重磁盘扫描的IO能力，部分依赖内存排序</li>
</ul>

<h3 id="并发请求-衡量线上业务繁忙程度">并发请求 - 衡量线上业务繁忙程度</h3>

<ul>
<li>业务高峰时数据库的每秒并发访问量是多少</li>
<li>通过应用服务器数量，连接池配置判断</li>
<li>通过产品估算初上线用户规模和用户增长速度判断</li>
<li>通过实际业务业务类型判断</li>
<li>并发量相关资源：CPU</li>
</ul>

<h3 id="读写比例-描述应用程序如何使用数据库">读写比例 - 描述应用程序如何使用数据库</h3>

<ul>
<li>线上业务select只读与update/delete/insert写操作比例</li>
<li>delete/update通常都是先读再写</li>
<li>insert需要区分数据写入时持续insert还是大量导入数据</li>
<li>根据业务实际场景分析</li>
<li>多读场景相关资源：内存</li>
<li>多写场景相关资源：磁盘IO</li>
</ul>

<h3 id="数据量-总量">数据量 - 总量</h3>

<ul>
<li>数据库服务器存储设备可扩容能力的上限</li>
<li>根据估算的业务量，写入模式，分析数据增长量</li>
<li>预估一个硬件升级周期内数据库可存放数据的总量，上线时要留好余量</li>
<li>数据总量相关资源：磁盘容量</li>
</ul>

<h3 id="冷数据与热数据-有用数据的实时集合">冷数据与热数据 - 有用数据的实时集合</h3>

<ul>
<li>热数据，线上最新一定周期内将被反复访问的数据</li>
<li>冷数据，线上保存着的，最近不会被在线用户用到的数据</li>
<li>估算活跃用户量，数据增长量等预估热数据量</li>
<li>内存大小尽可能足够存放线上实时热数据</li>
<li>热数据相关资源：内存</li>
</ul>

<h3 id="线上数据分层存储-缓解线上磁盘空间压力">线上数据分层存储 - 缓解线上磁盘空间压力</h3>

<ul>
<li>最新热数据确保放在内存中</li>
<li>还可能访问到的较早数据存放在线上库磁盘中</li>
<li>更早的不会常规访问的数据定期迁移至历史库中</li>
<li>区分哪些数据时效性强可以迁移</li>
</ul>

<h3 id="服务器资源选型-将可选方案列出来">服务器资源选型 - 将可选方案列出来</h3>

<table>
<thead>
<tr>
<th align="left">资源指标</th>
<th align="left">可选方案</th>
</tr>
</thead>

<tbody>
<tr>
<td align="left">磁盘IO性能</td>
<td align="left">单盘 -&gt; 盘阵; SATA -&gt; SAS; HDD -&gt; SSD</td>
</tr>

<tr>
<td align="left">内存容量</td>
<td align="left">较小内存 -&gt; 较大内存</td>
</tr>

<tr>
<td align="left">CPU</td>
<td align="left">普通 -&gt; 多核，超线程</td>
</tr>

<tr>
<td align="left">网络吞吐量</td>
<td align="left">千兆 -&gt; 万兆; 单网卡 -&gt; 多路;</td>
</tr>

<tr>
<td align="left">磁盘容量</td>
<td align="left">单盘 -&gt; 盘阵; 单盘 -&gt; LVM</td>
</tr>
</tbody>
</table>

<h3 id="案例一-网易云音乐曲库数据库服务器评估">案例一，网易云音乐曲库数据库服务器评估</h3>

<ul>
<li>用于存放线上数千万歌曲信息</li>
<li>确定属于OLTP线上类型数据库</li>
<li>并发请求量

<ul>
<li>50台应用服务器，每台最大连接数100</li>
<li>可能峰值5000qps，并发请求量较大</li>
</ul></li>
<li>CPU需求高</li>
<li>读写比例

<ul>
<li>访问模式以用户列出歌单和播放歌曲时查询歌曲信息为主，用户只有只读查询</li>
<li>写数据发生在录入新歌或修改歌曲信息时后台操作，写比例小，且为批量导入</li>
<li>读写比100:1</li>
</ul></li>
<li>数据总量

<ul>
<li>估算每首歌信息8K，总计5000万，总量400G</li>
<li>数据总量增长相对缓慢</li>
</ul></li>
<li>冷热数据

<ul>
<li>5000万歌曲中大约40%可能被访问，10%属于热点歌曲</li>
<li>热数据大约&lt;=40G</li>
</ul></li>
<li>数据分级存储需求

<ul>
<li>由于没有用户产生的数据，歌曲信息无法分级存储</li>
</ul></li>
<li>内存需求一般，&gt;=40G</li>
<li>磁盘IO能力需求一般</li>
<li>网络流量要求，8k*<sup>2500</sup>&frasl;<sub>1024</sub> ≈ 20MB/S，一般</li>
</ul>

<table>
<thead>
<tr>
<th align="left">资源指标</th>
<th align="left">可选方案</th>
</tr>
</thead>

<tbody>
<tr>
<td align="left">磁盘IO性能</td>
<td align="left">两块SAS做RAID1</td>
</tr>

<tr>
<td align="left">内存容量</td>
<td align="left">96G内存</td>
</tr>

<tr>
<td align="left">CPU</td>
<td align="left">2c8core超线程 相当于32核</td>
</tr>

<tr>
<td align="left">网络吞吐量</td>
<td align="left">千兆双网卡bunding</td>
</tr>

<tr>
<td align="left">磁盘容量</td>
<td align="left">900G</td>
</tr>
</tbody>
</table>

<h3 id="案例二-网易理财销售数据库服务器评估">案例二，网易理财销售数据库服务器评估</h3>

<ul>
<li>用于存放理财用户线上订单</li>
<li>确定属于OLTP线上类型数据库</li>
<li>业务场景有明显特征

<ul>
<li>特定高息产品秒杀销售时间窗有大量并发订单写入</li>
<li>平时只有少量订单查询和请求，和较低的常规产品购买请求</li>
</ul></li>
<li>评估应以满足最关键的业务高峰为基准</li>
<li>并发请求量

<ul>
<li>秒杀期间持续时间短，但是并发量预估30台应用服务器约2000tps</li>
</ul></li>
<li>读写比例

<ul>
<li>高峰时写订单是主要开销操作</li>
</ul></li>
<li>CPU要求高</li>
<li>磁盘IO要求很高</li>
<li>数据总量

<ul>
<li>根据业务分析，订单属于写入瞬时量大，总量较小，单笔金额较高</li>
<li>总量预估一年成交百万级别，增长较稳定</li>
<li>判断数据存储需求小于200G</li>
</ul></li>
<li>冷热数据

<ul>
<li>峰值写入为主，内存要求存放热点期间产生的脏数据即可</li>
</ul></li>
<li>数据分级存储需求

<ul>
<li>用户订单业务约定页面展示最近半年订单，半年前的需要到历史查询页面专门查询</li>
<li>因此可以做分级存储，迁移所有半年前的订单至历史库</li>
</ul></li>
<li>内存需求一般， &gt;= 30G</li>
<li>磁盘空间需求一般， &gt;=200G</li>
<li>磁盘IO能力需求很高</li>
<li>网络要求较高

<ul>
<li>并发流量较高</li>
<li>响应速度要求高</li>
</ul></li>
</ul>

<table>
<thead>
<tr>
<th align="left">资源指标</th>
<th align="left">可选方案</th>
</tr>
</thead>

<tbody>
<tr>
<td align="left">磁盘IO性能</td>
<td align="left">两块SSD做RAID1</td>
</tr>

<tr>
<td align="left">内存容量</td>
<td align="left">64G内存</td>
</tr>

<tr>
<td align="left">CPU</td>
<td align="left">2c8core超线程 相当于32核</td>
</tr>

<tr>
<td align="left">网络吞吐量</td>
<td align="left">万兆双网卡bunding</td>
</tr>

<tr>
<td align="left">磁盘容量</td>
<td align="left">600G</td>
</tr>
</tbody>
</table>

<h2 id="4-4-mysql性能测试">4.4-MySQL性能测试</h2>

<h3 id="为什么需要性能测试">为什么需要性能测试</h3>

<ul>
<li>对线上产品缺乏心理预估</li>
<li>重现线上异常</li>
<li>规划未来的业务增长</li>
<li>测试不同硬件软件配置</li>
</ul>

<h3 id="性能测试的分类">性能测试的分类</h3>

<ul>
<li>设备层的测试</li>
<li>业务层的测试</li>
<li>数据库层的测试</li>
</ul>

<h3 id="设备层的测试">设备层的测试</h3>

<ul>
<li>关注的指标

<ul>
<li>服务器、磁盘性能</li>
<li>磁盘坏块率</li>
<li>服务器寿命</li>
</ul></li>
</ul>

<h3 id="业务层测试">业务层测试</h3>

<ul>
<li>针对业务进行测试</li>
</ul>

<h3 id="数据库层测试">数据库层测试</h3>

<ul>
<li>什么情况下要做MySQL的测试

<ul>
<li>测试不同的MySQL分支版本</li>
<li>测试不同的MySQL版本</li>
<li>测试不同的MySQL参数搭配</li>
</ul></li>
</ul>

<h3 id="mysql测试分类">MySQL测试分类</h3>

<ul>
<li>CPU Bound</li>
<li>IO Bound</li>
</ul>

<p>写入测试
更新测试
纯读测试
混合模式</p>

<h3 id="常用的测试工具">常用的测试工具</h3>

<ul>
<li>开源的MySQL性能测试工具

<ul>
<li>sysbench</li>
<li>tpcc-mysql</li>
<li>mysqlslap</li>
</ul></li>
<li>针对业务编写性能测试工具

<ul>
<li>blogbench</li>
</ul></li>
</ul>

<h3 id="性能测试衡量指标">性能测试衡量指标</h3>

<ul>
<li>服务吞吐量(TPS, QPS)</li>
<li>服务响应时间</li>
<li>服务并发性</li>
</ul>

<h3 id="sysbench">Sysbench</h3>

<ul>
<li>业界较为出名的性能测试工具</li>
<li>可以测试磁盘、CPU、数据库</li>
<li>支持多种数据库：Oracle, DB2, MySQL</li>
<li>需要自己下载编译安装</li>
<li>建议版本：sysbench0.5</li>
</ul>

<h3 id="编译安装sysbench">编译安装Sysbench</h3>

<ul>
<li>下载sysbench

<ul>
<li><code>git clone https://github.com/akopytov/sysbench.git</code></li>
</ul></li>
<li>编译&amp;安装

<ul>
<li><code>./autogen.sh</code></li>
<li><code>./configure</code></li>
<li><code>make &amp;&amp; make install</code></li>
</ul></li>
</ul>

<h3 id="sysbench流程">Sysbench流程</h3>

<ul>
<li>常见的做法</li>
</ul>

<p>初始化数据 -&gt; 运行测试 -&gt; 清理数据</p>

<h3 id="prepare语法">Prepare语法</h3>

<pre><code class="language-bash">sysbench --test=parallel_prepare.lua --oltp_tables_count=1 --rand-init=on --oltp-table-size=500000000 --mysql-host=127.0.0.1 --mysql-port=3306 --mysql-user=sys --mysql-password=netease --mysql-db=sbtest --max-requests=0 prepare
</code></pre>

<table>
<thead>
<tr>
<th align="left">参数</th>
<th align="left">含义</th>
</tr>
</thead>

<tbody>
<tr>
<td align="left">&ndash;test=parallel_prepare.lua</td>
<td align="left">运行导数据的脚本</td>
</tr>

<tr>
<td align="left">&ndash;oltp_tables_count</td>
<td align="left">测试需要几张表</td>
</tr>

<tr>
<td align="left">&ndash;oltp-table-size</td>
<td align="left">每张表的大小</td>
</tr>

<tr>
<td align="left">&ndash;mysql-host</td>
<td align="left">MySQL Host</td>
</tr>

<tr>
<td align="left">&ndash;mysql-port</td>
<td align="left">MySQL Port</td>
</tr>

<tr>
<td align="left">&ndash;mysql-db</td>
<td align="left">MySQL DB</td>
</tr>

<tr>
<td align="left">&ndash;mysql-user</td>
<td align="left">MySQL User</td>
</tr>

<tr>
<td align="left">&ndash;mysql-password</td>
<td align="left">MySQL Password</td>
</tr>

<tr>
<td align="left">&ndash;rand-init</td>
<td align="left">是否随机初始化数据</td>
</tr>

<tr>
<td align="left">&ndash;max-requests</td>
<td align="left">执行多少个请求之后停止</td>
</tr>

<tr>
<td align="left">prepare</td>
<td align="left">执行导数据</td>
</tr>
</tbody>
</table>

<h3 id="sysbench表结构">Sysbench表结构</h3>

<pre><code class="language-sql">create table 'sbtest1'(
  'id' int(10) unsigned not null AUTO_INCREMENT,
  'k' int(10) unsigned not null DEFAULT '0',
  'c' char(120) not null DEFAULT '',
  'pad' char(60) not null DEFAULT '',
  PRIMARY KEY ('id'),
  KEY 'k_1' ('k')
) ENGINE=InnoDB AUTO_INCREMENT=3000000001 DEFAULT CHARSET=utf8 MAX_ROWS=1000000
</code></pre>

<h3 id="run语法">Run语法</h3>

<pre><code class="language-bash">sysbench --test=oltp.lua --oltp_tables_count=1 --num-threads=100 --oltp-table-size=500000000 --oltp-read-only=off --report-interval=10 --rand-type=uniform --mysql-host=127.0.0.1 --mysql-port=3306 --mysql-user=sys --mysql-password=netease --mysql-db=sbtest --max-time=1000 --max-requests=0 run
</code></pre>

<table>
<thead>
<tr>
<th align="left">参数</th>
<th align="left">含义</th>
</tr>
</thead>

<tbody>
<tr>
<td align="left">&ndash;test=oltp.lua</td>
<td align="left">需要运行的lua脚本</td>
</tr>

<tr>
<td align="left">&ndash;oltp_tables_count</td>
<td align="left">测试需要几张表</td>
</tr>

<tr>
<td align="left">&ndash;oltp-table-size</td>
<td align="left">每张表的大小</td>
</tr>

<tr>
<td align="left">&ndash;num-threads</td>
<td align="left">测试并发线程数</td>
</tr>

<tr>
<td align="left">&ndash;oltp-read-only</td>
<td align="left">是否为只读测试</td>
</tr>

<tr>
<td align="left">&ndash;report-interval</td>
<td align="left">结果输出间隔</td>
</tr>

<tr>
<td align="left">&ndash;rand-type</td>
<td align="left">数据分布模式，热点数据或者随机数据</td>
</tr>

<tr>
<td align="left">&ndash;max-time</td>
<td align="left">最大运行时间</td>
</tr>

<tr>
<td align="left">&ndash;max-requests</td>
<td align="left">执行多少个请求之后停止</td>
</tr>

<tr>
<td align="left">prepare</td>
<td align="left">开始测试</td>
</tr>
</tbody>
</table>

<h3 id="特殊情况">特殊情况</h3>

<ul>
<li>写入测试</li>
</ul>

<p>写入数据进行测试 -&gt; 清理数据</p>

<h3 id="cleanup">cleanup</h3>

<ul>
<li>手动drop掉表和database</li>
<li>使用sysbench提供的cleanup命令</li>
</ul>

<pre><code class="language-bash">sysbench --test=parallel_prepare.lua --oltp_tables_count=1 --rand-init=on --oltp-table-size=500000000 --mysql-host=127.0.0.1 --mysql-port=3306 --mysql-user=sys --mysql-password=netease --mysql-db=sbtest --max-requests=0 cleanup
</code></pre>

<h3 id="tpcc-mysql">Tpcc-mysql</h3>

<ul>
<li>TPC-C是专门针对联机交易处理系统(OLTP系统)的规范</li>

<li><p>Tpcc-mysql由percona根据规范实现</p></li>

<li><p>下载Tpcc-mysql</p>

<ul>
<li><code>bzr branch lp:~percona-dev/perconatools/tpcc-mysql</code></li>
</ul></li>

<li><p>编译安装</p></li>
</ul>

<h3 id="使用tpcc-mysql的步骤">使用Tpcc-mysql的步骤</h3>

<p>创建表结构和索引 -&gt; 导数据 -&gt; 运行测试 -&gt; 数据清理</p>

<h3 id="创建表结构">创建表结构</h3>

<ul>
<li>create_table.sql</li>
<li>add_fkey_idx.sql</li>
</ul>

<h3 id="tpcc-load">Tpcc-load</h3>

<p><code>tpcc_load [server] [DB] [user] [pass] [warehouse]</code></p>

<table>
<thead>
<tr>
<th align="left">函数</th>
<th align="left">含义</th>
</tr>
</thead>

<tbody>
<tr>
<td align="left">server</td>
<td align="left">数据库IP</td>
</tr>

<tr>
<td align="left">DB</td>
<td align="left">DB名称</td>
</tr>

<tr>
<td align="left">user</td>
<td align="left">用户名</td>
</tr>

<tr>
<td align="left">pass</td>
<td align="left">密码</td>
</tr>

<tr>
<td align="left">warehouse</td>
<td align="left">仓库数量</td>
</tr>
</tbody>
</table>

<h3 id="tpcc-start">Tpcc-start</h3>

<pre><code class="language-bash">tpcc_start -h server_host -P port -d database_name -u mysql_user -p mysql_password -w warehouse -c connections -r warmup_time -I running_time -i report-interval -f report-file
</code></pre>

<table>
<thead>
<tr>
<th align="left">函数</th>
<th align="left">含义</th>
</tr>
</thead>

<tbody>
<tr>
<td align="left">warehouse</td>
<td align="left">仓库数量</td>
</tr>

<tr>
<td align="left">connections</td>
<td align="left">并发线程数</td>
</tr>

<tr>
<td align="left">warmup_time</td>
<td align="left">预热时间</td>
</tr>

<tr>
<td align="left">running_time</td>
<td align="left">运行时间</td>
</tr>

<tr>
<td align="left">report_interval</td>
<td align="left">输出时间间隔</td>
</tr>

<tr>
<td align="left">report_file</td>
<td align="left">输出文件</td>
</tr>
</tbody>
</table>

<h3 id="总结">总结</h3>

<ul>
<li>IO Bound测试数据量要远大于内存、CPU Bound测试数据量要小于内存</li>
<li>测试时间建议大于60分钟，减小误差</li>
<li>Sysbench更倾向于测试MySQL性能、TPCC更接近于业务</li>
<li>运行测试程序需要同时监控机器负载，MySQL各项监控指标</li>
</ul>

    </div>

    
    
<div class="post-copyright">
  <p class="copyright-item">
    <span class="item-title">Author</span>
    <span class="item-content">zch</span>
  </p>
  <p class="copyright-item">
    <span class="item-title">LastMod</span>
    <span class="item-content">
      2021-02-14
      
    </span>
  </p>
  
  <p class="copyright-item">
    <span class="item-title">License</span>
    <span class="item-content"><a rel="license noopener" href="https://creativecommons.org/licenses/by-nc-nd/4.0/" target="_blank">CC BY-NC-ND 4.0</a></span>
  </p>
</div>


    
    

    <footer class="post-footer">
      <div class="post-tags">
          
        </div>

      
      <nav class="post-nav">
        
          <a class="prev" href="/studyDocument/post/uuid_t_%E7%BD%91%E6%98%93%E4%BA%91%E8%AF%BE%E5%A0%82mysql_%E7%BD%91%E6%98%93%E4%BA%91%E8%AF%BE%E5%A0%82mysql_chapter3/">
            
            <i class="iconfont">
              <svg  class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="18" height="18">
  <path d="M691.908486 949.511495l75.369571-89.491197c10.963703-12.998035 10.285251-32.864502-1.499144-44.378743L479.499795 515.267417 757.434875 204.940602c11.338233-12.190647 11.035334-32.285311-0.638543-44.850487l-80.46666-86.564541c-11.680017-12.583596-30.356378-12.893658-41.662889-0.716314L257.233596 494.235404c-11.332093 12.183484-11.041474 32.266891 0.657986 44.844348l80.46666 86.564541c1.772366 1.910513 3.706415 3.533476 5.750981 4.877077l306.620399 321.703933C662.505829 963.726242 680.945807 962.528973 691.908486 949.511495z"></path>
</svg>

            </i>
            <span class="prev-text nav-default">网易云课堂MySQL &gt; chapter3</span>
            <span class="prev-text nav-mobile">Prev</span>
          </a>
        
          <a class="next" href="/studyDocument/post/uuid_t_%E7%BD%91%E6%98%93%E4%BA%91%E8%AF%BE%E5%A0%82mysql_%E7%BD%91%E6%98%93%E4%BA%91%E8%AF%BE%E5%A0%82mysql_chapter5/">
            <span class="next-text nav-default">网易云课堂MySQL &gt; chapter5</span>
            <span class="prev-text nav-mobile">Next</span>
            
            <i class="iconfont">
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="18" height="18">
  <path d="M332.091514 74.487481l-75.369571 89.491197c-10.963703 12.998035-10.285251 32.864502 1.499144 44.378743l286.278095 300.375162L266.565125 819.058374c-11.338233 12.190647-11.035334 32.285311 0.638543 44.850487l80.46666 86.564541c11.680017 12.583596 30.356378 12.893658 41.662889 0.716314l377.434212-421.426145c11.332093-12.183484 11.041474-32.266891-0.657986-44.844348l-80.46666-86.564541c-1.772366-1.910513-3.706415-3.533476-5.750981-4.877077L373.270379 71.774697C361.493148 60.273758 343.054193 61.470003 332.091514 74.487481z"></path>
</svg>

            </i>
          </a>
      </nav>
    </footer>
  </article>

  
  

  
  

  

  
  

  

  

  

    

  

        </div>
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="icon-links">
  
  
    <a href="mailto:your@email.com" rel="me noopener" class="iconfont"
      title="email" >
      <svg class="icon" viewBox="0 0 1451 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="36" height="36">
  <path d="M664.781909 681.472759 0 97.881301C0 3.997201 71.046997 0 71.046997 0L474.477909 0 961.649408 0 1361.641813 0C1361.641813 0 1432.688811 3.997201 1432.688811 97.881301L771.345323 681.472759C771.345323 681.472759 764.482731 685.154773 753.594283 688.65053L753.594283 688.664858C741.602731 693.493018 729.424896 695.068979 718.077952 694.839748 706.731093 695.068979 694.553173 693.493018 682.561621 688.664858L682.561621 688.65053C671.644501 685.140446 664.781909 681.472759 664.781909 681.472759L664.781909 681.472759ZM718.063616 811.603883C693.779541 811.016482 658.879232 802.205449 619.10784 767.734955 542.989056 701.759633 0 212.052267 0 212.052267L0 942.809523C0 942.809523 0 1024 83.726336 1024L682.532949 1024 753.579947 1024 1348.948139 1024C1432.688811 1024 1432.688811 942.809523 1432.688811 942.809523L1432.688811 212.052267C1432.688811 212.052267 893.138176 701.759633 817.019477 767.734955 777.248 802.205449 742.347691 811.03081 718.063616 811.603883L718.063616 811.603883Z"></path>
</svg>

    </a>
  
    <a href="http://localhost:1313" rel="me noopener" class="iconfont"
      title="stack-overflow"  target="_blank"
      >
      <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="36" height="36">
  <path d="M809.714286 932.571429l-638.857143 0 0-274.285714-91.428571 0 0 365.714286 821.714286 0 0-365.714286-91.428571 0 0 274.285714zm-538.285714-299.428571l18.857143-89.714286 447.428571 94.285714-18.857143 89.142857zm58.857143-213.714286l38.285714-83.428571 414.285714 193.714286-38.285714 82.857143zm114.857143-203.428571l58.285714-70.285714 350.857143 293.142857-58.285714 70.285714zm226.857143-216l272.571429 366.285714-73.142857 54.857143-272.571429-366.285714zm-410.285714 840.571429l0-90.857143 457.142857 0 0 90.857143-457.142857 0z"></path>
</svg>

    </a>
  
    <a href="http://localhost:1313" rel="me noopener" class="iconfont"
      title="twitter"  target="_blank"
      >
      <svg class="icon" viewBox="0 0 1264 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="36" height="36">
  <path d="M1229.8616 18.043658c0 0-117.852626 63.135335-164.151872 67.344358-105.225559-164.151872-505.082682-92.598492-437.738325 223.078185C278.622548 312.675223 89.216542 47.506814 89.216542 47.506814s-117.852626 189.406006 75.762402 345.139833C127.097743 396.85567 55.544363 371.601535 55.544363 371.601535S26.081207 535.753407 253.368414 615.724832c-21.045112 29.463156-113.643603 8.418045-113.643603 8.418045s25.254134 143.10676 231.496229 180.987961c-143.10676 130.479693-387.230056 92.598492-370.393967 105.225559 206.242095 189.406006 1119.599946 231.496229 1128.01799-643.98042C1179.353331 249.539887 1263.533778 123.269217 1263.533778 123.269217s-130.479693 37.881201-138.897738 33.672179C1225.652577 98.015083 1229.8616 18.043658 1229.8616 18.043658"></path>
</svg>

    </a>
  
    <a href="http://localhost:1313" rel="me noopener" class="iconfont"
      title="facebook"  target="_blank"
      >
      <svg class="icon" style="" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="33" height="33">
  <path d="M965.7344 2.7648c14.848 0 28.2624 5.5296 40.2432 16.6912C1017.9584 30.5152 1024 43.52 1024 58.2656l0 910.2336c0 14.848-6.0416 27.7504-18.0224 38.8096C993.8944 1018.4704 980.48 1024 965.7344 1024L704.9216 1024 704.9216 629.9648l133.2224 0 19.456-155.4432-152.576 0L705.024 373.0432c0-50.688 25.9072-76.0832 77.7216-76.0832l80.4864 0L863.232 163.5328c-27.7504-5.4272-67.4816-8.192-119.296-8.192-59.1872 0-106.8032 18.0224-142.9504 54.0672C564.736 245.5552 546.7136 296.0384 546.7136 360.7552l0 113.7664L413.4912 474.5216l0 155.4432 133.2224 0L546.7136 1024 55.5008 1024c-14.848 0-27.7504-5.5296-38.8096-16.6912C5.5296 996.2496 0 983.3472 0 968.4992L0 58.2656C0 43.52 5.5296 30.5152 16.6912 19.456c11.0592-11.0592 24.064-16.6912 38.8096-16.6912L965.7344 2.7648z"></path>
</svg>

    </a>
  
    <a href="http://localhost:1313" rel="me noopener" class="iconfont"
      title="linkedin"  target="_blank"
      >
      <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="33" height="33">
  <path d="M872.405333 872.618667h-151.637333v-237.610667c0-56.661333-1.152-129.578667-79.018667-129.578667-79.061333 0-91.136 61.653333-91.136 125.397334v241.792H398.976V384h145.664v66.602667h1.962667c20.352-38.4 69.845333-78.933333 143.786666-78.933334 153.642667 0 182.058667 101.12 182.058667 232.746667v268.202667zM227.712 317.141333a87.978667 87.978667 0 0 1-88.021333-88.106666 88.064 88.064 0 1 1 88.021333 88.106666z m76.032 555.477334H151.68V384h152.064v488.618667zM948.266667 0H75.562667C33.792 0 0 33.024 0 73.770667v876.458666C0 991.018667 33.792 1024 75.562667 1024h872.576C989.866667 1024 1024 991.018667 1024 950.229333V73.770667C1024 33.024 989.866667 0 948.138667 0h0.128z"></path>
</svg>

    </a>
  
    <a href="http://localhost:1313" rel="me noopener" class="iconfont"
      title="google"  target="_blank"
      >
      <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="36" height="36">
  <path d="M853.333333 85.333333C900.266667 85.333333 938.666667 123.733333 938.666667 170.666667L938.666667 853.333333C938.666667 900.266667 900.266667 938.666667 853.333333 938.666667L170.666667 938.666667C123.733333 938.666667 85.333333 900.266667 85.333333 853.333333L85.333333 170.666667C85.333333 123.306667 123.733333 85.333333 170.666667 85.333333L853.333333 85.333333M853.333333 512 768 512 768 426.666667 725.333333 426.666667 725.333333 512 640 512 640 554.666667 725.333333 554.666667 725.333333 640 768 640 768 554.666667 853.333333 554.666667 853.333333 512M384 481.706667 384 554.666667 506.026667 554.666667C499.626667 584.96 469.333333 645.973333 384 645.973333 311.04 645.973333 253.013333 584.96 253.013333 512 253.013333 439.04 311.04 378.026667 384 378.026667 426.666667 378.026667 453.973333 396.373333 469.333333 411.306667L527.36 356.693333C490.666667 320 442.026667 298.666667 384 298.666667 264.96 298.666667 170.666667 392.96 170.666667 512 170.666667 631.04 264.96 725.333333 384 725.333333 506.026667 725.333333 588.373333 640 588.373333 517.973333 588.373333 503.04 588.373333 493.653333 584.96 481.706667L384 481.706667Z"></path>
</svg>

    </a>
  
    <a href="http://localhost:1313" rel="me noopener" class="iconfont"
      title="github"  target="_blank"
      >
      <svg class="icon" style="" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="36" height="36">
  <path d="M512 12.672c-282.88 0-512 229.248-512 512 0 226.261333 146.688 418.133333 350.08 485.76 25.6 4.821333 34.986667-11.008 34.986667-24.618667 0-12.16-0.426667-44.373333-0.64-87.04-142.421333 30.890667-172.458667-68.693333-172.458667-68.693333C188.672 770.986667 155.008 755.2 155.008 755.2c-46.378667-31.744 3.584-31.104 3.584-31.104 51.413333 3.584 78.421333 52.736 78.421333 52.736 45.653333 78.293333 119.850667 55.68 149.12 42.581333 4.608-33.109333 17.792-55.68 32.426667-68.48-113.706667-12.8-233.216-56.832-233.216-253.013333 0-55.893333 19.84-101.546667 52.693333-137.386667-5.76-12.928-23.04-64.981333 4.48-135.509333 0 0 42.88-13.738667 140.8 52.48 40.96-11.392 84.48-17.024 128-17.28 43.52 0.256 87.04 5.888 128 17.28 97.28-66.218667 140.16-52.48 140.16-52.48 27.52 70.528 10.24 122.581333 5.12 135.509333 32.64 35.84 52.48 81.493333 52.48 137.386667 0 196.693333-119.68 240-233.6 252.586667 17.92 15.36 34.56 46.762667 34.56 94.72 0 68.522667-0.64 123.562667-0.64 140.202666 0 13.44 8.96 29.44 35.2 24.32C877.44 942.592 1024 750.592 1024 524.672c0-282.752-229.248-512-512-512"></path>
</svg>

    </a>
  
    <a href="http://localhost:1313" rel="me noopener" class="iconfont"
      title="weibo"  target="_blank"
      >
      <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="36" height="36">
  <path d="M385.714286 733.714286q12-19.428571 6.285714-39.428571t-25.714286-28.571429q-19.428571-8-41.714286-0.571429t-34.285714 26.285714q-12.571429 19.428571-7.428571 39.142857t24.571429 28.857143 42.571429 1.428571 35.714286-27.142857zm53.714286-69.142857q4.571429-7.428571 2-15.142857t-10-10.571429q-8-2.857143-16.285714 2.857143t-12.285714 10.571429q-9.714286 17.714286 7.428571 25.714286 8 2.857143 16.571429 2.857143t12.571429-10.571429zm99.428571 61.142857q-25.714286 58.285714-90.285714 85.714286t-128 6.857143q-61.142857-19.428571-84.285714-72.285714t3.714286-107.142857q26.857143-53.142857 86.571429-79.428571t120.285714-10.857143q63.428571 16.571429 90.571429 68.285714t1.428571 108.857143zm178.285714-91.428571q-5.142857-54.857143-50.857143-97.142857t-119.142857-62.285714-156.857143-12q-127.428571 13.142857-211.142857 80.857143t-75.714286 151.142857q5.142857 54.857143 50.857143 97.142857t119.142857 62.285714 156.857143 12q127.428571-13.142857 211.142857-80.857143t75.714286-151.142857zm176 2.285714q0 38.857143-21.142857 79.714286t-62.285714 78.285714-96.285714 67.142857-129.142857 47.428571-154.571429 17.714286-157.142857-19.142857-137.428571-53.142857-98-86.285714-37.142857-114q0-65.714286 39.714286-140t112.857143-147.428571q96.571429-96.571429 195.142857-134.857143t140.857143 4q37.142857 36.571429 11.428571 119.428571-2.285714 8-0.571429 11.428571t5.714286 4 8.285714 2.857143 7.714286-2l3.428571-1.142857q79.428571-33.714286 140.571429-33.714286t87.428571 34.857143q25.714286 36 0 101.714286-1.142857 7.428571-2.571429 11.428571t2.571429 7.142857 6.857143 4.285714 9.714286 3.428571q32.571429 10.285714 58.857143 26.857143t45.714286 46.571429 19.428571 66.571429zm-42.285714-356.571429q24 26.857143 31.142857 62t-3.714286 67.142857q-4.571429 13.142857-16.857143 19.428571t-25.428571 2.285714q-13.142857-4.571429-19.428571-16.857143t-2.285714-25.428571q11.428571-36-13.714286-63.428571t-61.142857-20q-13.714286 2.857143-25.714286-4.571429t-14.285714-21.142857q-2.857143-13.714286 4.571429-25.428571t21.142857-14.571429q34.285714-7.428571 68 3.142857t57.714286 37.428571zm103.428571-93.142857q49.714286 54.857143 64.285714 127.142857t-7.714286 138q-5.142857 15.428571-19.428571 22.857143t-29.714286 2.285714-22.857143-19.428571-2.857143-29.714286q16-46.857143 5.714286-98.285714t-45.714286-90.285714q-35.428571-39.428571-84.571429-54.571429t-98.857143-4.857143q-16 3.428571-29.714286-5.428571t-17.142857-24.857143 5.428571-29.428571 24.857143-16.857143q70.285714-14.857143 139.428571 6.571429t118.857143 76.857143z"></path>
</svg>

    </a>
  
    <a href="http://localhost:1313" rel="me noopener" class="iconfont"
      title="zhihu"  target="_blank"
      >
      <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="36" height="36">
  <path d="M351.791182 562.469462l192.945407 0c0-45.367257-21.3871-71.939449-21.3871-71.939449L355.897709 490.530013c3.977591-82.182744 7.541767-187.659007 8.816806-226.835262l159.282726 0c0 0-0.86367-67.402109-18.578124-67.402109s-279.979646 0-279.979646 0 16.850783-88.141456 39.318494-127.053698c0 0-83.60514-4.510734-112.121614 106.962104S81.344656 355.077018 76.80834 367.390461c-4.536316 12.313443 24.62791 5.832845 36.941354 0 12.313443-5.832845 68.050885-25.924439 84.252893-103.69571l86.570681 0c1.165546 49.28652 4.596691 200.335724 3.515057 226.835262L109.86113 490.530013c-25.275663 18.147312-33.701566 71.939449-33.701566 71.939449L279.868105 562.469462c-8.497535 56.255235-23.417339 128.763642-44.275389 167.210279-33.05279 60.921511-50.55235 116.65793-169.802314 212.576513 0 0-19.442818 14.257725 40.829917 9.073656 60.273758-5.185093 117.305683-20.739347 156.840094-99.807147 20.553105-41.107233 41.805128-93.250824 58.386782-146.138358l-0.055259 0.185218 167.855986 193.263655c0 0 22.035876-51.847855 5.832845-108.880803L371.045711 650.610918l-42.1244 31.157627-0.045025 0.151449c11.69946-41.020252 20.11206-81.5749 22.726607-116.858498C351.665315 564.212152 351.72876 563.345412 351.791182 562.469462z"></path>
  <path d="M584.918753 182.033893l0 668.840094 70.318532 0 28.807093 80.512708 121.875768-80.512708 153.600307 0L959.520453 182.033893 584.918753 182.033893zM887.150192 778.934538l-79.837326 0-99.578949 65.782216-23.537066-65.782216-24.855084 0L659.341766 256.673847l227.807403 0L887.149169 778.934538z"></path>
</svg>

    </a>
  
    <a href="http://localhost:1313" rel="me noopener" class="iconfont"
      title="douban"  target="_blank"
      >
      <svg class="icon" style="" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="36" height="36">
  <path d="M926.917973 37.80608C959.65184 37.80608 986.19392 64.34816 986.19392 97.082027L986.19392 926.917973C986.19392 959.65184 959.65184 986.19392 926.917973 986.19392L97.082027 986.19392C64.34816 986.19392 37.80608 959.65184 37.80608 926.917973L37.80608 97.082027C37.80608 64.34816 64.34816 37.80608 97.082027 37.80608zM176.653653 176.19968 176.653653 252.678827 825.658027 252.678827 825.658027 176.19968zM217.719467 316.146347 217.719467 628.08064 273.524053 628.08064 341.292373 770.39616 157.259093 770.39616 157.259093 845.417813 842.949973 845.417813 842.949973 770.39616 654.226773 770.39616 722.899627 628.08064 783.67744 628.08064 783.67744 316.146347zM684.885333 392.891733 684.885333 553.987413 312.576 553.987413 312.576 392.891733zM570.770773 770.39616 426.653013 770.39616 359.621973 628.08064 639.443627 628.08064z"></path>
</svg>

    </a>
  
    <a href="http://localhost:1313" rel="me noopener" class="iconfont"
      title="pocket"  target="_blank"
      >
      <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="36" height="36">
  <path d="M912.569234 73.142857a88.429714 88.429714 0 0 1 88.576 89.161143v296.557714C1001.145234 732.562286 782.301806 950.857143 510.28352 950.857143A489.837714 489.837714 0 0 1 18.288091 458.861714V162.304A90.002286 90.002286 0 0 1 107.449234 73.142857h805.156572z m-402.285714 608a68.388571 68.388571 0 0 0 46.848-18.870857l230.838857-221.696a68.022857 68.022857 0 0 0 21.138286-48.566857 67.547429 67.547429 0 0 0-114.285714-48.566857l-184.576 177.152-184.576-177.152a67.328 67.328 0 0 0-46.299429-18.870857 67.547429 67.547429 0 0 0-46.884571 116.004571l231.424 221.696c11.995429 11.995429 29.147429 18.870857 46.299428 18.870857z"></path>
</svg>

    </a>
  
    <a href="http://localhost:1313" rel="me noopener" class="iconfont"
      title="tumblr"  target="_blank"
      >
      <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="36" height="36">
  <path d="M556.716946 378.027729l133.939525 0 0 89.307002L556.716946 467.334731 556.716946 601.318258c0 58.898435 8.290827 92.557022 53.140291 89.809445 10.382465-0.677429 22.25077-1.855254 35.687804-5.586229 13.437034-3.729951 24.257473-7.458879 32.372292-11.190877l12.739139-5.606695 0 82.546018c-3.403516 2.070148-8.463766 4.820796-15.007809 8.048303-6.631024 3.338025-21.029966 7.656377-43.016723 13.045107-21.988804 5.41022-44.937468 8.070816-68.844971 8.070816-51.395554 0-89.177042-10.994402-113.608477-33.17968-24.343431-22.097274-27.572986-56.147788-27.572986-101.195773L422.605505 467.334731l-89.263 0-0.435928-66.64077c38.480406-12.369725 67.798129-29.734208 88.128153-52.114938 20.332071-22.273283 33.333176-57.021691 38.829354-104.22783l96.853885-0.393973L556.717969 378.027729zM958.70846 243.958244l0 536.105001c0 98.730629-80.013335 178.722474-178.615027 178.722474L243.991502 958.785719c-98.774631 0-178.700985-79.991846-178.700985-178.722474L65.290517 243.958244c0-98.642624 79.925331-178.744987 178.700985-178.744987l536.102954 0C878.695125 65.213257 958.70846 145.31562 958.70846 243.958244zM869.44546 288.612257c0-74.015737-60.033281-133.961014-134.027529-133.961014L288.667004 154.651242c-73.994248 0-134.115534 59.945277-134.115534 133.961014l0 446.775486c0 74.015737 60.121286 133.983527 134.115534 133.983527l446.750927 0c73.994248 0 134.027529-59.96779 134.027529-133.983527L869.44546 288.612257z"></path>
</svg>

    </a>
  
    <a href="http://localhost:1313" rel="me noopener" class="iconfont"
      title="instagram"  target="_blank"
      >
      <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="36" height="36">
  <path d="M853.333333 277.333333C853.333333 289.28 843.946667 298.666667 832 298.666667L746.666667 298.666667C734.72 298.666667 725.333333 289.28 725.333333 277.333333L725.333333 192C725.333333 180.053333 734.72 170.666667 746.666667 170.666667L832 170.666667C843.946667 170.666667 853.333333 180.053333 853.333333 192M192 853.333333C180.053333 853.333333 170.666667 843.946667 170.666667 832L170.666667 469.333333 259.84 469.333333C257.28 482.986667 256 497.493333 256 512 256 653.226667 370.773333 768 512 768 653.226667 768 768 653.226667 768 512 768 497.493333 766.293333 482.986667 764.16 469.333333L853.333333 469.333333 853.333333 832C853.333333 843.946667 843.946667 853.333333 832 853.333333M512 341.333333C606.293333 341.333333 682.666667 417.706667 682.666667 512 682.666667 606.293333 606.293333 682.666667 512 682.666667 417.706667 682.666667 341.333333 606.293333 341.333333 512 341.333333 417.706667 417.706667 341.333333 512 341.333333M853.333333 85.333333 170.666667 85.333333C123.306667 85.333333 85.333333 123.306667 85.333333 170.666667L85.333333 853.333333C85.333333 900.266667 123.733333 938.666667 170.666667 938.666667L853.333333 938.666667C900.266667 938.666667 938.666667 900.266667 938.666667 853.333333L938.666667 170.666667C938.666667 123.306667 900.266667 85.333333 853.333333 85.333333Z"></path>
</svg>

    </a>
  
    <a href="http://localhost:1313" rel="me noopener" class="iconfont"
      title="gitlab"  target="_blank"
      >
      <svg class="icon" style="" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="36" height="36">
  <path d="M59.544137 403.419429L512.115566 983.405714 16.09728 623.396571a39.936 39.936 0 0 1-14.299429-43.995428l57.709715-176.018286z m264.009143 0h377.161143L512.152137 983.405714zM210.40128 53.723429l113.152 349.696H59.544137l113.152-349.696a20.041143 20.041143 0 0 1 37.705143 0z m754.285714 349.696l57.709715 176.018285a39.862857 39.862857 0 0 1-14.299429 43.995429l-496.018286 360.009143 452.571429-579.986286z m0 0h-264.009143l113.152-349.696a20.041143 20.041143 0 0 1 37.705143 0z"></path>
</svg>

    </a>
  
    <a href="http://localhost:1313" rel="me noopener" class="iconfont"
      title="goodreads"  target="_blank"
      >
      <svg viewBox="0 0 128 128" version="1.1"
  width="32" height="32">
  <path d="M 85.685714,45.48571 C 87.142857,56.14286 84.342857,68.05714 75.428571,74.25714 69.057143,78.68571 60.342857,78.28571 55.2,75.88571 44.6,70.94286 41.057143,59.14286 41.828571,48.11429 c 1.228572,-17.4 11.685715,-25.11429 21.514286,-25 13.4,-0.0571 20.514286,9.08571 22.342857,22.37142 z M 128,16 v 96 c 0,8.82857 -7.17143,16 -16,16 H 16 C 7.1714286,128 0,120.82857 0,112 V 16 C 0,7.17143 7.1714286,0 16,0 h 96 c 8.82857,0 16,7.17143 16,16 z M 94.285714,80.34286 c 0,0 -0.02857,-9.71429 -0.02857,-62.08572 H 85.97143 V 29.77143 C 85.742858,29.85713 85.628572,29.62857 85.514287,29.42857 82.771429,23.51429 75.257143,16.2 63.8,16.28571 48.971429,16.4 38.885714,25.2 35.057143,38.51429 33.828571,42.77143 33.4,47.11429 33.485714,51.54286 33.971429,73.8 46.371429,85.2 65.6,84.45714 73.857143,84.14286 81.171429,79.6 85.314286,71.54286 85.457143,71.25714 85.628571,71 85.8,70.71429 c 0.05714,0.0286 0.114286,0.0286 0.171429,0.0571 0.08571,1.08571 0.05714,8.77143 0.02857,9.85714 -0.05714,4.22857 -0.571429,8.42857 -2.057143,12.42857 -2.228571,6 -6.371428,9.91429 -12.714286,11.28572 -5.085714,1.11428 -10.171428,1.08571 -15.2,-0.34286 C 49.885714,102.25714 45.6,98.57143 44.285714,92.05714 44.2,91.6 43.914286,91.68571 43.628571,91.68571 H 35.971429 C 36.2,94.71429 36.885714,97.48571 38.4,100.02857 45.314286,111.6 62.028571,113.88571 75.028571,110.71429 89.285714,107.2 94.257143,95.02857 94.285714,80.34286 Z" />
</svg>

    </a>
  
    <a href="http://localhost:1313" rel="me noopener" class="iconfont"
      title="coding"  target="_blank"
      >
      <svg class="icon" style="" viewBox="0 0 1024 1024" version="1.1"
  width="36" height="36">
  <path
      d="m 313.5359,557.51414 c 9.229,0 16.57801,8.88719 16.57801,19.99616 0,11.10899 -7.34901,19.99617 -16.57801,19.99617 -9.229,0 -16.57801,-8.88718 -16.57801,-19.99617 0,-11.10897 7.34901,-19.99616 16.57801,-19.99616 z m 393.7706,0 c 9.22899,0 16.57802,8.88719 16.57802,19.99616 0,11.10899 -7.34903,19.99617 -16.57802,19.99617 -9.229,0 -16.57802,-8.88718 -16.57802,-19.99617 0,-11.10897 7.34902,-19.99616 16.57802,-19.99616 z"
      id="path6"/>
  <path
      d="m 945.8932,448.98796 c -27.17427,0 -51.1013,17.26164 -64.43208,43.23957 C 836.17066,393.44306 741.8298,302.00762 625.27096,264.23708 562.37704,239.1137 518.28294,190.57601 512.8139,134.17657 507.34486,190.74691 463.25077,239.1137 400.35685,264.23708 283.79802,301.83671 189.45714,393.44306 144.16669,492.22753 130.83591,466.2496 107.07979,448.98796 79.734607,448.98796 c -41.701401,0 -75.541066,40.84686 -75.541066,91.26454 0,50.41768 33.839665,91.26454 75.541066,91.26454 12.64715,0 24.610663,-3.75996 35.206923,-10.42536 3.58906,163.55837 180.30728,269.69186 397.87237,270.03367 217.5651,-0.34181 394.28332,-106.4753 397.87238,-270.03367 10.42535,6.6654 22.55977,10.42536 35.20692,10.42536 41.7014,0 75.541,-40.84686 75.541,-91.26454 0.171,-50.41768 -33.6687,-91.26454 -75.541,-91.26454 z M 114.2579,568.79403 c -3.58906,13.15987 -19.312535,18.79981 -35.206921,12.47625 -15.894385,-6.15267 -25.977916,-21.87616 -22.388867,-35.03602 3.58906,-13.15987 19.312533,-18.79981 35.206919,-12.47624 15.894389,6.15267 25.807019,21.87614 22.388869,35.03601 z m 398.556,276.69904 C 338.31748,845.15126 196.97707,762.603 196.97707,644.33509 c 0,-2.56361 0.1709,-4.95631 0.1709,-7.34902 0,-0.85453 0,-1.53817 0.17092,-2.3927 0.1709,-1.70908 0.34181,-3.41814 0.34181,-4.95631 0.1709,-2.22179 0.51273,-4.44359 0.85454,-6.6654 0,-0.1709 0,-0.51271 0.1709,-0.68362 3.58906,-23.2434 12.47624,-58.79214 26.14883,-79.13012 32.64331,-47.51224 90.92273,-78.9592 157.23479,-78.9592 51.1013,0 97.41721,18.79981 130.91506,49.05041 33.49784,-30.2506 79.64283,-49.05041 130.91504,-49.05041 66.48298,0 124.59148,31.61786 157.23479,78.9592 13.67259,20.50889 22.55977,55.88672 26.14883,79.13012 0,0.17091 0,0.51272 0.17091,0.68362 0.34182,2.22181 0.51272,4.44361 0.85453,6.6654 0.17091,1.70907 0.34181,3.24723 0.34181,4.95631 0,0.85453 0.17092,1.53817 0.17092,2.3927 0.17091,2.39271 0.17091,4.95631 0.17091,7.34902 C 828.82165,762.603 687.48124,845.15126 512.8139,845.49307 Z M 946.74774,581.27028 c -15.89439,6.15265 -31.61787,0.68362 -35.20692,-12.47625 -3.58906,-13.15987 6.49448,-28.88334 22.38887,-35.03601 15.89438,-6.15267 31.61786,-0.68363 35.20692,12.47624 3.41815,12.98896 -6.49448,28.71243 -22.38887,35.03602 z"
      id="path8"/>
</svg>

    </a>
  
    <a href="http://localhost:1313" rel="me noopener" class="iconfont"
      title="bilibili"  target="_blank"
      >
      <svg
  class="icon" style="" viewBox="0 0 1024 1024" version="1.1" width="36"
  height="36" id="svg8">
  <path
      style=""
      d="M 744.60599,0.00486267 A 41.779915,41.779915 0 0 0 710.4184,18.673394 L 548.5048,255.32642 h -11.70046 a 41.779915,41.779915 0 0 0 -10.80295,-7.84928 L 235.66,97.084498 a 41.779915,41.779915 0 0 0 -20.07193,-4.960864 41.779915,41.779915 0 0 0 -18.3748,79.145436 L 359.4859,255.32642 H 128.16909 c -49.458302,0 -89.27932,39.82105 -89.27932,89.27932 v 508.65224 c 0,49.4583 39.821018,89.27934 89.27932,89.27934 h 19.48445 C 149.12802,984.5043 179.92773,1024 224.79179,1024 c 44.86407,0 75.66379,-39.4957 77.13826,-81.46268 H 719.98116 C 721.45559,984.5043 752.25533,1024 797.1194,1024 c 44.86406,0 75.6638,-39.4957 77.13824,-81.46268 h 21.57323 c 49.45831,0 89.27936,-39.82104 89.27936,-89.27934 V 344.60574 c 0,-49.45827 -39.82105,-89.27932 -89.27936,-89.27932 H 649.74567 L 779.38103,65.866924 A 41.779915,41.779915 0 0 0 744.60599,0.00486267 Z M 644.49108,418.70871 c 6.29985,0.21538 12.44451,2.01107 17.86888,5.22196 l 171.36218,98.10771 c 18.23417,10.21935 24.63334,33.34627 14.24614,51.48533 -10.38726,18.13909 -33.57344,24.32718 -51.61587,13.77296 L 624.9903,489.18895 c -15.21356,-8.41858 -22.66871,-26.1765 -18.03211,-42.93436 4.63664,-16.75784 20.15573,-28.14465 37.53289,-27.54588 z M 350.2006,432.31846 c 16.89952,0.0317 31.69582,11.33328 36.17844,27.62747 4.48262,16.2942 -2.44981,33.57765 -16.95507,42.24898 l -140.7157,86.91312 c -17.68528,11.18244 -41.09629,5.77692 -52.08912,-12.02686 -10.99282,-17.80373 -5.33855,-41.15658 12.58167,-51.95857 L 329.9002,438.2095 c 6.0643,-3.86439 13.10951,-5.90891 20.3004,-5.89104 z M 501.605,641.53985 c 3.75002,-0.15248 7.48645,0.53903 10.93349,2.0235 0.15842,0.0637 0.31618,0.12888 0.47325,0.19582 0.59328,0.27092 1.17574,0.56489 1.74609,0.88121 0.15868,0.0854 0.31643,0.17233 0.47325,0.2611 0.55694,0.32165 1.10131,0.66458 1.63185,1.02807 0.16455,0.1123 0.32777,0.2265 0.48956,0.34269 0.50382,0.36781 0.99371,0.75428 1.46868,1.15864 0.18724,0.15504 0.37218,0.31282 0.55484,0.47323 0.43271,0.38784 0.8518,0.79061 1.25653,1.20756 0.15449,0.16114 0.30679,0.32437 0.45693,0.48959 0.40798,0.44266 0.79989,0.89988 1.17494,1.37076 0.17799,0.22544 0.35205,0.45395 0.5222,0.68538 0.25932,0.34701 0.50964,0.70071 0.75064,1.06071 0.26712,0.39516 0.52286,0.79784 0.76699,1.20757 0.16907,0.29043 0.33231,0.58424 0.48957,0.88123 0.21836,0.41297 0.42513,0.83199 0.62009,1.25653 0.14836,0.32333 0.28983,0.64976 0.42429,0.97911 0.21319,0.51552 0.40915,1.03801 0.58747,1.5666 0.0677,0.19499 0.13296,0.39085 0.19582,0.58748 0.18652,0.60823 0.34984,1.22334 0.48957,1.84399 0.0397,0.16277 0.0779,0.32601 0.11423,0.48957 0.1436,0.69112 0.25788,1.38801 0.34269,2.08877 0.005,0.0381 0.0111,0.0761 0.0163,0.11424 0.0857,0.78056 0.13474,1.56471 0.14687,2.34988 0.005,0.0543 0.0111,0.10879 0.0163,0.1632 0,0 -0.008,1.12132 0,1.45234 0,0 -0.14697,17.84761 5.89102,34.12231 3.01902,8.13734 7.33278,15.10615 12.61433,19.61501 5.28157,4.50889 11.42894,7.62081 23.64572,7.62081 12.2168,0 18.36416,-3.11192 23.64573,-7.62081 5.28154,-4.50886 9.5953,-11.47767 12.6143,-19.61501 6.03799,-16.2747 5.89103,-34.12231 5.89103,-34.12231 -0.44885,-13.87045 10.45922,-25.46302 24.3311,-25.86506 13.87189,-0.40201 25.42828,10.53953 25.78348,24.41272 0,0 1.11929,25.7226 -9.00791,53.01927 -5.06359,13.64832 -13.1986,28.46036 -27.05631,40.29073 -13.85772,11.83039 -33.5454,19.63135 -56.20142,19.63135 -22.65603,0 -42.34371,-7.80096 -56.20141,-19.63135 -4.1801,-3.56856 -7.78733,-7.42433 -10.99878,-11.42303 -3.21235,4.00037 -6.81703,7.85309 -10.99876,11.42303 -13.85773,11.83039 -33.5454,19.63135 -56.20144,19.63135 -22.65601,0 -42.3437,-7.80096 -56.2014,-19.63135 -13.85775,-11.83037 -21.99272,-26.64241 -27.05632,-40.29073 -10.12725,-27.29667 -9.00789,-53.01928 -9.00789,-53.01927 0.20714,-13.83687 11.58744,-24.88848 25.42444,-24.69013 14.1263,0.19991 25.2971,12.0278 24.69011,26.14247 0,0 -0.14697,17.84761 5.89103,34.12231 3.01902,8.13734 7.31646,15.10615 12.598,19.61501 5.28155,4.50889 11.44526,7.62081 23.66203,7.62081 12.21681,0 18.36418,-3.11192 23.64573,-7.62081 5.28154,-4.50886 9.57899,-11.47767 12.598,-19.61501 5.76352,-15.53489 5.89112,-32.05691 5.89103,-33.56746 0.006,-0.37466 0.0111,-1.05336 0.0163,-1.20759 -0.0117,-0.74583 0.0105,-1.49177 0.0652,-2.23565 0.009,-0.15784 0.0204,-0.31561 0.0327,-0.47324 0.14204,-1.56859 0.43163,-3.12027 0.86487,-4.63449 0.0213,-0.0763 0.0433,-0.15244 0.0652,-0.22848 3.0335,-10.25748 12.24157,-17.46007 22.92769,-17.93417 z"
      id="rect824"/>
</svg>

    </a>
  
    <a href="http://localhost:1313" rel="me noopener" class="iconfont"
      title="codeforces"  target="_blank"
      >
      <svg width="36" height="36" class="icon" style="" version="1.1" viewBox="0 0 1024 1024">
<path d="M 192 334.2 C 227.3 334.2 256 369.2 256 412.4 v 547.5 C 256 1003.2 227.3 1038.2 192 1038.2 H 64 C 28.7 1038.2 0 1003.2 0 960 V 412.4 C 0 369.2 28.7 334.2 64 334.2 h 128 z m 384 -234.7 C 611.3 99.6 640 134.5 640 177.8 v 782.2 C 640 1003.2 611.3 1038.2 576 1038.2 H 448 C 412.7 1038.2 384 1003.2 384 960 V 177.8 C 384 134.5 412.7 99.6 448 99.6 h 128 z m 384 391.1 C 995.3 490.6 1024 525.7 1024 568.9 v 391.1 C 1024 1003.2 995.3 1038.2 960 1038.2 h -128 C 796.7 1038.2 768 1003.2 768 960 V 568.9 C 768 525.7 796.7 490.6 832 490.6 h 128 z" />
</svg>

    </a>
  
    <a href="http://localhost:1313" rel="me noopener" class="iconfont"
      title="mastodon"  target="_blank"
      >
      <svg class="icon" style="" viewBox="0 0 448 512" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="36" height="36"><path fill="currentColor" d="M433 179.11c0-97.2-63.71-125.7-63.71-125.7-62.52-28.7-228.56-28.4-290.48 0 0 0-63.72 28.5-63.72 125.7 0 115.7-6.6 259.4 105.63 289.1 40.51 10.7 75.32 13 103.33 11.4 50.81-2.8 79.32-18.1 79.32-18.1l-1.7-36.9s-36.31 11.4-77.12 10.1c-40.41-1.4-83-4.4-89.63-54a102.54 102.54 0 0 1-.9-13.9c85.63 20.9 158.65 9.1 178.75 6.7 56.12-6.7 105-41.3 111.23-72.9 9.8-49.8 9-121.5 9-121.5zm-75.12 125.2h-46.63v-114.2c0-49.7-64-51.6-64 6.9v62.5h-46.33V197c0-58.5-64-56.6-64-6.9v114.2H90.19c0-122.1-5.2-147.9 18.41-175 25.9-28.9 79.82-30.8 103.83 6.1l11.6 19.5 11.6-19.5c24.11-37.1 78.12-34.8 103.83-6.1 23.71 27.3 18.4 53 18.4 175z"></path></svg>
    </a>
  
    <a href="http://localhost:1313" rel="me noopener" class="iconfont"
      title="youtube"  target="_blank"
      >
      <svg
  class="icon" style="" viewBox="0 0 36 36" version="1.1" width="36"
  height="36" id="svg8">
  <path
      style=""
      d="m 1.8724447,28.346305 c -1.89825625,-2.287259 -1.89825625,-18.4053514 0,-20.6926103 C 3.0356132,6.2521624 5.4948113,6 18,6 35.952296,6 35.5,5.6898541 35.5,18 35.5,30.310146 35.952296,30 18,30 5.4948113,30 3.0356132,29.747838 1.8724447,28.346305 Z M 19.113845,20.815859 C 21.25123,19.614581 23,18.347445 23,18 23,17.348349 15.706815,13 14.613845,13 14.27623,13 14,15.25 14,18 c 0,2.75 0.27623,5 0.613845,5 0.337616,0 2.362616,-0.982863 4.5,-2.184141 z"
      id="rect824"/>
</svg>

    </a>
  
    <a href="http://localhost:1313" rel="me noopener" class="iconfont"
      title="twitch"  target="_blank"
      >
      <svg
  class="icon" style="" viewBox="0 0 36 36" version="1.1" width="36" height="36" id="svg8">
  <path
      style=""
      d="M 10,32.5 C 10,30.309524 9.5666667,30 6.5,30 H 3 V 18.196167 6.3923336 L 6.2976072,3.1961668 9.5952145,0 H 21.297607 33 v 9.2813035 9.2813035 l -5.778997,5.718696 C 23.230948,28.229724 20.653654,30 18.895317,30 17.471816,30 15.312792,31.102597 14,32.5 12.708255,33.875 11.279813,35 10.825686,35 10.371559,35 10,33.875 10,32.5 Z M 23.12736,22 c 1.432033,0 3.645397,-1.197147 5.185549,-2.804719 C 30.682196,16.722278 31,15.598708 31,9.6952811 V 3 H 20.5 10 v 9.5 9.5 h 3 c 2.413503,0 3,0.425076 3,2.174314 v 2.174314 l 2.314451,-2.174314 C 19.587399,22.978441 21.753208,22 23.12736,22 Z M 17.666667,14.333333 C 17.3,13.966667 17,12.166667 17,10.333333 17,8.037037 17.466667,7 18.5,7 c 1.083333,0 1.5,1.1111111 1.5,4 0,3.753437 -0.7878,4.878866 -2.333333,3.333333 z m 6.722867,-0.760607 C 23.554137,11.395717 24.34722,7.7069709 25.75,7.2449946 26.613128,6.9607414 27,8.097114 27,10.916667 c 0,3.979702 -1.51214,5.518252 -2.610466,2.656059 z"
      id="rect824"/>
</svg>

    </a>


<a href="https://huachengzhou.github.io/studyDocument/index.xml" rel="noopener alternate" type="application/rss&#43;xml"
    class="iconfont" title="rss" target="_blank">
    <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="30" height="30">
  <path d="M819.157333 1024C819.157333 574.592 449.408 204.8 0 204.8V0c561.706667 0 1024 462.293333 1024 1024h-204.842667zM140.416 743.04a140.8 140.8 0 0 1 140.501333 140.586667A140.928 140.928 0 0 1 140.074667 1024C62.72 1024 0 961.109333 0 883.626667s62.933333-140.544 140.416-140.586667zM678.784 1024h-199.04c0-263.210667-216.533333-479.786667-479.744-479.786667V345.173333c372.352 0 678.784 306.517333 678.784 678.826667z"></path>
</svg>

  </a>
   
</div>

<div class="copyright">
  <span class="power-by">
    Powered by <a class="hexo-link" href="https://gohugo.io">Hugo</a>
  </span>
  <span class="division">|</span>
  <span class="theme-info">
    Theme - <a class="theme-link" href="https://github.com/xianmin/hugo-theme-jane">Jane</a>
  </span>

  <span class="copyright-year">
    &copy;
    
      2020 -
    2021
    <span class="heart">
      
      <i class="iconfont">
        <svg class="icon" viewBox="0 0 1025 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="14" height="14">
  <path d="M1000.1 247.9c-15.5-37.3-37.6-70.6-65.7-98.9-54.4-54.8-125.8-85-201-85-85.7 0-166 39-221.4 107.4C456.6 103 376.3 64 290.6 64c-75.1 0-146.5 30.4-201.1 85.6-28.2 28.5-50.4 61.9-65.8 99.3-16 38.8-24 79.9-23.6 122.2 0.7 91.7 40.1 177.2 108.1 234.8 3.1 2.6 6 5.1 8.9 7.8 14.9 13.4 58 52.8 112.6 102.7 93.5 85.5 209.9 191.9 257.5 234.2 7 6.1 15.8 9.5 24.9 9.5 9.2 0 18.1-3.4 24.9-9.5 34.5-30.7 105.8-95.9 181.4-165 74.2-67.8 150.9-138 195.8-178.2 69.5-57.9 109.6-144.4 109.9-237.3 0.1-42.5-8-83.6-24-122.2z"
   fill="#8a8a8a"></path>
</svg>

      </i>
    </span><span class="author">
        zch
        
      </span></span>

  
  

  
</div>

    </footer>

    <div class="back-to-top" id="back-to-top">
      <i class="iconfont">
        
        <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="35" height="35">
  <path d="M510.866688 227.694839 95.449397 629.218702l235.761562 0-2.057869 328.796468 362.40389 0L691.55698 628.188232l241.942331-3.089361L510.866688 227.694839zM63.840492 63.962777l894.052392 0 0 131.813095L63.840492 195.775872 63.840492 63.962777 63.840492 63.962777zM63.840492 63.962777"></path>
</svg>

      </i>
    </div>
  </div>
  
<script type="text/javascript" src="/studyDocument/lib/jquery/jquery-3.2.1.min.js"></script>
  <script type="text/javascript" src="/studyDocument/lib/slideout/slideout-1.0.1.min.js"></script>




<script type="text/javascript" src="/studyDocument/js/main.dee43230127a73d039a734510fa896c89c3c7ce0cf0be0c7a7433f8fd69b76dc.js" integrity="sha256-3uQyMBJ6c9A5pzRRD6iWyJw8fODPC&#43;DHp0M/j9abdtw=" crossorigin="anonymous"></script>












  
    <script type="text/javascript" src="/studyDocument/js/load-photoswipe.js"></script>
    <script type="text/javascript" src="/studyDocument/lib/photoswipe/photoswipe.min.js"></script>
    <script type="text/javascript" src="/studyDocument/lib/photoswipe/photoswipe-ui-default.min.js"></script>
  















</body>
</html>
