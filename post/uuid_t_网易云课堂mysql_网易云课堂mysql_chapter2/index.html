<!DOCTYPE html>
<html lang="en" itemscope itemtype="http://schema.org/WebPage">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>网易云课堂MySQL &gt; chapter2 - Jane-主题-Hugo</title>
  

<meta name="renderer" content="webkit" />
<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=yes"/>

<meta name="MobileOptimized" content="width"/>
<meta name="HandheldFriendly" content="true"/>


<meta name="applicable-device" content="pc,mobile">

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">

<meta name="mobile-web-app-capable" content="yes">

<meta name="author" content="zch" /><meta name="description" content="测试博客" />

  <meta name="keywords" content="Hugo, theme, jane" />






<meta name="generator" content="Hugo 0.53" />


<link rel="canonical" href="https://huachengzhou.github.io/studyDocument/post/uuid_t_%E7%BD%91%E6%98%93%E4%BA%91%E8%AF%BE%E5%A0%82mysql_%E7%BD%91%E6%98%93%E4%BA%91%E8%AF%BE%E5%A0%82mysql_chapter2/" />





<link rel="icon" href="/studyDocument/favicon.ico" />











<link rel="stylesheet" href="/studyDocument/sass/jane.min.b3a8813c06e6d785beba22bf8264e174fa2cb3a396b22f9ba24e2c00c18aaf7f.css" integrity="sha256-s6iBPAbm14W&#43;uiK/gmThdPoss6OWsi&#43;bok4sAMGKr38=" media="screen" crossorigin="anonymous">





<meta property="og:title" content="网易云课堂MySQL &gt; chapter2" />
<meta property="og:description" content="测试博客" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://huachengzhou.github.io/studyDocument/post/uuid_t_%E7%BD%91%E6%98%93%E4%BA%91%E8%AF%BE%E5%A0%82mysql_%E7%BD%91%E6%98%93%E4%BA%91%E8%AF%BE%E5%A0%82mysql_chapter2/" /><meta property="article:published_time" content="2021-02-14T00:00:00&#43;00:00"/>
<meta property="article:modified_time" content="2021-02-14T00:00:00&#43;00:00"/>

<meta itemprop="name" content="网易云课堂MySQL &gt; chapter2">
<meta itemprop="description" content="测试博客">


<meta itemprop="datePublished" content="2021-02-14T00:00:00&#43;00:00" />
<meta itemprop="dateModified" content="2021-02-14T00:00:00&#43;00:00" />
<meta itemprop="wordCount" content="13560">



<meta itemprop="keywords" content="网易云课堂MySQL," />
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="网易云课堂MySQL &gt; chapter2"/>
<meta name="twitter:description" content="测试博客"/>

<!--[if lte IE 9]>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js"></script>
<![endif]-->

<!--[if lt IE 9]>
  <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
<![endif]-->




</head>
<body>
  <div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/studyDocument/" class="logo">技术博客</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>
<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list">
    <li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="https://huachengzhou.github.io/studyDocument/">主页</a>
          
        
      </li><li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="https://huachengzhou.github.io/studyDocument/post/">归档</a>
          
        
      </li><li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="https://huachengzhou.github.io/studyDocument/tags/">标签</a>
          
        
      </li><li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="https://huachengzhou.github.io/studyDocument/categories/">分类</a>
          
        
      </li><li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="https://huachengzhou.github.io/studyDocument/about/">关于</a>
          
        
      </li><li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="https://gohugo.io" rel="noopener" target="_blank">
              外部链接
              
              <i class="iconfont">
                <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="18" height="18">
  <path d="M623.36 272.96 473.216 423.04C467.2 429.056 467.072 438.656 472.896 444.416c0 0-6.72-6.656 1.6 1.6C496.064 467.648 528.64 500.224 528.64 500.224 534.464 506.048 544 505.856 550.016 499.904l150.08-150.144 67.328 66.432c9.024 8.96 27.456 4.544 30.4-8.96 19.968-92.608 46.656-227.52 46.656-227.52 6.848-34.496-16.192-56.704-49.92-49.92 0 0-134.656 26.816-227.328 46.784C560.32 178.048 556.352 182.272 554.752 187.136c-3.2 6.208-3.008 14.208 3.776 20.992L623.36 272.96z"></path>
  <path d="M841.152 457.152c-30.528 0-54.784 24.512-54.784 54.656l0 274.752L237.696 786.56 237.696 237.696l206.016 0c6.656 0 10.752 0 13.248 0C487.68 237.696 512 213.184 512 182.848 512 152.32 487.36 128 456.96 128L183.04 128C153.216 128 128 152.576 128 182.848c0 3.136 0.256 6.272 0.768 9.28C128.256 195.136 128 198.272 128 201.408l0 639.488c0 0.064 0 0.192 0 0.256 0 0.128 0 0.192 0 0.32 0 30.528 24.512 54.784 54.784 54.784l646.976 0c6.592 0 9.728 0 11.712 0 28.736 0 52.928-22.976 54.464-51.968C896 843.264 896 842.304 896 841.344l0-20.352L896 561.408 896 512.128C896 481.792 871.424 457.152 841.152 457.152z"></path>
</svg>

              </i>
            </a>
          
        
      </li><li class="mobile-menu-item">
        
          
          <div class="mobile-menu-parent">
            <span class="mobile-submenu-open"></span>
            <a href="https://huachengzhou.github.io/studyDocument/">
              docs
            </a>
          </div>
          <ul class="mobile-submenu-list">
            
              <li>
                <a href="https://huachengzhou.github.io/studyDocument/post/%E7%9F%AD%E7%A0%81%E9%A2%84%E8%A7%88/">短码预览</a>
              </li>
            
              <li>
                <a href="https://huachengzhou.github.io/studyDocument/post/%E5%9B%BE%E7%89%87%E9%A2%84%E8%A7%88/">图片预览</a>
              </li>
            
              <li>
                <a href="https://huachengzhou.github.io/studyDocument/post/%E8%AF%AD%E6%B3%95%E9%AB%98%E4%BA%AE%E6%98%BE%E7%A4%BA/">语法高亮显示</a>
              </li>
            
              <li>
                <a href="https://huachengzhou.github.io/studyDocument/post/%E6%95%B0%E5%AD%A6%E9%A2%84%E8%A7%88/">数学预览</a>
              </li>
            
          </ul>
        
      </li>
    

    
  </ul>
</nav>


  
    






  <link rel="stylesheet" href="/studyDocument/lib/photoswipe/photoswipe.min.css" />
  <link rel="stylesheet" href="/studyDocument/lib/photoswipe/default-skin/default-skin.min.css" />




<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

<div class="pswp__bg"></div>

<div class="pswp__scroll-wrap">
    
    <div class="pswp__container">
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
    </div>
    
    <div class="pswp__ui pswp__ui--hidden">
    <div class="pswp__top-bar">
      
      <div class="pswp__counter"></div>
      <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
      <button class="pswp__button pswp__button--share" title="Share"></button>
      <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
      <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
      
      
      <div class="pswp__preloader">
        <div class="pswp__preloader__icn">
          <div class="pswp__preloader__cut">
            <div class="pswp__preloader__donut"></div>
          </div>
        </div>
      </div>
    </div>
    <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
      <div class="pswp__share-tooltip"></div>
    </div>
    <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
    </button>
    <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
    </button>
    <div class="pswp__caption">
      <div class="pswp__caption__center"></div>
    </div>
    </div>
    </div>
</div>

  

  

  

  <header id="header" class="header container">
    <div class="logo-wrapper">
  <a href="/studyDocument/" class="logo">
    
      技术博客
    
  </a>
</div>

<nav class="site-navbar">
  <ul id="menu" class="menu">
    
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="https://huachengzhou.github.io/studyDocument/">主页</a>
          

        

      </li>
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="https://huachengzhou.github.io/studyDocument/post/">归档</a>
          

        

      </li>
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="https://huachengzhou.github.io/studyDocument/tags/">标签</a>
          

        

      </li>
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="https://huachengzhou.github.io/studyDocument/categories/">分类</a>
          

        

      </li>
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="https://huachengzhou.github.io/studyDocument/about/">关于</a>
          

        

      </li>
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="https://gohugo.io" rel="noopener" target="_blank">
              外部链接
              
              <i class="iconfont">
                <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="18" height="18">
  <path d="M623.36 272.96 473.216 423.04C467.2 429.056 467.072 438.656 472.896 444.416c0 0-6.72-6.656 1.6 1.6C496.064 467.648 528.64 500.224 528.64 500.224 534.464 506.048 544 505.856 550.016 499.904l150.08-150.144 67.328 66.432c9.024 8.96 27.456 4.544 30.4-8.96 19.968-92.608 46.656-227.52 46.656-227.52 6.848-34.496-16.192-56.704-49.92-49.92 0 0-134.656 26.816-227.328 46.784C560.32 178.048 556.352 182.272 554.752 187.136c-3.2 6.208-3.008 14.208 3.776 20.992L623.36 272.96z"></path>
  <path d="M841.152 457.152c-30.528 0-54.784 24.512-54.784 54.656l0 274.752L237.696 786.56 237.696 237.696l206.016 0c6.656 0 10.752 0 13.248 0C487.68 237.696 512 213.184 512 182.848 512 152.32 487.36 128 456.96 128L183.04 128C153.216 128 128 152.576 128 182.848c0 3.136 0.256 6.272 0.768 9.28C128.256 195.136 128 198.272 128 201.408l0 639.488c0 0.064 0 0.192 0 0.256 0 0.128 0 0.192 0 0.32 0 30.528 24.512 54.784 54.784 54.784l646.976 0c6.592 0 9.728 0 11.712 0 28.736 0 52.928-22.976 54.464-51.968C896 843.264 896 842.304 896 841.344l0-20.352L896 561.408 896 512.128C896 481.792 871.424 457.152 841.152 457.152z"></path>
</svg>

              </i>
            </a>
          

        

      </li>
    
        <li class="menu-item">
        
          
          <a class="menu-item-link menu-parent" href="https://huachengzhou.github.io/studyDocument/">docs</a>
          <ul class="submenu">
            
              <li>
                <a href="https://huachengzhou.github.io/studyDocument/post/%E7%9F%AD%E7%A0%81%E9%A2%84%E8%A7%88/">短码预览</a>
              </li>
            
              <li>
                <a href="https://huachengzhou.github.io/studyDocument/post/%E5%9B%BE%E7%89%87%E9%A2%84%E8%A7%88/">图片预览</a>
              </li>
            
              <li>
                <a href="https://huachengzhou.github.io/studyDocument/post/%E8%AF%AD%E6%B3%95%E9%AB%98%E4%BA%AE%E6%98%BE%E7%A4%BA/">语法高亮显示</a>
              </li>
            
              <li>
                <a href="https://huachengzhou.github.io/studyDocument/post/%E6%95%B0%E5%AD%A6%E9%A2%84%E8%A7%88/">数学预览</a>
              </li>
            
          </ul>

        

      </li>
    

    
    

    
  </ul>
</nav>

  </header>

  <div id="mobile-panel">
    <main id="main" class="main bg-llight">
      <div class="content-wrapper">
        <div id="content" class="content container">
          <article class="post bg-white">
    
    <header class="post-header">
      <h1 class="post-title">网易云课堂MySQL &gt; chapter2</h1>
      
      <div class="post-meta">
        <time datetime="2021-02-14" class="post-time">
          2021-02-14
        </time>
        <div class="post-category">
            <a href="https://huachengzhou.github.io/studyDocument/categories/mysql/"> mysql </a>
            <a href="https://huachengzhou.github.io/studyDocument/categories/index/"> index </a>
            
          </div>
        

        
        

        
        
      </div>
    </header>

    
    
<div class="post-toc" id="post-toc">
  <h2 class="post-toc-title">Table of Contents</h2>
  <div class="post-toc-content">
    <nav id="TableOfContents">
<ul>
<li><a href="#mysql数据库对象与应用">MySQL数据库对象与应用</a>
<ul>
<li><a href="#2-1-mysql数据类型">2.1-MySQL数据类型</a>
<ul>
<li><a href="#number不止一种">Number不止一种</a></li>
<li><a href="#整形">整形</a></li>
<li><a href="#老生常谈的问题">老生常谈的问题</a></li>
<li><a href="#浮点型">浮点型</a></li>
<li><a href="#精度丢失问题">精度丢失问题</a></li>
<li><a href="#定点数-更精确的数字类型">定点数-更精确的数字类型</a></li>
<li><a href="#性别-省份信息">性别、省份信息</a></li>
<li><a href="#经验之谈">经验之谈</a></li>
<li><a href="#存储用户名的属性">存储用户名的属性</a></li>
<li><a href="#cahr与varchar">CAHR与VARCHAR</a></li>
<li><a href="#字符与字节的区别">字符与字节的区别</a></li>
<li><a href="#emoji表情">emoji表情</a></li>
<li><a href="#text与char和varchar的区别">TEXT与CHAR和VARCHAR的区别</a></li>
<li><a href="#存储头像">存储头像</a></li>
<li><a href="#经验之谈-1">经验之谈</a></li>
<li><a href="#存储生日信息">存储生日信息</a></li>
<li><a href="#时间类型的区别在哪里">时间类型的区别在哪里</a></li>
<li><a href="#timestamp-vs-datetime">TIMESTAMP VS DATETIME</a></li>
<li><a href="#字段类型和时区的关系">字段类型和时区的关系</a></li>
<li><a href="#bigint如何存储时间类型">BIGINT如何存储时间类型</a></li>
</ul></li>
<li><a href="#2-2-mysql数据对象">2.2-MySQL数据对象</a>
<ul>
<li><a href="#mysql常见的数据对象有哪些">MySQL常见的数据对象有哪些</a></li>
<li><a href="#库-表-行层级关系">库、表、行层级关系</a></li>
<li><a href="#多database用途">多DataBase用途</a></li>
<li><a href="#表上有哪些常用的数据对象">表上有哪些常用的数据对象</a></li>
<li><a href="#什么是数据库索引">什么是数据库索引</a></li>
</ul></li>
<li><a href="#如何创建索引-一">如何创建索引（一）</a></li>
<li><a href="#如何创建索引-二">如何创建索引（二）</a>
<ul>
<li><a href="#约束">约束</a></li>
<li><a href="#创建唯一约束">创建唯一约束</a></li>
<li><a href="#唯一约束">唯一约束</a></li>
<li><a href="#添加唯一约束">添加唯一约束</a></li>
<li><a href="#外键约束">外键约束</a></li>
<li><a href="#创建外键约束">创建外键约束</a></li>
<li><a href="#view">View</a></li>
<li><a href="#view的作用">View的作用</a></li>
<li><a href="#创建view">创建View</a></li>
<li><a href="#trigger">Trigger</a></li>
<li><a href="#除此之外还有哪些">除此之外还有哪些</a></li>
</ul></li>
<li><a href="#2-3-mysql权限管理">2.3-MySQL权限管理</a>
<ul>
<li><a href="#连接mysql的必要条件">连接MySQL的必要条件</a></li>
<li><a href="#数据有哪些权限">数据有哪些权限</a></li>
<li><a href="#权限粒度">权限粒度</a></li>
<li><a href="#mysql赋权操作">MySQL赋权操作</a></li>
<li><a href="#如何新建一个用户并赋权">如何新建一个用户并赋权</a></li>
<li><a href="#其他方法">其他方法</a></li>
<li><a href="#更简单的办法">更简单的办法</a></li>
<li><a href="#查看用户的权限信息">查看用户的权限信息</a></li>
<li><a href="#如何更改用户的权限">如何更改用户的权限</a></li>
<li><a href="#如何更改用户密码">如何更改用户密码</a></li>
<li><a href="#删除用户">删除用户</a></li>
<li><a href="#with-grant-option">With Grant Option</a></li>
<li><a href="#mysql权限信息存储结构">MySQL权限信息存储结构</a></li>
<li><a href="#有哪些权限相关的表">有哪些权限相关的表</a></li>
<li><a href="#权限验证流程">权限验证流程</a></li>
<li><a href="#小结">小结</a></li>
<li><a href="#mysql权限上有哪些问题">MySQL权限上有哪些问题</a></li>
<li><a href="#mysql-secure-installation">mysql_secure_installation</a></li>
<li><a href="#小结-1">小结</a></li>
</ul></li>
<li><a href="#实践课-数据库对象">实践课：数据库对象</a>
<ul>
<li><a href="#何为表结构设计">何为表结构设计</a></li>
<li><a href="#设计表的时候需要注意哪些">设计表的时候需要注意哪些</a></li>
<li><a href="#收集表属性">收集表属性</a></li>
<li><a href="#理解表的功能特点-数据用途">理解表的功能特点——数据用途</a></li>
<li><a href="#数据类型-命名规范">数据类型——命名规范</a></li>
<li><a href="#字段设计规范">字段设计规范</a></li>
<li><a href="#用户赋权">用户赋权</a></li>
</ul></li>
<li><a href="#2-4-sql语言进阶">2.4-SQL语言进阶</a>
<ul>
<li><a href="#说明">说明</a></li>
<li><a href="#sql进阶语法-order-by">SQL进阶语法——order by</a></li>
<li><a href="#sql进阶语法-distinct">SQL进阶语法——distinct</a></li>
<li><a href="#sql进阶语法-group-by">SQL进阶语法——group by</a></li>
<li><a href="#sql进阶语法-group-by-having">SQL进阶语法——group by having</a></li>
<li><a href="#sql进阶语法-limit-offset">SQL进阶语法-limit, offset</a></li>
<li><a href="#case-when">case when</a></li>
<li><a href="#select相关进阶语法">select相关进阶语法</a></li>
<li><a href="#连接-join">连接-Join</a></li>
<li><a href="#子查询">子查询</a></li>
<li><a href="#连接-left-join">连接- left Join</a></li>
<li><a href="#sql进阶语法-union">SQL进阶语法-union</a></li>
<li><a href="#dml进阶语法">DML进阶语法</a></li>
<li><a href="#总结">总结</a></li>
</ul></li>
<li><a href="#2-5-内置函数">2.5-内置函数</a>
<ul>
<li><a href="#聚合函数">聚合函数</a></li>
<li><a href="#使用聚合函数做数据库行列转换">使用聚合函数做数据库行列转换</a></li>
<li><a href="#预定义函数">预定义函数</a></li>
<li><a href="#预定义函数-字符串函数">预定义函数-字符串函数</a></li>
<li><a href="#预定义函数-时间处理函数">预定义函数-时间处理函数</a></li>
<li><a href="#预定义函数-数字处理函数">预定义函数-数字处理函数</a></li>
<li><a href="#算数-逻辑运算">算数、逻辑运算</a></li>
</ul></li>
<li><a href="#2-6-触发器与存储过程">2.6-触发器与存储过程</a>
<ul>
<li><a href="#触发器">触发器</a></li>
<li><a href="#触发器-基本语法">触发器-基本语法</a></li>
<li><a href="#触发器-实例">触发器-实例</a></li>
<li><a href="#注意事项">注意事项</a></li>
<li><a href="#存储过程">存储过程</a></li>
<li><a href="#存储过程-基本语法">存储过程-基本语法</a></li>
<li><a href="#存储过程-实例">存储过程-实例</a></li>
<li><a href="#存储过程-流控制语句">存储过程-流控制语句</a></li>
<li><a href="#存储过程-调用">存储过程-调用</a></li>
<li><a href="#自定义函数">自定义函数</a></li>
<li><a href="#自定义函数-基本语法">自定义函数-基本语法</a></li>
<li><a href="#自定义函数-实例">自定义函数-实例</a></li>
<li><a href="#自定义函数-调用">自定义函数-调用</a></li>
<li><a href="#小结-2">小结</a></li>
</ul></li>
<li><a href="#2-7-mysql字符集">2.7-MySQL字符集</a>
<ul>
<li><a href="#字符集基础">字符集基础</a></li>
<li><a href="#字符集-分类">字符集-分类</a></li>
<li><a href="#mysql字符集">MySQL字符集</a></li>
<li><a href="#字符集与字符序">字符集与字符序</a></li>
<li><a href="#字符集设置级别">字符集设置级别</a></li>
<li><a href="#字符集设置级别-1">字符集设置级别</a></li>
<li><a href="#字符集设置级别-2">字符集设置级别</a></li>
<li><a href="#客户端连接与字符集">客户端连接与字符集</a></li>
<li><a href="#小结-3">小结</a></li>
</ul></li>
<li><a href="#2-8程序连接mysql">2.8程序连接MySQL</a>
<ul>
<li><a href="#程序连接mysql基本原理">程序连接MySQL基本原理</a></li>
<li><a href="#java代码示例">Java代码示例</a></li>
<li><a href="#jdbc使用技巧">JDBC使用技巧</a></li>
<li><a href="#statement与preparedstatement的区别">Statement与PreparedStatement的区别</a></li>
<li><a href="#preparedstatement背后的故事">PreparedStatement背后的故事</a></li>
<li><a href="#connection-statement与resultset关闭的意义">connection, Statement与ResultSet关闭的意义</a></li>
<li><a href="#jdbc连接参数的使用">jdbc连接参数的使用</a></li>
<li><a href="#resultset游标的使用">ResultSet游标的使用</a></li>
<li><a href="#python连接mysql">Python连接MySQL</a></li>
</ul></li>
<li><a href="#2-9-dao框架的使用">2.9-DAO框架的使用</a>
<ul>
<li><a href="#dao框架">DAO框架</a></li>
<li><a href="#dao框架的特点">DAO框架的特点</a></li>
<li><a href="#mybatis简介">MyBatis简介</a></li>
<li><a href="#mybatis代码示例">MyBatis代码示例</a></li>
<li><a href="#mybatis工作流程">MyBatis工作流程</a></li>
<li><a href="#mybatis使用技巧">MyBatis使用技巧</a></li>
</ul></li>
</ul></li>
</ul>
</nav>
  </div>
</div>

    
    <div class="post-content">
      

<h1 id="mysql数据库对象与应用">MySQL数据库对象与应用</h1>

<h2 id="2-1-mysql数据类型">2.1-MySQL数据类型</h2>

<h3 id="number不止一种">Number不止一种</h3>

<ul>
<li>整形</li>
<li>浮点型</li>
</ul>

<h3 id="整形">整形</h3>

<ul>
<li>INT</li>
<li>SMALLINT</li>
<li>MEDIUMINT</li>
<li>BIGINT</li>
</ul>

<table>
<thead>
<tr>
<th align="left">type</th>
<th align="left">Storage</th>
<th align="left">Minumun Value</th>
<th align="left">Maximum Value</th>
</tr>
</thead>

<tbody>
<tr>
<td align="left"></td>
<td align="left">(Bytes)</td>
<td align="left">(Signed/Unsigned)</td>
<td align="left">(Signed/Unsigned)</td>
</tr>

<tr>
<td align="left">TINYINT</td>
<td align="left">1</td>
<td align="left">-128</td>
<td align="left">127</td>
</tr>

<tr>
<td align="left"></td>
<td align="left"></td>
<td align="left">0</td>
<td align="left">255</td>
</tr>

<tr>
<td align="left">SMALLINT</td>
<td align="left">2</td>
<td align="left">-32768</td>
<td align="left">32767</td>
</tr>

<tr>
<td align="left"></td>
<td align="left"></td>
<td align="left">0</td>
<td align="left">65535</td>
</tr>

<tr>
<td align="left">MEDIUMINT</td>
<td align="left">3</td>
<td align="left">-8388608</td>
<td align="left">8388607</td>
</tr>

<tr>
<td align="left"></td>
<td align="left"></td>
<td align="left">0</td>
<td align="left">16777215</td>
</tr>

<tr>
<td align="left">INT</td>
<td align="left">4</td>
<td align="left">-2147483648</td>
<td align="left">2147483647</td>
</tr>

<tr>
<td align="left"></td>
<td align="left"></td>
<td align="left">0</td>
<td align="left">4294967295</td>
</tr>

<tr>
<td align="left">BIGINT</td>
<td align="left">8</td>
<td align="left">-9223372036854775808</td>
<td align="left">9223372036854775807</td>
</tr>

<tr>
<td align="left"></td>
<td align="left"></td>
<td align="left">0</td>
<td align="left">18446744073709551615</td>
</tr>
</tbody>
</table>

<h3 id="老生常谈的问题">老生常谈的问题</h3>

<p><strong>int(11) VS int(21)</strong>
存储空间，还是存储范围有区别？</p>

<p>答案是：<strong>两者完全一样</strong>，只是在显示的时候补全0的位数不一样。</p>

<p>可以通过下面的例子来验证：</p>

<pre><code class="language-sql">create table t(a int(11) zerofill, b int(21) zerofill);
insert into t values (1, 1);
select * from t;
</code></pre>

<p>MySQL默认是不带0补全的。</p>

<p>只是在一些特殊情况下两者显示有区别，其本质完全一样。</p>

<h3 id="浮点型">浮点型</h3>

<ul>
<li>FLOAT(M, D)</li>
<li>DOUBLE(M, D)</li>
</ul>

<table>
<thead>
<tr>
<th align="left">属性</th>
<th align="left">存储空间</th>
<th align="left">精度</th>
<th align="left">精确性</th>
</tr>
</thead>

<tbody>
<tr>
<td align="left">Float</td>
<td align="left">4 bytes</td>
<td align="left">单精度</td>
<td align="left">非精确</td>
</tr>

<tr>
<td align="left">Double</td>
<td align="left">8 bytes</td>
<td align="left">双精度</td>
<td align="left">比Float精度高</td>
</tr>
</tbody>
</table>

<h3 id="精度丢失问题">精度丢失问题</h3>

<ul>
<li>精度丢失</li>
</ul>

<p>一个例子：</p>

<pre><code class="language-sql">create table t(a int(11), b float(7, 4));
insert into t values (2, 123.12345);
select * from t;
</code></pre>

<h3 id="定点数-更精确的数字类型">定点数-更精确的数字类型</h3>

<ul>
<li>DECIMAL

<ul>
<li>高精度的数据类型，常用来存储交易相关的数据</li>
<li>DECIMAL(M,N).M代表总精度，N代表小数点右侧的位数（标度）</li>
<li>1 &lt; M &lt; 254, 0 &lt; N &lt; 60;</li>
<li>存储空间变长</li>
</ul></li>
</ul>

<h3 id="性别-省份信息">性别、省份信息</h3>

<p>一般使用tinyint、char(1)、enum类型。</p>

<h3 id="经验之谈">经验之谈</h3>

<ul>
<li>存储性别、省份、类型等分类信息时选择TINYINT或者ENUM</li>
<li>BIGINT存储空间更大，INT和BIGINT之间通常选择BIGINT</li>
<li>交易等高精度数据选择使用DECIMAL</li>
</ul>

<h3 id="存储用户名的属性">存储用户名的属性</h3>

<ul>
<li>CHAR</li>
<li>VARCHAR</li>
<li>TEXT</li>
</ul>

<h3 id="cahr与varchar">CAHR与VARCHAR</h3>

<ul>
<li>CHAR和VARCHAR存储的单位都是字符</li>
<li>CHAR存储定长，容易造成空间的浪费</li>
<li>VARCHAR存储变长，节省存储空间</li>
</ul>

<h3 id="字符与字节的区别">字符与字节的区别</h3>

<table>
<thead>
<tr>
<th align="left">编码\输入字符串</th>
<th align="left">网易</th>
<th align="left">netease</th>
</tr>
</thead>

<tbody>
<tr>
<td align="left">gbk(双字节)</td>
<td align="left">varchar(2)/4 bytes</td>
<td align="left">varchar(7)/7 bytes</td>
</tr>

<tr>
<td align="left">utf8(三字节)</td>
<td align="left">varchar(2)/6 bytes</td>
<td align="left">varchar(7)/7 bytes</td>
</tr>

<tr>
<td align="left">utf8mb4(四字节)</td>
<td align="left">varchar(2) ?</td>
<td align="left">varchar(7)/7 bytes</td>
</tr>
</tbody>
</table>

<p>对于utf8mb4号称占用四字节但是并不绝对。如果在utf8可以覆盖到的范围则仍然占用3字节。</p>

<p>utf8mb4最有优势的应用场景是用于存储emoji表情</p>

<h3 id="emoji表情">emoji表情</h3>

<ul>
<li>MySQL版本 &gt; 5.5.3</li>
<li>JDBC驱动版本 &gt; 5.1.13</li>
<li>库和表的编码设为utf8mb4</li>
</ul>

<h3 id="text与char和varchar的区别">TEXT与CHAR和VARCHAR的区别</h3>

<ul>
<li>CHAR和VARCHAR存储单位为字符</li>
<li>TEXT存储单位为字节，总大小为65535字节，约为64KB</li>
<li>CHAR数据类型最大为255字符</li>
<li>VARCHAR数据类型为变长存储，可以超过255个字符</li>
<li>TEXT在MySQL内部大多存储格式为溢出页，效率不如CHAR</li>
</ul>

<p>一个例子：</p>

<pre><code class="language-sql">create table t (a char(256));
create table t (a varchar(256));
</code></pre>

<h3 id="存储头像">存储头像</h3>

<ul>
<li>BLOB</li>
<li>BINARY</li>
</ul>

<p>性能太差，不推荐</p>

<h3 id="经验之谈-1">经验之谈</h3>

<ul>
<li>CHAR与VARCHAR定义的长度是字符长度不是字节长度</li>
<li>存储字符串推荐使用VARCHAR(N),N尽量小</li>
<li>虽然数据库可以存储二进制数据，但是性能低下，不要使用数据库存储文件音频等二进制数据</li>
</ul>

<h3 id="存储生日信息">存储生日信息</h3>

<ul>
<li>DATE</li>
<li>TIME</li>
<li>DATETIME</li>
<li>TIMESTAMP</li>
<li>BIGINT</li>
</ul>

<h3 id="时间类型的区别在哪里">时间类型的区别在哪里</h3>

<ul>
<li><p>存储空间上的区别</p>

<ul>
<li>DATE三字节，如：2015-05-01</li>
<li>TIME三字节，如：11:12:00</li>
<li>TIMESTAMP，如：2015-05-01 11::12:00</li>
<li>DATETIME八字节，如：2015-05-01 11::12:00</li>
</ul></li>

<li><p>存储精度的区别</p>

<ul>
<li>DATE精确到年月日</li>
<li>TIME精确到小时分钟和秒</li>
<li>TIMESTAMP、DATETIME都包含上述两者</li>
</ul></li>
</ul>

<h3 id="timestamp-vs-datetime">TIMESTAMP VS DATETIME</h3>

<ul>
<li>存储范围的区别

<ul>
<li>TIMESTAMP存储范围：1970-01-01 00::00:01 to 2038-01-19 03:14:07</li>
<li>DATETIME的存储范围：1000-01-01 00:00:00 to 9999-12-31 23:59:59</li>
</ul></li>
</ul>

<p>MySQL在5.6.4版本之后，TimeStamp和DateTime支持到微妙</p>

<ul>
<li>字段类型与市区的关联关系

<ul>
<li>TIMESTAMP会根据系统时区进行转换，DATETIME则不会</li>
</ul></li>
</ul>

<h3 id="字段类型和时区的关系">字段类型和时区的关系</h3>

<ul>
<li>国际化的系统</li>
</ul>

<p>一个例子：</p>

<pre><code class="language-sql">create table test (a datetime, b timestamp);
select now();
insert into test values (now(), now());
select * from test;
set time_zone = '+00:00';
select * from test;
</code></pre>

<h3 id="bigint如何存储时间类型">BIGINT如何存储时间类型</h3>

<ul>
<li>应用程序将时间转换为数字类型</li>
</ul>

<h2 id="2-2-mysql数据对象">2.2-MySQL数据对象</h2>

<h3 id="mysql常见的数据对象有哪些">MySQL常见的数据对象有哪些</h3>

<ul>
<li>DataBase/Schema</li>
<li>Table</li>
<li>Index</li>
<li>View/Trigger/Function/Procedure</li>
</ul>

<h3 id="库-表-行层级关系">库、表、行层级关系</h3>

<ul>
<li>一个DataBase对应一个Schema</li>
<li>一个Schema包含一个或多个表</li>
<li>一个表里面包含一个或多个字段</li>
<li>一个表里包含一条或多条记录</li>
<li>一个表包含一个或多个索引</li>
</ul>

<h3 id="多database用途">多DataBase用途</h3>

<ul>
<li>业务隔离</li>
<li>资源隔离</li>
</ul>

<h3 id="表上有哪些常用的数据对象">表上有哪些常用的数据对象</h3>

<ul>
<li>索引</li>
<li>约束</li>
<li>视图、触发器、函数、存储过程</li>
</ul>

<h3 id="什么是数据库索引">什么是数据库索引</h3>

<ul>
<li>读书的时候如何快速定位某一章节

<ul>
<li>查找书籍目录</li>
<li>在自己喜欢的章节加书签，直接定位</li>
</ul></li>
<li>索引就是数据库中的数据的目录（索引和数据是分开存储的）

<ul>
<li>索引和数据是两个对象</li>
<li>索引主要是用来提高数据库的查询效率</li>
<li>数据库中数据变更同样需要同步索引数据的变更</li>
</ul></li>
</ul>

<h2 id="如何创建索引-一">如何创建索引（一）</h2>

<pre><code class="language-sql">CREATE [UNIQUE|FULLTEXT|SPATIAL] INDEX index_name
  [index_type]
  ON tbl_name (index_col_name,...)
  [index_option]
  [algorithm_option | lock_option] ...

index_col_name:
  col_name [(length)] [ASC | DESC]

index_type:
  USING {BTREE | HASH}
</code></pre>

<h2 id="如何创建索引-二">如何创建索引（二）</h2>

<pre><code class="language-sql">ALTER [IGNORE] TABLE tbl_name
  [alter_specification [, alter_specification] ...]
  [partition_options]

alter_specification:
    table_options
  | ADD [COLUMN] col_name column_definition
        [FIRST | AFTER col_name]
    ADD [COLUMN] (col_name column_definition,...)
    ADD {INDEX|KEY} [index_name]
        [index_type] (index_col_name,...) [index_option] ...
  | ADD [CONSTRAINT [symbol]] PRIMARY KEY
        [index_type] (index_col_name,...) [index_option] ...
  | ADD [CONSTRAINT [symbol]]
        UNIQUE [INDEX|KEY] [index_name]
</code></pre>

<h3 id="约束">约束</h3>

<ul>
<li>生活中的约束有哪些

<ul>
<li>每个人的指纹信息必须唯一</li>
<li>每个人的身份证要求唯一</li>
<li>网上购物需要先登录才能下单</li>
</ul></li>
<li>唯一约束

<ul>
<li>对一张表的某个字段或者某几个字段设置唯一键约束，保证在这个表里对应的数据必须唯一，如：用户ID、手机号、身份证等。</li>
</ul></li>
</ul>

<h3 id="创建唯一约束">创建唯一约束</h3>

<ul>
<li>唯一约束是一种特殊的索引</li>
<li>唯一约束可以是一个或者多个字段</li>
<li>唯一约束可以在创建表的时候建好，也可以后面再补上</li>
<li>主键也是一种唯一约束</li>
</ul>

<h3 id="唯一约束">唯一约束</h3>

<p>以如下这张表为例</p>

<pre><code class="language-sql">CREATE TABLE `order` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `orderid` int(10) unsigned NOT NULL,
  `bookid` int(10) unsigned NOT NULL DEFAULT '0',
  `userid` int(10) unsigned NOT NULL DEFAULT '0',
  `number` tinyint(3) unsigned NOT NULL DEFAULT '0',
  `address` varchar(128) NOT NULL DEFAULT '',
  `postcode` varchar(128) NOT NULL DEFAULT '',
  `orderdate` datetime NOT NULL DEFAULT '0000-00-00 00:00:00',
  `status` tinyint(3) unsigned zerofill DEFAULT '000',
  PRIMARY KEY (`id`),
  UNIQUE KEY `idx_orderid` (`orderid`),
  UNIQUE KEY `idx_uid_orderid` (`userid`, `orderid`),
  KEY `bookid` (`bookid`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8
</code></pre>

<ul>
<li>索引有哪些

<ul>
<li>主键索引 ID</li>
<li>单键索引 orderid</li>
<li>单键索引 bookid</li>
<li>组合索引 (userid + orderid)</li>
</ul></li>
<li>唯一约束有哪些

<ul>
<li>主键约束      (ID)</li>
<li>单键唯一索引   (orderid)</li>
<li>组合唯一索引   (userid + orderid)</li>
</ul></li>
</ul>

<h3 id="添加唯一约束">添加唯一约束</h3>

<ul>
<li>添加主键

<ul>
<li>alter table `order` add primary key (id);</li>
</ul></li>
<li>添加唯一索引

<ul>
<li>alter table `order` add unique key idx_uk_orderid (orderid);</li>
</ul></li>
</ul>

<h3 id="外键约束">外键约束</h3>

<ul>
<li>外键指两张表的数据通过某种条件关联起来</li>
</ul>

<h3 id="创建外键约束">创建外键约束</h3>

<ul>
<li>将用户表和订单表通过外键关联起来

<ul>
<li>alter table `order` add CONSTRAINT constraint_uid FOREIGN KEY (userid) REFERENCES user(userid);</li>
</ul></li>
<li>使用外键的注意事项

<ul>
<li>必须是INNODB表，Myisam和其他引擎不支持外键</li>
<li>相互约束的字段类型必须要求一样</li>
<li>主表的约束字段要求有索引</li>
<li>约束名称必须要唯一，即使不在一张表上</li>
</ul></li>
</ul>

<h3 id="view">View</h3>

<ul>
<li>产品需求

<ul>
<li>假如有其他部门的同事想查询我们数据库里的数据，但是我们并不想暴露表结构，并且只提供给他们部分数据</li>
</ul></li>
</ul>

<h3 id="view的作用">View的作用</h3>

<ul>
<li>视图将一组查询语句构成的结果集，是一种虚拟结构，并不是实际数据</li>
<li>视图能简化数据库的访问，能够将多个查询语句结构化为一个虚拟结构</li>
<li>视图可以隐藏数据库后端表结构，提高数据库安全性</li>
<li>视图也是一种权限管理，只对用户提供部分数据</li>
</ul>

<h3 id="创建view">创建View</h3>

<ul>
<li>创建已完成订单的视图

<ul>
<li>create view order_view as select * from `order` where status=1;</li>
</ul></li>
</ul>

<h3 id="trigger">Trigger</h3>

<ul>
<li>产品需求

<ul>
<li>随着客户个人等级的提升， 系统需要自动更新用户的积分，其中一共有两张表，分别为：用户信息表和积分表</li>
</ul></li>
<li>Trigger俗称触发器，指可以在数据写入表A之前或者之后可以做一些其他动作</li>
<li>使用Trigger在每次更新用户表的时候出发更新积分表</li>
</ul>

<h3 id="除此之外还有哪些">除此之外还有哪些</h3>

<ul>
<li>Function</li>
<li>Procedure</li>
</ul>

<h2 id="2-3-mysql权限管理">2.3-MySQL权限管理</h2>

<h3 id="连接mysql的必要条件">连接MySQL的必要条件</h3>

<ul>
<li>网络要通畅</li>
<li>用户名和密码要正确</li>
<li>数据库需要加IP白名单</li>
<li>更细粒度的验证（库、表、列权限类型等等）</li>
</ul>

<h3 id="数据有哪些权限">数据有哪些权限</h3>

<p><code>show privileges</code>命令可以查看全部权限</p>

<h3 id="权限粒度">权限粒度</h3>

<ul>
<li>Data Privileges

<ul>
<li>DATA: SELECT, INSERT, UPDATE, DELETE</li>
</ul></li>
<li>Definition Privileges

<ul>
<li>DataBase: CREATE, ALTER, DROP</li>
<li>Table: CREATE, ALTER, DROP</li>
<li>VIEW/FUNCTION/TRIGGER/PROCEDURE: CREATE, ALTER, DROP</li>
</ul></li>
<li>Administrator Privileges

<ul>
<li>Shutdown DataBase</li>
<li>Replication Slave</li>
<li>Replication Client</li>
<li>File Privilege</li>
</ul></li>
</ul>

<h3 id="mysql赋权操作">MySQL赋权操作</h3>

<pre><code class="language-sql">GRANT
  priv_type [(column_list)]
    [, priv_type [column_list]] ...
  ON [object_type] priv_level
  TO user_specification [, user_specification] ...
  [REQUIRE {NONE | ssl_option [[AND] ssl_option] ...}]
  [WITH with_option ...]
GRANT PROXY ON user_specification
  TO user_specification [, user_specification] ...
  [WITH GRANT OPTION]
</code></pre>

<h3 id="如何新建一个用户并赋权">如何新建一个用户并赋权</h3>

<ul>
<li>使用MySQL自带的命令

<ul>
<li><code>CREATE USER 'netease'@'localhost' IDENTIFIED BY 'netease163';</code></li>
<li><code>GRANT SELECT ON *.* TO 'netease'@'localhost' WITH GRANT OPTION;</code></li>
</ul></li>
</ul>

<h3 id="其他方法">其他方法</h3>

<ul>
<li>更改数据库记录

<ul>
<li>首先向User表里面插入一条记录，根据自己的需要选择是否向db和table_pirv表插入记录</li>
<li>执行<code>flush privileges</code>命令，让权限信息生效</li>
</ul></li>
</ul>

<h3 id="更简单的办法">更简单的办法</h3>

<ul>
<li>GRANT语句会判断是否存在该用户，如果不存在则新建

<ul>
<li><code>GRANT SELECT ON *.* TO 'NETEASE'@'localhost' IDENTIFIED BY 'netease163' WITH GRANT OPTION;</code></li>
</ul></li>
</ul>

<h3 id="查看用户的权限信息">查看用户的权限信息</h3>

<ul>
<li>查看当前用户的权限

<ul>
<li><code>show grants;</code></li>
</ul></li>
<li>查看其它用户的权限

<ul>
<li><code>show grants for netease@'localhost';</code></li>
</ul></li>
</ul>

<h3 id="如何更改用户的权限">如何更改用户的权限</h3>

<ul>
<li>回收不需要的权限

<ul>
<li><code>revoke select on *.* from netease@'localhost';</code></li>
</ul></li>
<li>重新赋权

<ul>
<li><code>grant insert on *.* to netease@'localhost';</code></li>
</ul></li>
</ul>

<h3 id="如何更改用户密码">如何更改用户密码</h3>

<ul>
<li>用新密码，grant语句重新授权</li>
<li>更改数据库记录，Update User表的Password字段

<ul>
<li>注意：用这种办法，更改完需要flush privileges刷新权限信息，不推荐</li>
</ul></li>
</ul>

<h3 id="删除用户">删除用户</h3>

<pre><code class="language-sql">DROP USER user [, user] ...
</code></pre>

<h3 id="with-grant-option">With Grant Option</h3>

<ul>
<li>允许被授予权利的人把这个权利授予其他的人</li>
</ul>

<h3 id="mysql权限信息存储结构">MySQL权限信息存储结构</h3>

<ul>
<li>MySQL权限信息是存在数据库表中</li>
<li>MySQL账号对应的密码也加密存储在数据库表中</li>
<li>每一种权限类型在元数据里都是枚举类型，表明是否有该权限</li>
</ul>

<h3 id="有哪些权限相关的表">有哪些权限相关的表</h3>

<ul>
<li>user</li>
<li>db</li>
<li>table_pirv</li>
<li>columns_pirv</li>
<li>host</li>
</ul>

<h3 id="权限验证流程">权限验证流程</h3>

<p>查询时从user-&gt;db-&gt;table_pirv-&gt;columns_pirv依次验证，如果通过则执行查询。</p>

<h3 id="小结">小结</h3>

<ul>
<li>MySQL权限信息都是以数据记录的形式存储在数据库的表中。</li>
<li>MySQL的权限验证相比网站登录多了白名单环节，并且粒度更细，可以精确到表和字段。</li>
</ul>

<h3 id="mysql权限上有哪些问题">MySQL权限上有哪些问题</h3>

<ul>
<li>使用Binary二进制安装管理用户没有设置密码</li>
<li>MySQL默认的test库不受权限控制，存在安全风险</li>
</ul>

<h3 id="mysql-secure-installation">mysql_secure_installation</h3>

<ul>
<li>You can set a Password for root accounts.</li>
<li>You can remove root accounts that are accessible from outside the localhost.</li>
<li>You can remove anonymous-user accounts.</li>
<li>You can remove the test database.</li>
</ul>

<h3 id="小结-1">小结</h3>

<ul>
<li>权限相关的操作不要直接操作表，统一使用MySQL命令。</li>
<li>使用二进制安装MySQL安装后，需要重置管理用户(root)的密码。</li>
<li>线上数据库不要留test库</li>
</ul>

<h2 id="实践课-数据库对象">实践课：数据库对象</h2>

<h3 id="何为表结构设计">何为表结构设计</h3>

<ul>
<li>表结构设计需要在正式进行开发之前完成</li>
<li>根据产品需求将复杂的业务模型抽象出来</li>
</ul>

<h3 id="设计表的时候需要注意哪些">设计表的时候需要注意哪些</h3>

<ul>
<li>理解各个表的依赖关系</li>
<li>理解各个表的功能特点

<ul>
<li>字段之间的约束、索引</li>
<li>字段类型、字段长度</li>
</ul></li>
</ul>

<h3 id="收集表属性">收集表属性</h3>

<ul>
<li>昵称</li>
<li>生日</li>
<li>性别</li>
<li>手机号码</li>
<li>住宅号码</li>
<li>邮编</li>
<li>住宅地址</li>
<li>注册地址</li>
<li>登录IP</li>
<li>上一次登录时间</li>
<li>邮件地址</li>
</ul>

<h3 id="理解表的功能特点-数据用途">理解表的功能特点——数据用途</h3>

<pre><code class="language-sql">create table tb_account(
  account_id int not null auto_increment primary key,
  nick_name varchar(20),
  true_name varchar(20),
  sex char(1),
  mail_address varchar(50),
  phone1 varchar(20) not null,
  phone2 varchar(20),
  password varchar(30) not null,
  create_time datetime,
  account_state tinyint,
  last_login_time datetime,
  last_login_ip varchar(20)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4

create table tb_goods(
  good_id bigint not null auto_increment primary key,
  goods_name varchar(100) not null,
  pic_url varchar(500) not null,
  store_quantity int not null,
  goods_note varchar(4096),
  producer varchar(500),
  category_id int not null
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4

create table tb_goods_category(
  category_id int not null auto_increment primary key,
  category_level smallint not null,
  category_name varchar(500),
  upper_category_id int not null
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4

create table tb_order(
  order_id bigint not null auto_increment primary key,
  account_id int not null,
  create_time datetime,
  order_amount decimal(12,2),
  order_state tinyint,
  update_time datetime,
  order_ip varchar(20),
  pay_method varchar(20),
  user_notes varchar(500)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4

create table tb_order_item(
  order_item_id bigint not null auto_increment primary key,
  order_id bigint not null,
  goods_id bigint not null,
  goods_quantity int not null,
  goods_amount decimal(12,2),
  uique key uk_order_goods(order_id, goods_id)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4
</code></pre>

<h3 id="数据类型-命名规范">数据类型——命名规范</h3>

<ul>
<li>所有表名，字段名全部使用小写字母</li>
<li>不同业务，表名使用不同前缀区分。</li>
<li>生成环境表名字段名要有实际意义</li>
<li>单个字段尽量使用字段全名；多个字段之间用下划线分隔</li>
</ul>

<h3 id="字段设计规范">字段设计规范</h3>

<ul>
<li>字段类型选择，尽量选择能满足应用要求的最小数据类型</li>
<li>尽量使用整形代替字符型。整形在字段长度、索引大小等方面开销小效率更高，如邮编字段，手机号码等</li>
<li>注释，每个字段必须以comment语句给出字段的作用</li>
<li>经常访问的大字段需要单独放到一张表中，避免降低sql效率，图片、电影等大文件数据禁止存数据库</li>
<li>新业务统一建议使用utf8mb4字符集</li>
</ul>

<h3 id="用户赋权">用户赋权</h3>

<ul>
<li>理解用户到底需要什么权限

<ul>
<li>普通用户只有数据读写权限</li>
<li>系统管理员具有super权限</li>
</ul></li>
<li>权限粒度要做到尽可能的细

<ul>
<li>普通用户不要设置with grant option属性</li>
<li>权限粒度：系统层面&gt;库层面&gt;表层面&gt;字段层面</li>
</ul></li>
<li>禁止简单密码

<ul>
<li>线上密码要求随机</li>
</ul></li>
</ul>

<h2 id="2-4-sql语言进阶">2.4-SQL语言进阶</h2>

<p>本课程涉及建表SQL</p>

<pre><code class="language-SQL">-- ----------------------------
-- Table structure for `play_fav`
-- ----------------------------
DROP TABLE IF EXISTS `play_fav`;
CREATE TABLE `play_fav` (
  `userid` bigint(20) NOT NULL COMMENT '收藏用户id',
  `play_id` bigint(20) NOT NULL COMMENT '歌单id',
  `createtime` bigint(20) NOT NULL COMMENT '收藏时间',
  `status` int(11) DEFAULT '0' COMMENT '状态，是否删除',
  PRIMARY KEY (`play_id`,`userid`),
  KEY `IDX_USERID` (`userid`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COMMENT='歌单收藏表';

-- ----------------------------
-- Records of play_fav
-- ----------------------------
INSERT INTO play_fav VALUES ('2', '0', '0', '0');
INSERT INTO play_fav VALUES ('116', '1', '1430223383', '0');
INSERT INTO play_fav VALUES ('143', '1', '0', '0');
INSERT INTO play_fav VALUES ('165', '2', '0', '0');
INSERT INTO play_fav VALUES ('170', '3', '0', '0');
INSERT INTO play_fav VALUES ('185', '3', '0', '0');
INSERT INTO play_fav VALUES ('170', '4', '0', '0');
INSERT INTO play_fav VALUES ('170', '5', '0', '0');

-- ----------------------------
-- Table structure for `play_list`
-- ----------------------------
DROP TABLE IF EXISTS `play_list`;
CREATE TABLE `play_list` (
  `id` bigint(20) NOT NULL COMMENT '主键',
  `play_name` varchar(255) DEFAULT NULL COMMENT '歌单名字',
  `userid` bigint(20) NOT NULL COMMENT '歌单作者账号id',
  `createtime` bigint(20) DEFAULT '0' COMMENT '歌单创建时间',
  `updatetime` bigint(20) DEFAULT '0' COMMENT '歌单更新时间',
  `bookedcount` bigint(20) DEFAULT '0' COMMENT '歌单订阅人数',
  `trackcount` int(11) DEFAULT '0' COMMENT '歌曲的数量',
  `status` int(11) DEFAULT '0' COMMENT '状态,是否删除',
  PRIMARY KEY (`id`),
  KEY `IDX_CreateTime` (`createtime`),
  KEY `IDX_UID_CTIME` (`userid`,`createtime`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COMMENT='歌单';

-- ----------------------------
-- Records of play_list
-- ----------------------------
INSERT INTO play_list VALUES ('1', '老男孩', '1', '1430223383', '1430223383', '5', '6', '0');
INSERT INTO play_list VALUES ('2', '情歌王子', '3', '1430223384', '1430223384', '7', '3', '0');
INSERT INTO play_list VALUES ('3', '每日歌曲推荐', '5', '1430223385', '1430223385', '2', '4', '0');
INSERT INTO play_list VALUES ('4', '山河水', '2', '1430223386', '1430223386', '5', null, '0');
INSERT INTO play_list VALUES ('5', '李荣浩', '1', '1430223387', '1430223387', '1', '10', '0');
INSERT INTO play_list VALUES ('6', '情深深', '5', '1430223388', '1430223389', '0', '0', '1');

-- ----------------------------
-- Table structure for `song_list`
-- ----------------------------
DROP TABLE IF EXISTS `song_list`;
CREATE TABLE `song_list` (
  `id` bigint(20) NOT NULL COMMENT '主键',
  `song_name` varchar(255) NOT NULL COMMENT '歌曲名',
  `artist` varchar(255) NOT NULL COMMENT '艺术节',
  `createtime` bigint(20) DEFAULT '0' COMMENT '歌曲创建时间',
  `updatetime` bigint(20) DEFAULT '0' COMMENT '歌曲更新时间',
  `album` varchar(255) DEFAULT NULL COMMENT '专辑',
  `playcount` int(11) DEFAULT '0' COMMENT '点播次数',
  `status` int(11) DEFAULT '0' COMMENT '状态,是否删除',
  PRIMARY KEY (`id`),
  KEY `IDX_artist` (`artist`),
  KEY `IDX_album` (`album`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COMMENT='歌曲列表';

-- ----------------------------
-- Records of song_list
-- ----------------------------
INSERT INTO song_list VALUES ('1', 'Good Lovin\' Gone Bad', 'Bad Company', '0', '0', 'Straight Shooter', '453', '0');
INSERT INTO song_list VALUES ('2', 'Weep No More', 'Bad Company', '0', '0', 'Straight Shooter', '280', '0');
INSERT INTO song_list VALUES ('3', 'Shooting Star', 'Bad Company', '0', '0', 'Straight Shooter', '530', '0');
INSERT INTO song_list VALUES ('4', '大象', '李志', '0', '0', '1701', '560', '0');
INSERT INTO song_list VALUES ('5', '定西', '李志', '0', '0', '1701', '1023', '0');
INSERT INTO song_list VALUES ('6', '红雪莲', '洪启', '0', '0', '红雪莲', '220', '0');
INSERT INTO song_list VALUES ('7', '风柜来的人', '李宗盛', '0', '0', '作品李宗盛', '566', '0');

-- ----------------------------
-- Table structure for `stu`
-- ----------------------------
DROP TABLE IF EXISTS `stu`;
CREATE TABLE `stu` (
  `id` int(10) NOT NULL DEFAULT '0',
  `name` varchar(20) DEFAULT NULL,
  `age` int(10) DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

-- ----------------------------
-- Records of stu
-- ----------------------------

-- ----------------------------
-- Table structure for `tbl_proc_test`
-- ----------------------------
DROP TABLE IF EXISTS `tbl_proc_test`;
CREATE TABLE `tbl_proc_test` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `num` int(11) DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=30 DEFAULT CHARSET=utf8;

-- ----------------------------
-- Records of tbl_proc_test
-- ----------------------------
INSERT INTO tbl_proc_test VALUES ('11', '1');
INSERT INTO tbl_proc_test VALUES ('12', '2');
INSERT INTO tbl_proc_test VALUES ('13', '6');
INSERT INTO tbl_proc_test VALUES ('14', '24');
INSERT INTO tbl_proc_test VALUES ('15', '120');
INSERT INTO tbl_proc_test VALUES ('16', '720');
INSERT INTO tbl_proc_test VALUES ('17', '5040');
INSERT INTO tbl_proc_test VALUES ('18', '40320');
INSERT INTO tbl_proc_test VALUES ('19', '362880');
INSERT INTO tbl_proc_test VALUES ('20', '3628800');
INSERT INTO tbl_proc_test VALUES ('21', '1');
INSERT INTO tbl_proc_test VALUES ('22', '2');
INSERT INTO tbl_proc_test VALUES ('23', '6');
INSERT INTO tbl_proc_test VALUES ('24', '24');
INSERT INTO tbl_proc_test VALUES ('25', '1');
INSERT INTO tbl_proc_test VALUES ('26', '2');
INSERT INTO tbl_proc_test VALUES ('27', '6');
INSERT INTO tbl_proc_test VALUES ('28', '24');
INSERT INTO tbl_proc_test VALUES ('29', '120');

-- ----------------------------
-- Table structure for `tbl_test1`
-- ----------------------------
DROP TABLE IF EXISTS `tbl_test1`;
CREATE TABLE `tbl_test1` (
  `user` varchar(255) NOT NULL COMMENT '主键',
  `key` varchar(255) NOT NULL,
  `value` varchar(255) NOT NULL,
  PRIMARY KEY (`user`,`key`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COMMENT='行列转换测试';

-- ----------------------------
-- Records of tbl_test1
-- ----------------------------
INSERT INTO tbl_test1 VALUES ('li', 'age', '18');
INSERT INTO tbl_test1 VALUES ('li', 'dep', '2');
INSERT INTO tbl_test1 VALUES ('li', 'sex', 'male');
INSERT INTO tbl_test1 VALUES ('sun', 'age', '44');
INSERT INTO tbl_test1 VALUES ('sun', 'dep', '3');
INSERT INTO tbl_test1 VALUES ('sun', 'sex', 'female');
INSERT INTO tbl_test1 VALUES ('wang', 'age', '20');
INSERT INTO tbl_test1 VALUES ('wang', 'dep', '3');
INSERT INTO tbl_test1 VALUES ('wang', 'sex', 'male');

-- ----------------------------
-- Procedure structure for `proc_test1`
-- ----------------------------
DROP PROCEDURE IF EXISTS `proc_test1`;
DELIMITER ;;
CREATE DEFINER=`root` PROCEDURE `proc_test1`(IN total INT,OUT res INT)
BEGIN   
    DECLARE i INT;  
    SET i = 1;
    SET res = 1;
    IF total &lt;= 0 THEN   
        SET total = 1;   
    END IF;   
    WHILE i &lt;= total DO
        SET res = res * i;
        INSERT INTO tbl_proc_test(num) VALUES (res);  
        SET i = i + 1;
    END WHILE;
END
;;
DELIMITER ;
</code></pre>

<h3 id="说明">说明</h3>

<ul>
<li>本课程介绍以MySQL SQL语法为基础，不同数据库SQL语法存在差异，并未完全遵照ANSI标准。</li>
<li>本课程结合一个实际项目（云音乐），介绍各种SQL语言在实际应用中如何实现业务功能。</li>
</ul>

<h3 id="sql进阶语法-order-by">SQL进阶语法——order by</h3>

<p>场景1：歌单按时间排序</p>

<pre><code class="language-sql">-- 查看全部歌单
select * from play_list;

-- 按创建时间排序
select * from play_list order by createtime;
-- MySQL默认升序，如果按降序排列，则使用如下语句。
select * from play_list order by createtime desc;
-- 也可以按照多个字段来排序
select * from play_list order by bookedcount, trackcount;
</code></pre>

<h3 id="sql进阶语法-distinct">SQL进阶语法——distinct</h3>

<p>场景2：统计云音乐创建歌单的用户</p>

<pre><code class="language-sql">-- 有重复
select userid from play_list;

-- 去重
select distinct userid from play_list;

-- 多个字段
select distinct userid, play_name from play_list;
</code></pre>

<ul>
<li>distinct用于返回唯一不同的值</li>
<li>可以返回多列的唯一组合</li>
<li>底层实现使用排序，如果数据量大会消耗较多的IO和CPU</li>
</ul>

<h3 id="sql进阶语法-group-by">SQL进阶语法——group by</h3>

<p>场景3-1：统计云音乐创建歌单的用户列表和每人创建歌单的数量。</p>

<pre><code class="language-sql">-- 每个用户歌单的最大订阅数
select userid, max(bookedcount) from play_list group by userid;

-- 每个用户歌单的数量
select userid, count(*) from play_list group by userid;
</code></pre>

<ul>
<li>group by 根据单列或多列对数据进行分组，通常结合聚合函数使用，如count(*).</li>
</ul>

<h3 id="sql进阶语法-group-by-having">SQL进阶语法——group by having</h3>

<p>场景3-2：统计云音乐创建歌单的用户列表和每人创建歌单的数量，并且只显示歌单数量排序大于等于2的用户</p>

<pre><code class="language-sql">select userid, count(*) from play_list group by userid having count(*) &gt;= 2;
</code></pre>

<ul>
<li>having 是对结果进行过滤</li>
</ul>

<p>SQL进阶语法-like</p>

<pre><code class="language-sql">select * from play_list where play_name like '%男孩%';
</code></pre>

<table>
<thead>
<tr>
<th align="left">通配符</th>
<th align="left">描述</th>
</tr>
</thead>

<tbody>
<tr>
<td align="left">%</td>
<td align="left">代替一个或多个字符</td>
</tr>

<tr>
<td align="left">_</td>
<td align="left">代替单个字符</td>
</tr>

<tr>
<td align="left">[charlist]</td>
<td align="left">中括号中的任何一个字符</td>
</tr>

<tr>
<td align="left">[^charlist] 或者 [!charlist]</td>
<td align="left">不在中括号中的任何单一字符</td>
</tr>
</tbody>
</table>

<ul>
<li>除了百分号在最右面的情况以外，他会对这个表中所有的记录进行一次查询匹配，而没办法使用索引，效率较低。大表中需要慎用like。可以使用全文检索的手段。</li>
</ul>

<h3 id="sql进阶语法-limit-offset">SQL进阶语法-limit, offset</h3>

<p>场景4：查询一个月内创建歌单（从第6行开始显示10条记录）</p>

<pre><code class="language-sql">select * from play_list where (createtime between 1427791323 and 1430383307) limit 10 offset 6;
</code></pre>

<ul>
<li>offset后的值不建议太大，需要消耗的IO较大</li>
</ul>

<h3 id="case-when">case when</h3>

<ul>
<li>case when 实现类似编程语言的if else功能，可以对SQL的输出结果进行选择判断。</li>
</ul>

<p>场景5：对于未录入歌曲的歌单(trackcount = null)，输出结果时歌曲数返回0.</p>

<pre><code class="language-sql">select case when play_name, trackcount is null then 0 else trackcount end from play_list;
</code></pre>

<h3 id="select相关进阶语法">select相关进阶语法</h3>

<pre><code class="language-sql">SELECT
  [DISTINCT]
  select_expr [, select_expr ...]
  [FROM table_references
  [WHERE where_condition]
  [GROUP BY {col_name | expr | position}
    [ASC | DESC], ... [WITH ROLLUP]]
  [HAVING where_condition]
  [ORDER BY {col_name | expr | position}
    [ASC | DESC], ...]
  [LIMIT { [offset, ] row_count | row_count OFFSET offset}]
    [FOR UPDATE | LOCK IN SHARE MODE]]
</code></pre>

<h3 id="连接-join">连接-Join</h3>

<p>连接的作用是用一个SQL语句把多个表中相互关联的数据查出来</p>

<p>场景6：查询收藏“老男孩”歌单的用户列表</p>

<pre><code class="language-sql">select * from play_list, play_fav where play_list.id=play_fav.play_id;
select play_fav.userid from play_list, play_fav where play_list.id=play_fav.play_id and play_list.play_name='老男孩';
-- 另一种写法
select f.userid from play_list lst join play_fav f on lst.id=f.play_id where lst.play_name = '老男孩';
</code></pre>

<h3 id="子查询">子查询</h3>

<ul>
<li>MySQL还有另一种写法，可以实现同样的功能。
<code>sql
select userid from play_fav where play_id=(select id from play_list where play_name = '老男孩');
</code></li>
</ul>

<p>子查询：内层查询的结果作为外层的比较条件。一般子查询都可以转换成连接，推荐使用连接。</p>

<ul>
<li>不利于MySQL的查询优化器进行优化，可能存在性能问题</li>
<li>连接的实现是嵌套循环，选择一个驱动表，遍历驱动表，查询内层表，依次循环。驱动表会至少查询一边，如果有索引等，内层表可以非常快，查询优化器会选择数据小的表作为驱动表。</li>
<li>子查询由人为规定驱动表和内层表</li>
</ul>

<h3 id="连接-left-join">连接- left Join</h3>

<pre><code class="language-sql">select lst.play_name from play_list lst left join play_fav f on lst.id = f.play_id where f.play_id is null;
</code></pre>

<ul>
<li>LEFT JOIN从左表(play_list)返回所有的行，即使在右表中(play_fav)中没有匹配的行。</li>
<li>与LEFT JOIN相对应的有RIGHT JOIN关键字，会从右表那里返回所有的行，即使在左表中没有匹配的行。</li>
</ul>

<p>场景7：查询出没有用户收藏的歌单</p>

<h3 id="sql进阶语法-union">SQL进阶语法-union</h3>

<p>场景8：老板想看创建和收藏歌单的所有用户，查询play_list和play_fav两表中所有的userid</p>

<pre><code class="language-sql">select userid from play_list union select userid from play_fav;
-- 默认会去重， 不想去重的话使用union all代替union。
</code></pre>

<h3 id="dml进阶语法">DML进阶语法</h3>

<ul>
<li>多值插入： insert into table values(&hellip;.),(&hellip;.)

<ul>
<li>可以一次插入多行数据，减少与数据库的交互提高效率</li>
<li>eg： <code>insert into A values(4, 33), (5, 33);</code></li>
</ul></li>
<li>覆盖插入： replace into table values (&hellip;.)

<ul>
<li>可以简化业务逻辑的判断</li>
</ul></li>
<li>忽略插入： insert ignore into table value (&hellip;.)

<ul>
<li>可以简化业务逻辑的判断</li>
</ul></li>
<li>查询插入： insert into table_a select * from table_b

<ul>
<li>常用于导表操作</li>
</ul></li>
<li>insert主键重复则update

<ul>
<li><code>INSERT INTO TABLE tbl VALUES (id, col1, col2) ON DUPLICATE KEY UPDATE col2=....;</code></li>
<li>eg: <code>insert into A values(2, 40) on duplicate key update age=40;</code></li>
<li>可以简化前端业务逻辑的判断</li>
</ul></li>
<li>连表update

<ul>
<li>A表：id, age</li>
<li>B表：id, name, age</li>
<li>A表id与B表id关联，根据B表的age值更新A表的age。</li>
<li>eg: <code>update A,B set A.age=B.age where A.id=B.id;</code></li>
</ul></li>
<li>连表删除

<ul>
<li>A表：id, age</li>
<li>B表：id, name, age</li>
<li>A表id与B表id关联，根据B表的age值删除A表的数据。</li>
<li>eg: <code>delete A from A,B where A.id=B.id and B.name='pw';</code></li>
</ul></li>
</ul>

<h3 id="总结">总结</h3>

<ul>
<li>select查询进阶语法

<ul>
<li>order by/distinct/group by having (聚合函数) /like (%前缀后缀)</li>
</ul></li>
<li>连接语法

<ul>
<li>内连接、左连接、右连接、 Union [ALL]</li>
</ul></li>
<li>DML进阶语法

<ul>
<li>insert/连表update/连表delete</li>
</ul></li>
</ul>

<h2 id="2-5-内置函数">2.5-内置函数</h2>

<h3 id="聚合函数">聚合函数</h3>

<ul>
<li>聚合函数面向一组数据，对数据进行聚合运算后返回单一的值。</li>
<li>MySQL聚合函数的基本语法：<code>SELECT function(列) from 表</code></li>
<li>常用聚合函数：</li>
</ul>

<table>
<thead>
<tr>
<th align="left">函数</th>
<th align="left">描述</th>
</tr>
</thead>

<tbody>
<tr>
<td align="left">AVG()</td>
<td align="left">返回列的平均值</td>
</tr>

<tr>
<td align="left">COUNT(DISTINCT)</td>
<td align="left">返回列去重后的行数</td>
</tr>

<tr>
<td align="left">COUNT()</td>
<td align="left">返回列的行数</td>
</tr>

<tr>
<td align="left">MAX()</td>
<td align="left">返回列的最大值</td>
</tr>

<tr>
<td align="left">MIN()</td>
<td align="left">返回列的最小值</td>
</tr>

<tr>
<td align="left">SUM()</td>
<td align="left">返回列的总和</td>
</tr>

<tr>
<td align="left">GROUP_CONCAT()</td>
<td align="left">返回一组值的连接字符串(MySQL独有)</td>
</tr>
</tbody>
</table>

<p><em>实例还是上节中的那些表</em></p>

<p>场景1：查询每张专辑总的点播次数和每首歌的平均点播次数。</p>

<pre><code class="language-sql">select album, sum(playcount), avg(playcount) from song_list group by album;
</code></pre>

<p>场景2：查询全部歌曲中的最大的播放次数和最小的播放次数。</p>

<pre><code class="language-sql">select max(playcount), min(playcount) from song_list;
</code></pre>

<p>场景2续：查询播放次数最多的歌曲</p>

<pre><code class="language-sql">-- 错误查法
select song_name, max(playcount) from song_list;
-- 正确查法
select song_name, playcount from song_list order by playcount desc limit 1;
</code></pre>

<ul>
<li><code>select count(*) from song_list;</code></li>
<li><code>select count(1) from song_list;</code></li>
<li><code>select count(song_name) from song_list;</code></li>
</ul>

<p><code>count(*)</code>和<code>count(1)</code>基本一样，没有明显的性能差异。
<code>count(*)</code>和<code>count(song_name)</code>差别在于<code>count(song_name)</code>会除去song_name is null的情况</p>

<p>场景3：显示每张专辑的歌曲列表</p>

<pre><code class="language-sql">select album, GROUP_CONCAT(song_name) from song_list group by album;
-- 默认最大只能连接1024个字符，但是可以通过改数据库参数来改变。
</code></pre>

<h3 id="使用聚合函数做数据库行列转换">使用聚合函数做数据库行列转换</h3>

<pre><code class="language-sql">select user,
max(case when 'key'='age' then value end) age,
max(case when 'key'='sex' then value end) sex,
max(case when 'key'='dep' then value end) dep,
from tbl_test1
group by user;
</code></pre>

<h3 id="预定义函数">预定义函数</h3>

<ul>
<li>预定义函数面向单值数据，返回一对一的处理结果(聚合函数可以理解成多对一)。</li>
<li>预定义函数基本语法：
<code>sql
select function(列) from 表;
select * from 表 where 列 = function(value) ...
</code></li>
</ul>

<h3 id="预定义函数-字符串函数">预定义函数-字符串函数</h3>

<table>
<thead>
<tr>
<th align="left">函数</th>
<th align="left">描述</th>
</tr>
</thead>

<tbody>
<tr>
<td align="left">LENGTH()</td>
<td align="left">返回列的字节数</td>
</tr>

<tr>
<td align="left">CHAR_LENGTH()</td>
<td align="left">返回列的字符数</td>
</tr>

<tr>
<td align="left">TRIM()/RTRIM()/LTRIM()</td>
<td align="left">去除两边空格/去除右边空格/去除左边空格</td>
</tr>

<tr>
<td align="left">SUBSTRING(str, pos, [len])</td>
<td align="left">从pos位置截取字符串str，截取len长度</td>
</tr>

<tr>
<td align="left">LOCATE(substr, str, [pos])</td>
<td align="left">返回substr在str字符串中的位置</td>
</tr>

<tr>
<td align="left">REPLACE(str, from_str, to_str)</td>
<td align="left">将str字符串中的from_str替换成to_str</td>
</tr>

<tr>
<td align="left">LOWER(), UPPER()</td>
<td align="left">字符串转换为小写/大写</td>
</tr>
</tbody>
</table>

<ul>
<li>字符串函数 - 实例</li>
</ul>

<pre><code class="language-sql">SELECT SUBSTRING('abcdef', 3);
-- 'cdef'
SELECT SUBSTRING('abcdef', -3);
-- 'def'
SELECT SUBSTRING('abcdef', 3, 2);
-- 'cd'
SELECT LOCATE('bar', 'foobarbar');
-- 4
SELECT LOCATE('xbar', 'foobar');
-- 0
SELECT LOCATE('bar', 'foobarbar', 5);
-- 7
</code></pre>

<h3 id="预定义函数-时间处理函数">预定义函数-时间处理函数</h3>

<table>
<thead>
<tr>
<th align="left">函数</th>
<th align="left">描述</th>
</tr>
</thead>

<tbody>
<tr>
<td align="left">CURDATE()</td>
<td align="left">当前日期</td>
</tr>

<tr>
<td align="left">CURTIME()</td>
<td align="left">当前时间</td>
</tr>

<tr>
<td align="left">NOW()</td>
<td align="left">显示当前时间日期(常用)</td>
</tr>

<tr>
<td align="left">UNIX_TIMESTAMP()</td>
<td align="left">当前时间戳</td>
</tr>

<tr>
<td align="left">DATE_FORMAT(date, format)</td>
<td align="left">按指定格式显示时间</td>
</tr>

<tr>
<td align="left">DATE_ADD(date, INTERVAL unit)</td>
<td align="left">计算指定日期向后加一段时间的日期</td>
</tr>

<tr>
<td align="left">DATE_SUB(date, INTERVAL unit)</td>
<td align="left">计算指定日期向前减一段时间的日期</td>
</tr>
</tbody>
</table>

<ul>
<li>实例：</li>
</ul>

<pre><code class="language-sql">SELECT NOW() + INTERVAL 1 MONTH;
SELECT NOW() - INTERVAL 1 WEEK;
</code></pre>

<h3 id="预定义函数-数字处理函数">预定义函数-数字处理函数</h3>

<table>
<thead>
<tr>
<th align="left">函数</th>
<th align="left">描述</th>
</tr>
</thead>

<tbody>
<tr>
<td align="left">ABS()</td>
<td align="left">返回数值的绝对值</td>
</tr>

<tr>
<td align="left">CEIL()</td>
<td align="left">对小数向上取整 CEIL(1.2)=2</td>
</tr>

<tr>
<td align="left">ROUND()</td>
<td align="left">四舍五入</td>
</tr>

<tr>
<td align="left">POW(num, n)</td>
<td align="left">num的n次幂 POW(2, 2)=4</td>
</tr>

<tr>
<td align="left">FLOOR()</td>
<td align="left">对小数向下取整 CELL(1.2)=1</td>
</tr>

<tr>
<td align="left">MOD(N, M)</td>
<td align="left">取模(返回n除以m的余数)=N % M</td>
</tr>

<tr>
<td align="left">RAND()</td>
<td align="left">取0~1之间的一个随机数</td>
</tr>
</tbody>
</table>

<h3 id="算数-逻辑运算">算数、逻辑运算</h3>

<ul>
<li>比较运算</li>
</ul>

<table>
<thead>
<tr>
<th align="left">函数</th>
<th align="left">描述</th>
</tr>
</thead>

<tbody>
<tr>
<td align="left">IS, IS NOT</td>
<td align="left">判定布尔值 IS True, IS NOT False, IS NULL</td>
</tr>

<tr>
<td align="left">&gt;, &gt;=</td>
<td align="left">大于，大于等于</td>
</tr>

<tr>
<td align="left">&lt;, &lt;=</td>
<td align="left">小于，小于等于</td>
</tr>

<tr>
<td align="left">=</td>
<td align="left">等于</td>
</tr>

<tr>
<td align="left">!=, &lt;&gt;</td>
<td align="left">不等于</td>
</tr>

<tr>
<td align="left">BETWEEN M AND N</td>
<td align="left">取M和N之间的值</td>
</tr>

<tr>
<td align="left">IN, NOT IN</td>
<td align="left">检查是否在或不在一组值之中</td>
</tr>
</tbody>
</table>

<p>实例：查询一个月内userid为1,3,5的用户创建的歌单</p>

<pre><code class="language-sql">select * from play_list where (createtime between 1427791323 and 1430383307) and userid in (1,3,5);
</code></pre>

<ul>
<li><code>*,/,DIV,%,MOD,-,+</code></li>
<li><code>NOT, AND, &amp;&amp;, XOR, OR, ||</code></li>
</ul>

<h2 id="2-6-触发器与存储过程">2.6-触发器与存储过程</h2>

<h3 id="触发器">触发器</h3>

<ul>
<li>是什么

<ul>
<li>触发器是加在表上的一个特殊程序，当表上出现特定的事件(INSERT/UPDATE/DELETE)时触发该程序执行。</li>
</ul></li>
<li>做什么

<ul>
<li>数据订正；迁移表；实现特定的业务逻辑。</li>
</ul></li>
</ul>

<h3 id="触发器-基本语法">触发器-基本语法</h3>

<pre><code class="language-sql">CREATE
[DEFINER = { user | CURRENT_USER }]
TRIGGER trigger_name trigger_time
trigger_event ON tbl_name
FOR EACH ROW
trigger_body t

trigger_time: { BEFORE | AFTER }
trigger_event: { INSERT | UPDATE | DELETE }
</code></pre>

<h3 id="触发器-实例">触发器-实例</h3>

<p>学生表：</p>

<pre><code class="language-sql">CREATE TABLE `stu` (
  `name` varchar(50),
  `course` varchar(50),
  `score` int(11),
  PRIMARY KEY (`name`)
) ENGINE=InnoDB;
</code></pre>

<p>用于更正成绩的触发器：</p>

<pre><code class="language-sql">DELIMITER //
CREATE TRIGGER trg_upd_score
BEFORE UPDATE ON `stu`
FOR EACH ROW
BEGIN
  IF NEW.score &lt; 0 THEN
    SET NEW.score = 0;
  ELSEIF NEW.score &gt; 100 THEN
    SET NEW.score = 100;
  END IF;
END; //
DELIMITER ;
</code></pre>

<h3 id="注意事项">注意事项</h3>

<ul>
<li>触发器对性能有损耗，应慎重使用。</li>
<li>同一类事件在一个表中只能创建一次。</li>
<li>对于事务表，触发器执行失败则整个语句回滚。</li>
<li>Row格式的主从复制，触发器不会在从库上执行。</li>
<li>使用触发器时应防止递归执行。</li>
</ul>

<h3 id="存储过程">存储过程</h3>

<ul>
<li>定义：存储过程是存储在数据库的一组SQL语句集，用户可以通过存储过程名和传参多次调用的程序模块。</li>
<li>特点：

<ul>
<li>使用灵活，可以使用流控制语句，自定义变量等完成复杂的业务逻辑。</li>
<li>提高数据安全性，屏蔽应用程序直接对表的操作，易于进行审计。</li>
<li>减少网络传输。</li>
<li>提高代码维护的复杂度，实际使用中要评估场景是否适合。</li>
</ul></li>
</ul>

<h3 id="存储过程-基本语法">存储过程-基本语法</h3>

<pre><code class="language-sql">CREATE
  [DEFINER = { user | CURRENT_USER }]
  PROCEDURE sp_name ([proc_parameter[,...]])
  [characteristic ...] routine_body

proc_parameter:
  [ IN | OUT | INOUT ] param_name type
type:
  Any valid MySQL data type
characteristic:
    COMMENT 'string'
  | [NOT] DETERMINISTIC
routine_body:
  Valid SQL routine statement
</code></pre>

<h3 id="存储过程-实例">存储过程-实例</h3>

<pre><code class="language-sql">CREATE PROCEDURE proc_test1
(IN total INT, OUT res INT)
BEGIN
  DECLARE i INT;
  SET i = 1;
  SET res = 1;
  IF total &lt;= 0 THEN
    SET total = 1;
  END IF;
  WHILE i &lt;= total DO
    SET res = res * i;
    INSERT INTO tbl_proc_test(num) VALUES (res);
    SET i = i + 1;
  END WHILE;
END;
</code></pre>

<h3 id="存储过程-流控制语句">存储过程-流控制语句</h3>

<table>
<thead>
<tr>
<th align="left">流控制</th>
<th align="left">描述</th>
</tr>
</thead>

<tbody>
<tr>
<td align="left">IF</td>
<td align="left">IF search_condition THEN statement_list [ELSEIF search_condition THEN statement_list][ELSE statement_list] END IF</td>
</tr>

<tr>
<td align="left">CASE</td>
<td align="left">CASE case_value WHEN when_value THEN statement_list [ELSE statement_list] END CASE</td>
</tr>

<tr>
<td align="left">WHILE</td>
<td align="left">WHILE search_condition DO statement_list END WHILE</td>
</tr>

<tr>
<td align="left">REPEAT</td>
<td align="left">REPEAT statement_list UNTIL search_condition END REPEAT</td>
</tr>
</tbody>
</table>

<h3 id="存储过程-调用">存储过程-调用</h3>

<pre><code class="language-sql">set @total=10;
set @res=1;
call proc_test1(@total, @res);
select @res;
</code></pre>

<h3 id="自定义函数">自定义函数</h3>

<ul>
<li>自定义函数与存储过程类似，但是必须带有返回值(RETURN)。</li>
<li>自定义函数与sum(), max()等MySQL原生函数使用方法类似：
<code>sql
SELECT func(val);
SELECT * from tbl where col=func(val);
</code></li>
<li>由于自定义函数可能在遍历数据中使用，要注意性能损耗</li>
</ul>

<h3 id="自定义函数-基本语法">自定义函数-基本语法</h3>

<pre><code class="language-sql">CREATE
  [DEFINER = { user | CURRENT_USER}]
  FUNCTION sp_name ([func_parameter[,...]])
  RETURNS type
  [characteristic ...] routine_body
func_parameter:
  param_name type
type:
  Any valid MySQL data type
characteristic:
    COMMENT 'string'
  | [NOT] DETERMINISTIC
routine_body:
  Valid SQL routine statement
</code></pre>

<h3 id="自定义函数-实例">自定义函数-实例</h3>

<pre><code class="language-sql">CREATE FUNCTION func_test1 (total INT)
RETURNS INT
BEGIN
  DECLARE i INT;
  DECLARE res INT;
  SET i = 1;
  SET res = 1;
  IF total &lt;= 0 THEN
    SET total = 1;
  END IF;
  WHILE i &lt; total DO
    SET res = res * i;
    SET i = i + 1;
  END WHILE;
  RETURN res;
END;
</code></pre>

<h3 id="自定义函数-调用">自定义函数-调用</h3>

<pre><code class="language-sql">select func_test1(4);
</code></pre>

<h3 id="小结-2">小结</h3>

<ul>
<li>知识点：触发器、存储过程、自定义函数</li>
<li>互联网场景：触发器和存储过程不利于水平扩展，多用于统计和运维操作中。</li>
</ul>

<h2 id="2-7-mysql字符集">2.7-MySQL字符集</h2>

<h3 id="字符集基础">字符集基础</h3>

<ul>
<li>字符集：数据库中的字符集包含两层含义

<ul>
<li>各种文字和符号的集合，包括各国家文字、标点符号、图形符号、数字等。</li>
<li>字符的编码方式，即二进制数据与字符的映射规则。</li>
</ul></li>
</ul>

<h3 id="字符集-分类">字符集-分类</h3>

<ul>
<li>ASCII：美国信息互换标准编码；英语和其他西欧语言；单字节编码，7位表示一个字符，共128字符。</li>
<li>GBK：汉字内码扩展规范；中日韩汉字、英文、数字；双字节编码；共收录了21003个汉字，GB2312的扩展。</li>
<li>UTF-8:Unicode标准的可变长度字符编码；Unicode标准（统一码），业界统一标准，包括世界上数十种文字的系统；UTF-8使用一至四个字节为每个字符编码。</li>
<li>其他常见字符集：UTF-32，UTF-16，Big5，latin1</li>
</ul>

<h3 id="mysql字符集">MySQL字符集</h3>

<ul>
<li>查看字符集</li>
</ul>

<pre><code class="language-sql">SHOW CHARACTER SET;
</code></pre>

<ul>
<li>新增字符集</li>
</ul>

<pre><code class="language-bash"># 编译时加入： --with-charset=
./configure --prefix=/usr/local/mysql3 --with-plugins=innobase --with-charset=gbk
</code></pre>

<h3 id="字符集与字符序">字符集与字符序</h3>

<ul>
<li>charset和collation

<ul>
<li>collation：字符序，字符的排序与比较规则，每个字符集都有对应的多套字符序。</li>
<li>不同的字符序决定了字符串在比较排序中的精度和性能不同。</li>
</ul></li>
</ul>

<p>查看字符序</p>

<pre><code class="language-sql">show collation;
</code></pre>

<p>mysql的字符序遵从命名惯例：以_ci(表示大小写不敏感)，以_CS(表示大小写敏感)，以_bin(表示用编码值进行比较)。</p>

<h3 id="字符集设置级别">字符集设置级别</h3>

<ul>
<li>charset和collation的设置级别：

<ul>
<li>服务器级 &gt;&gt; 数据库级 &gt;&gt; 表级 &gt;&gt; 列级</li>
</ul></li>
<li>服务器级

<ul>
<li>系统变量(可动态设置)：</li>
<li>character_set_server：默认的内部操作字符集</li>
<li>character_set_system：系统元数据(各字段名等)字符集</li>
</ul></li>
</ul>

<h3 id="字符集设置级别-1">字符集设置级别</h3>

<ul>
<li>服务器级</li>
</ul>

<pre><code>配置文件

[mysqld]
character_set_server=utf8
collation_server=utf8_general_ci
</code></pre>

<ul>
<li>数据库级</li>
</ul>

<pre><code class="language-sql">CREATE DATABASE db_name CHARACTER SET latin1 COLLATE latin1_swedish_ci;
</code></pre>

<ul>
<li>character_set_database：当前选中数据库的默认字符集</li>
</ul>

<p>主要影响load data等语句的默认字符集，CREATE DATABASE的字符集如果不设置，默认使用character_set_server的字符集。</p>

<ul>
<li>表级</li>
</ul>

<pre><code class="language-sql">CREATE TABLE tbl1 (....) DEFAULT CHARSET=utf8 DEFAULT COLLATE=utf8_bin;
</code></pre>

<ul>
<li>列级</li>
</ul>

<pre><code class="language-sql">CREATE TABLE tbl1 (col1 VARCHAR(5) CHARACTER SET latin1 COLLATE latin1_german1_ci);
</code></pre>

<h3 id="字符集设置级别-2">字符集设置级别</h3>

<ul>
<li>数据存储字符集使用规则：

<ul>
<li>使用列集的CHARACTER SET设定值；</li>
<li>若列级字符集不存在，则使用对应表级的DEFAULT CHARACTER SET设定值；</li>
<li>若表级字符集不存在，则使用数据库级的DEFAULT CHARACTER SET设定值；</li>
<li>若数据库级字符集不存在，则使用服务器级character_set_server设定值。</li>
</ul></li>
</ul>

<pre><code class="language-sql">-- 查看字符集
show [global] variables like 'character%';
show [global] variables like 'collation%';

-- 修改字符集
set global character_set_server=utf8; -- 全局
alter table xxx convert to character set xxx; -- 表
</code></pre>

<h3 id="客户端连接与字符集">客户端连接与字符集</h3>

<ul>
<li>连接与字符集

<ul>
<li>character_set_client：客户端来源数据使用的字符集。</li>
<li>character_set_connection：连接层字符集。</li>
<li>character_set_results：查询结果字符集。</li>
</ul></li>
</ul>

<pre><code>mysql &gt; set names utf8;

配置文件设置：
[mysql]
default-character-set=utf8
</code></pre>

<ul>
<li>字符转换过程</li>
</ul>

<p>client &gt; character_set_client &gt; character_set_connection &gt; Storage &gt; character_set_results &gt;client</p>

<p>推荐使用统一的字符集</p>

<ul>
<li><p>常见乱码原因：</p>

<ul>
<li>数据存储字符集不能正确编码(不支持)client发来的数据：client(utf8)-&gt;Storage(latin1)</li>
<li>程序连接使用的字符集与通知mysql的character_set_client等不一致或不兼容。</li>
</ul></li>

<li><p>使用建议</p>

<ul>
<li>创建数据库/表时显式的指定字符集，不使用默认。</li>
<li>连接字符集与存储字符集设置一致，推荐使用utf8。</li>
<li>驱动程序连接时显式指定字符集(set names XXX).</li>
</ul></li>

<li><p>mysql CAPI:初始化数据库句柄后马上用mysql_options设定MYSQL_CHARSET_NAME属性为utf8.</p></li>

<li><p>mysql php API:连接到数据库以后显式用SET NAMES语句设置一次连接字符集。</p></li>

<li><p>mysql JDBC: url=&ldquo;jdbc:mysql://localhost:3306/blog_dbo?user=xx&amp;password=xx&amp;userUnicode=true&amp;characterEncoding=utf8&rdquo;</p></li>
</ul>

<h3 id="小结-3">小结</h3>

<ul>
<li>字符集：表示的字符集和/字符编码方式</li>
<li>字符的设置级别：服务器/数据库/表/列</li>
<li>客户端字符集：乱码产生的原因与解决方式</li>
</ul>

<h2 id="2-8程序连接mysql">2.8程序连接MySQL</h2>

<h3 id="程序连接mysql基本原理">程序连接MySQL基本原理</h3>

<p>JDBC客户端应用 -&gt; java.sql.*或javax.sql.* -&gt; 驱动程序 -&gt; SQLserver/Oracle/MySQL</p>

<h3 id="java代码示例">Java代码示例</h3>

<p>结构：</p>

<p>DriverManager
-&gt; Driver(是驱动程序对象的接口，指向具体数据库驱动程序对象)=DriverManager.getDriver(String URL)
-&gt; Connectinon(是连接对象接口，指向具体数据库连接对象)=DriverManager.getConnection(String URL)
-&gt; Statement(执行静态SQL语句接口)=Connection.CreateStatement()
-&gt; ResultSet(是指向结果集对象的接口)=Statement.excuteXXX()</p>

<pre><code class="language-java">import java.sql.*;

/**
 * 使用JDBC连接MySQL
 */
public class DBTest {

    public static Connection getConnection() throws SQLException,
            java.lang.ClassNotFoundException
    {
        //第一步：加载MySQL的JDBC的驱动
        Class.forName(&quot;com.mysql.jdbc.Driver&quot;);

        //设置MySQL连接字符串,要访问的MySQL数据库 ip,端口,用户名,密码
        String url = &quot;jdbc:mysql://localhost:3306/blog&quot;;        
        String username = &quot;blog_user&quot;;
        String password = &quot;blog_pwd&quot;;

        //第二步：创建与MySQL数据库的连接类的实例
        Connection con = DriverManager.getConnection(url, username, password);        
        return con;        
    }


    public static void main(String args[]) {
        Connection con = null;
        try
        {
            //第三步：获取连接类实例con，用con创建Statement对象类实例 sql_statement
            con = getConnection();            
            Statement sql_statement = con.createStatement();

            /************ 对数据库进行相关操作 ************/                
            //如果同名数据库存在，删除
            sql_statement.executeUpdate(&quot;drop table if exists user;&quot;);            
            //执行了一个sql语句生成了一个名为user的表
            sql_statement.executeUpdate(&quot;create table user (id int not null auto_increment,&quot; +
                    &quot; name varchar(20) not null default 'name', age int not null default 0, primary key (id) ); &quot;);

            //向表中插入数据
            System.out.println(&quot;JDBC 插入操作:&quot;);
            String sql = &quot;insert into user(name,age) values('liming', 18)&quot;;

            int num = sql_statement.executeUpdate(&quot;insert into user(name,age) values('liming', 18)&quot;);
            System.out.println(&quot;execute sql : &quot; + sql);
            System.out.println(num + &quot; rows has changed!&quot;);
            System.out.println(&quot;&quot;);

            //第四步：执行查询，用ResultSet类的对象，返回查询的结果
            String query = &quot;select * from user&quot;;            
            ResultSet result = sql_statement.executeQuery(query);

            /************ 对数据库进行相关操作 ************/

            System.out.println(&quot;JDBC 查询操作:&quot;);
            System.out.println(&quot;------------------------&quot;);
            System.out.println(&quot;userid&quot; + &quot; &quot; + &quot;name&quot; + &quot; &quot; + &quot;age &quot;);
            System.out.println(&quot;------------------------&quot;);

            //对获得的查询结果进行处理，对Result类的对象进行操作
            while (result.next())
            {
                int userid =   result.getInt(&quot;id&quot;);
                String name    =   result.getString(&quot;name&quot;);
                int age        =   result.getInt(&quot;age&quot;);
                //取得数据库中的数据
                System.out.println(&quot; &quot; + userid + &quot; &quot; + name + &quot; &quot; + age);                
            }

            //关闭 result,sql_statement
            result.close();
            sql_statement.close();

            //使用PreparedStatement更新记录
            sql = &quot;update user set age=? where name=?;&quot;;
            PreparedStatement pstmt = con.prepareStatement(sql);

            //设置绑定变量的值
            pstmt.setInt(1, 15);
            pstmt.setString(2, &quot;liming&quot;);

            //执行操作
            num = pstmt.executeUpdate();

            System.out.println(&quot;&quot;);
            System.out.println(&quot;JDBC 更新操作:&quot;);
            System.out.println(&quot;execute sql : &quot; + sql);
            System.out.println(num + &quot; rows has changed!&quot;);

            //关闭PreparedStatement
            pstmt.close();


            //流式读取result，row-by-row
            query = &quot;select * from user&quot;;            
            PreparedStatement ps = (PreparedStatement) con.prepareStatement
            (query,ResultSet.TYPE_FORWARD_ONLY, ResultSet.CONCUR_READ_ONLY);  

            ps.setFetchSize(Integer.MIN_VALUE);  

            result = ps.executeQuery();  

            /************ 对数据库进行相关操作 ************/

            System.out.println(&quot;JDBC 查询操作:&quot;);
            System.out.println(&quot;------------------------&quot;);
            System.out.println(&quot;userid&quot; + &quot; &quot; + &quot;name&quot; + &quot; &quot; + &quot;age &quot;);
            System.out.println(&quot;------------------------&quot;);

            //对获得的查询结果进行处理，对Result类的对象进行操作
            while (result.next())
            {
                int userid =   result.getInt(&quot;id&quot;);
                String name    =   result.getString(&quot;name&quot;);
                int age        =   result.getInt(&quot;age&quot;);
                //取得数据库中的数据
                System.out.println(&quot; &quot; + userid + &quot; &quot; + name + &quot; &quot; + age);                
            }

            //关闭 result,ps
            result.close();
            ps.close();
            con.close();

        } catch(java.lang.ClassNotFoundException e) {
            //加载JDBC错误,所要用的驱动没有找到
            System.err.print(&quot;ClassNotFoundException&quot;);
            //其他错误
            System.err.println(e.getMessage());
        } catch (SQLException ex) {
            //显示数据库连接错误或查询错误
            System.err.println(&quot;SQLException: &quot; + ex.getMessage());
        }


    }

}
</code></pre>

<h3 id="jdbc使用技巧">JDBC使用技巧</h3>

<ul>
<li>Statement与PreparedStatement的区别</li>
<li>connection, Statement与ResultSet关闭的意义</li>
<li>jdbc连接参数的使用</li>
<li>ResultSet游标的使用(setFetchSize)</li>
</ul>

<h3 id="statement与preparedstatement的区别">Statement与PreparedStatement的区别</h3>

<ul>
<li>PreparedStatement在数据库端预编译，效率高，可以防止SQL注入。</li>
<li>对数据库执行一次性存取的时候，用Statement对象进行处理。</li>
<li>线上业务推荐使用PreparedStatement.</li>
</ul>

<h3 id="preparedstatement背后的故事">PreparedStatement背后的故事</h3>

<p>PREPARE -&gt; EXECUTE -&gt; DEALLOCATE PREPARE</p>

<pre><code class="language-sql">PREPARE stmt1 FROM 'SELECT productCode, productName
                    From products
                    WHERE productCode = ?';
SET @pc = 'S10_1678';
EXECUTE stmt1 USING @pc;

DEALLOCATE PREPARE stmt1;
</code></pre>

<h3 id="connection-statement与resultset关闭的意义">connection, Statement与ResultSet关闭的意义</h3>

<ul>
<li>MySQL数据库端为connection与ResultSet维护内存状态，一直不关闭会占用服务端资源。</li>
<li>MySQL最大连接数受max_connections限制，不能无限创建连接，所以用完要及时关闭。</li>
<li>JDBC connection关闭后ResultSet, Statement会自动关闭。但是如果使用连接池将不会关闭，因此推荐主动关闭。</li>
</ul>

<h3 id="jdbc连接参数的使用">jdbc连接参数的使用</h3>

<ul>
<li>字符集设置：</li>
</ul>

<p>url=&ldquo;jdbc:mysql://localhost:3306/blog_dbo?userUnicode=true&amp;characterEncoding=utf8&rdquo;;</p>

<ul>
<li>超时设置：</li>
</ul>

<p>url=&ldquo;jdbc:mysql://localhost:3306/blog_dbo?connectionTimeout=1000&amp;socketTimeout=30000&rdquo;;</p>

<h3 id="resultset游标的使用">ResultSet游标的使用</h3>

<ul>
<li>默认的ResultSet对象不可更新，仅有一个向前移动的指针。因此，只能迭代它一次，并且只能按从第一行到最后一行的顺序进行。可以生成可滚动和/或可更新的ResultSet对象。</li>
<li>setFetchSize()是设置ResultSet每次向数据库取的行数，防止数据返回量过大将内存爆掉。</li>
</ul>

<h3 id="python连接mysql">Python连接MySQL</h3>

<ul>
<li>Python：脚本语言，无需编译、易开发</li>
<li>DBA使用Python的一般场景是编写自动化运维工具、报表、数据迁移</li>
<li>Python MySQL驱动：python-mysqldb</li>
</ul>

<pre><code class="language-python">import MySQLdb

# 建立和mysql数据库的连接
conn = MySQLdb.connect(host='localhost', port=3306,user='bloguser',passwd='xxxx')
# 获取游标
curs = conn.cursor()

# 选择数据库
conn.select_db('blog')

# 执行SQL，创建一个表
curs.execute(&quot;create table blog (id int, name varchar(200))&quot;)

# 插入一条记录
value = [1, 'user1']
curs.execute(&quot;insert into blog values(%s, %s)&quot;, value)

# 插入多条记录
values = [(2, &quot;user2&quot;), (3, &quot;user3&quot;)]
curs.executemany(&quot;insert into blog values(%s, %s)&quot;, values)

# 提交
conn.commit()

# 关闭游标
curs.close()
# 关闭连接
conn.close()
</code></pre>

<h2 id="2-9-dao框架的使用">2.9-DAO框架的使用</h2>

<h3 id="dao框架">DAO框架</h3>

<ul>
<li>在应用程序中使用数据访问对象(DAO),使我们可以将底层数据访问逻辑与业务逻辑分离开来。DAO框架构建了为每一个数据源提供CRUD(创建、读取、更新、删除)操作的类。</li>
<li>DAO模式是标准J2EE设计模式之一。开发人员用这种模式将底层数据访问操作与高层业务逻辑分离开。一个典型的DAO框架实现有以下组操作：

<ul>
<li>一个DAO工厂类</li>
<li>一个DAO接口(select/insert/delete/update)</li>
<li>一个实现了DAO接口的具体类</li>
<li>数据传输对象</li>
</ul></li>
</ul>

<h3 id="dao框架的特点">DAO框架的特点</h3>

<ul>
<li>屏蔽底层数据访问细节，实现业务逻辑和数据访问逻辑的分离。</li>
<li>简化代码开发，提高代码复用率。</li>
<li>相较于原生的SQL可能会带来额外的 性能损耗(利用反射机制封装对象，SQL转换等)</li>
</ul>

<h3 id="mybatis简介">MyBatis简介</h3>

<ul>
<li>MyBatis是一个主流的DAO框架，是apache的一个开源项目iBatis的升级版。</li>
<li>MyBatis支持普通SQL查询，存储过程和高级映射，消除就几乎所有JDBC代码和参数的手工设置以及结果集的检索。</li>
<li>接口丰富、使用简单</li>
<li>相较于hibernate更加轻量级，支持原生的sql语句。</li>
<li>支持查询缓存</li>
</ul>

<h3 id="mybatis代码示例">MyBatis代码示例</h3>

<ul>
<li>环境搭建，数据源于映射配置文件的编写</li>
<li>单值、多值查询</li>
<li>增删改数据</li>
<li>连表查询</li>
</ul>

<p><strong>示例代码在sorence/DAO框架代码示例.rar</strong></p>

<h3 id="mybatis工作流程">MyBatis工作流程</h3>

<ul>
<li>加载配置并初始化，内部生成MappedStatement对象。</li>
<li>调用MyBatis提供的API(SqlSession.select/insert&hellip;.)，将SQL ID与数据对象传递给处理层。</li>
<li>处理层解析MappedStatement对象，获取MySQL的连接，执行相应的SQL语句，接收返回结果。</li>
<li>MyBatis将接收到的返回结果封装成对应的数据对象返回。</li>
</ul>

<h3 id="mybatis使用技巧">MyBatis使用技巧</h3>

<ul>
<li>区分<code>#{}</code>和<code>${}</code>的不同应用场景：
<code>#{}</code>会生成预编译SQL，会正确的处理数据的类型，而<code>${}</code>仅仅是文本替换。</li>
<li>注意MyBatis封装数据时的性能损耗：
只返回需要的行数和字段。</li>
<li>使用MyBatis自带的连接池功能：
<code>&lt;dataSource type=&quot;POOLED&quot;&gt;</code></li>
</ul>

    </div>

    
    
<div class="post-copyright">
  <p class="copyright-item">
    <span class="item-title">Author</span>
    <span class="item-content">zch</span>
  </p>
  <p class="copyright-item">
    <span class="item-title">LastMod</span>
    <span class="item-content">
      2021-02-14
      
    </span>
  </p>
  
  <p class="copyright-item">
    <span class="item-title">License</span>
    <span class="item-content"><a rel="license noopener" href="https://creativecommons.org/licenses/by-nc-nd/4.0/" target="_blank">CC BY-NC-ND 4.0</a></span>
  </p>
</div>


    
    

    <footer class="post-footer">
      <div class="post-tags">
          
        </div>

      
      <nav class="post-nav">
        
          <a class="prev" href="/studyDocument/post/uuid_t_%E7%BD%91%E6%98%93%E4%BA%91%E8%AF%BE%E5%A0%82mysql_%E7%BD%91%E6%98%93%E4%BA%91%E8%AF%BE%E5%A0%82mysql_chapter1/">
            
            <i class="iconfont">
              <svg  class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="18" height="18">
  <path d="M691.908486 949.511495l75.369571-89.491197c10.963703-12.998035 10.285251-32.864502-1.499144-44.378743L479.499795 515.267417 757.434875 204.940602c11.338233-12.190647 11.035334-32.285311-0.638543-44.850487l-80.46666-86.564541c-11.680017-12.583596-30.356378-12.893658-41.662889-0.716314L257.233596 494.235404c-11.332093 12.183484-11.041474 32.266891 0.657986 44.844348l80.46666 86.564541c1.772366 1.910513 3.706415 3.533476 5.750981 4.877077l306.620399 321.703933C662.505829 963.726242 680.945807 962.528973 691.908486 949.511495z"></path>
</svg>

            </i>
            <span class="prev-text nav-default">网易云课堂MySQL &gt; chapter1</span>
            <span class="prev-text nav-mobile">Prev</span>
          </a>
        
          <a class="next" href="/studyDocument/post/uuid_t_%E7%BD%91%E6%98%93%E4%BA%91%E8%AF%BE%E5%A0%82mysql_%E7%BD%91%E6%98%93%E4%BA%91%E8%AF%BE%E5%A0%82mysql_chapter3/">
            <span class="next-text nav-default">网易云课堂MySQL &gt; chapter3</span>
            <span class="prev-text nav-mobile">Next</span>
            
            <i class="iconfont">
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="18" height="18">
  <path d="M332.091514 74.487481l-75.369571 89.491197c-10.963703 12.998035-10.285251 32.864502 1.499144 44.378743l286.278095 300.375162L266.565125 819.058374c-11.338233 12.190647-11.035334 32.285311 0.638543 44.850487l80.46666 86.564541c11.680017 12.583596 30.356378 12.893658 41.662889 0.716314l377.434212-421.426145c11.332093-12.183484 11.041474-32.266891-0.657986-44.844348l-80.46666-86.564541c-1.772366-1.910513-3.706415-3.533476-5.750981-4.877077L373.270379 71.774697C361.493148 60.273758 343.054193 61.470003 332.091514 74.487481z"></path>
</svg>

            </i>
          </a>
      </nav>
    </footer>
  </article>

  
  

  
  

  

  
  

  

  

  

    

  

        </div>
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="icon-links">
  
  
    <a href="mailto:your@email.com" rel="me noopener" class="iconfont"
      title="email" >
      <svg class="icon" viewBox="0 0 1451 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="36" height="36">
  <path d="M664.781909 681.472759 0 97.881301C0 3.997201 71.046997 0 71.046997 0L474.477909 0 961.649408 0 1361.641813 0C1361.641813 0 1432.688811 3.997201 1432.688811 97.881301L771.345323 681.472759C771.345323 681.472759 764.482731 685.154773 753.594283 688.65053L753.594283 688.664858C741.602731 693.493018 729.424896 695.068979 718.077952 694.839748 706.731093 695.068979 694.553173 693.493018 682.561621 688.664858L682.561621 688.65053C671.644501 685.140446 664.781909 681.472759 664.781909 681.472759L664.781909 681.472759ZM718.063616 811.603883C693.779541 811.016482 658.879232 802.205449 619.10784 767.734955 542.989056 701.759633 0 212.052267 0 212.052267L0 942.809523C0 942.809523 0 1024 83.726336 1024L682.532949 1024 753.579947 1024 1348.948139 1024C1432.688811 1024 1432.688811 942.809523 1432.688811 942.809523L1432.688811 212.052267C1432.688811 212.052267 893.138176 701.759633 817.019477 767.734955 777.248 802.205449 742.347691 811.03081 718.063616 811.603883L718.063616 811.603883Z"></path>
</svg>

    </a>
  
    <a href="http://localhost:1313" rel="me noopener" class="iconfont"
      title="stack-overflow"  target="_blank"
      >
      <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="36" height="36">
  <path d="M809.714286 932.571429l-638.857143 0 0-274.285714-91.428571 0 0 365.714286 821.714286 0 0-365.714286-91.428571 0 0 274.285714zm-538.285714-299.428571l18.857143-89.714286 447.428571 94.285714-18.857143 89.142857zm58.857143-213.714286l38.285714-83.428571 414.285714 193.714286-38.285714 82.857143zm114.857143-203.428571l58.285714-70.285714 350.857143 293.142857-58.285714 70.285714zm226.857143-216l272.571429 366.285714-73.142857 54.857143-272.571429-366.285714zm-410.285714 840.571429l0-90.857143 457.142857 0 0 90.857143-457.142857 0z"></path>
</svg>

    </a>
  
    <a href="http://localhost:1313" rel="me noopener" class="iconfont"
      title="twitter"  target="_blank"
      >
      <svg class="icon" viewBox="0 0 1264 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="36" height="36">
  <path d="M1229.8616 18.043658c0 0-117.852626 63.135335-164.151872 67.344358-105.225559-164.151872-505.082682-92.598492-437.738325 223.078185C278.622548 312.675223 89.216542 47.506814 89.216542 47.506814s-117.852626 189.406006 75.762402 345.139833C127.097743 396.85567 55.544363 371.601535 55.544363 371.601535S26.081207 535.753407 253.368414 615.724832c-21.045112 29.463156-113.643603 8.418045-113.643603 8.418045s25.254134 143.10676 231.496229 180.987961c-143.10676 130.479693-387.230056 92.598492-370.393967 105.225559 206.242095 189.406006 1119.599946 231.496229 1128.01799-643.98042C1179.353331 249.539887 1263.533778 123.269217 1263.533778 123.269217s-130.479693 37.881201-138.897738 33.672179C1225.652577 98.015083 1229.8616 18.043658 1229.8616 18.043658"></path>
</svg>

    </a>
  
    <a href="http://localhost:1313" rel="me noopener" class="iconfont"
      title="facebook"  target="_blank"
      >
      <svg class="icon" style="" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="33" height="33">
  <path d="M965.7344 2.7648c14.848 0 28.2624 5.5296 40.2432 16.6912C1017.9584 30.5152 1024 43.52 1024 58.2656l0 910.2336c0 14.848-6.0416 27.7504-18.0224 38.8096C993.8944 1018.4704 980.48 1024 965.7344 1024L704.9216 1024 704.9216 629.9648l133.2224 0 19.456-155.4432-152.576 0L705.024 373.0432c0-50.688 25.9072-76.0832 77.7216-76.0832l80.4864 0L863.232 163.5328c-27.7504-5.4272-67.4816-8.192-119.296-8.192-59.1872 0-106.8032 18.0224-142.9504 54.0672C564.736 245.5552 546.7136 296.0384 546.7136 360.7552l0 113.7664L413.4912 474.5216l0 155.4432 133.2224 0L546.7136 1024 55.5008 1024c-14.848 0-27.7504-5.5296-38.8096-16.6912C5.5296 996.2496 0 983.3472 0 968.4992L0 58.2656C0 43.52 5.5296 30.5152 16.6912 19.456c11.0592-11.0592 24.064-16.6912 38.8096-16.6912L965.7344 2.7648z"></path>
</svg>

    </a>
  
    <a href="http://localhost:1313" rel="me noopener" class="iconfont"
      title="linkedin"  target="_blank"
      >
      <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="33" height="33">
  <path d="M872.405333 872.618667h-151.637333v-237.610667c0-56.661333-1.152-129.578667-79.018667-129.578667-79.061333 0-91.136 61.653333-91.136 125.397334v241.792H398.976V384h145.664v66.602667h1.962667c20.352-38.4 69.845333-78.933333 143.786666-78.933334 153.642667 0 182.058667 101.12 182.058667 232.746667v268.202667zM227.712 317.141333a87.978667 87.978667 0 0 1-88.021333-88.106666 88.064 88.064 0 1 1 88.021333 88.106666z m76.032 555.477334H151.68V384h152.064v488.618667zM948.266667 0H75.562667C33.792 0 0 33.024 0 73.770667v876.458666C0 991.018667 33.792 1024 75.562667 1024h872.576C989.866667 1024 1024 991.018667 1024 950.229333V73.770667C1024 33.024 989.866667 0 948.138667 0h0.128z"></path>
</svg>

    </a>
  
    <a href="http://localhost:1313" rel="me noopener" class="iconfont"
      title="google"  target="_blank"
      >
      <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="36" height="36">
  <path d="M853.333333 85.333333C900.266667 85.333333 938.666667 123.733333 938.666667 170.666667L938.666667 853.333333C938.666667 900.266667 900.266667 938.666667 853.333333 938.666667L170.666667 938.666667C123.733333 938.666667 85.333333 900.266667 85.333333 853.333333L85.333333 170.666667C85.333333 123.306667 123.733333 85.333333 170.666667 85.333333L853.333333 85.333333M853.333333 512 768 512 768 426.666667 725.333333 426.666667 725.333333 512 640 512 640 554.666667 725.333333 554.666667 725.333333 640 768 640 768 554.666667 853.333333 554.666667 853.333333 512M384 481.706667 384 554.666667 506.026667 554.666667C499.626667 584.96 469.333333 645.973333 384 645.973333 311.04 645.973333 253.013333 584.96 253.013333 512 253.013333 439.04 311.04 378.026667 384 378.026667 426.666667 378.026667 453.973333 396.373333 469.333333 411.306667L527.36 356.693333C490.666667 320 442.026667 298.666667 384 298.666667 264.96 298.666667 170.666667 392.96 170.666667 512 170.666667 631.04 264.96 725.333333 384 725.333333 506.026667 725.333333 588.373333 640 588.373333 517.973333 588.373333 503.04 588.373333 493.653333 584.96 481.706667L384 481.706667Z"></path>
</svg>

    </a>
  
    <a href="http://localhost:1313" rel="me noopener" class="iconfont"
      title="github"  target="_blank"
      >
      <svg class="icon" style="" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="36" height="36">
  <path d="M512 12.672c-282.88 0-512 229.248-512 512 0 226.261333 146.688 418.133333 350.08 485.76 25.6 4.821333 34.986667-11.008 34.986667-24.618667 0-12.16-0.426667-44.373333-0.64-87.04-142.421333 30.890667-172.458667-68.693333-172.458667-68.693333C188.672 770.986667 155.008 755.2 155.008 755.2c-46.378667-31.744 3.584-31.104 3.584-31.104 51.413333 3.584 78.421333 52.736 78.421333 52.736 45.653333 78.293333 119.850667 55.68 149.12 42.581333 4.608-33.109333 17.792-55.68 32.426667-68.48-113.706667-12.8-233.216-56.832-233.216-253.013333 0-55.893333 19.84-101.546667 52.693333-137.386667-5.76-12.928-23.04-64.981333 4.48-135.509333 0 0 42.88-13.738667 140.8 52.48 40.96-11.392 84.48-17.024 128-17.28 43.52 0.256 87.04 5.888 128 17.28 97.28-66.218667 140.16-52.48 140.16-52.48 27.52 70.528 10.24 122.581333 5.12 135.509333 32.64 35.84 52.48 81.493333 52.48 137.386667 0 196.693333-119.68 240-233.6 252.586667 17.92 15.36 34.56 46.762667 34.56 94.72 0 68.522667-0.64 123.562667-0.64 140.202666 0 13.44 8.96 29.44 35.2 24.32C877.44 942.592 1024 750.592 1024 524.672c0-282.752-229.248-512-512-512"></path>
</svg>

    </a>
  
    <a href="http://localhost:1313" rel="me noopener" class="iconfont"
      title="weibo"  target="_blank"
      >
      <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="36" height="36">
  <path d="M385.714286 733.714286q12-19.428571 6.285714-39.428571t-25.714286-28.571429q-19.428571-8-41.714286-0.571429t-34.285714 26.285714q-12.571429 19.428571-7.428571 39.142857t24.571429 28.857143 42.571429 1.428571 35.714286-27.142857zm53.714286-69.142857q4.571429-7.428571 2-15.142857t-10-10.571429q-8-2.857143-16.285714 2.857143t-12.285714 10.571429q-9.714286 17.714286 7.428571 25.714286 8 2.857143 16.571429 2.857143t12.571429-10.571429zm99.428571 61.142857q-25.714286 58.285714-90.285714 85.714286t-128 6.857143q-61.142857-19.428571-84.285714-72.285714t3.714286-107.142857q26.857143-53.142857 86.571429-79.428571t120.285714-10.857143q63.428571 16.571429 90.571429 68.285714t1.428571 108.857143zm178.285714-91.428571q-5.142857-54.857143-50.857143-97.142857t-119.142857-62.285714-156.857143-12q-127.428571 13.142857-211.142857 80.857143t-75.714286 151.142857q5.142857 54.857143 50.857143 97.142857t119.142857 62.285714 156.857143 12q127.428571-13.142857 211.142857-80.857143t75.714286-151.142857zm176 2.285714q0 38.857143-21.142857 79.714286t-62.285714 78.285714-96.285714 67.142857-129.142857 47.428571-154.571429 17.714286-157.142857-19.142857-137.428571-53.142857-98-86.285714-37.142857-114q0-65.714286 39.714286-140t112.857143-147.428571q96.571429-96.571429 195.142857-134.857143t140.857143 4q37.142857 36.571429 11.428571 119.428571-2.285714 8-0.571429 11.428571t5.714286 4 8.285714 2.857143 7.714286-2l3.428571-1.142857q79.428571-33.714286 140.571429-33.714286t87.428571 34.857143q25.714286 36 0 101.714286-1.142857 7.428571-2.571429 11.428571t2.571429 7.142857 6.857143 4.285714 9.714286 3.428571q32.571429 10.285714 58.857143 26.857143t45.714286 46.571429 19.428571 66.571429zm-42.285714-356.571429q24 26.857143 31.142857 62t-3.714286 67.142857q-4.571429 13.142857-16.857143 19.428571t-25.428571 2.285714q-13.142857-4.571429-19.428571-16.857143t-2.285714-25.428571q11.428571-36-13.714286-63.428571t-61.142857-20q-13.714286 2.857143-25.714286-4.571429t-14.285714-21.142857q-2.857143-13.714286 4.571429-25.428571t21.142857-14.571429q34.285714-7.428571 68 3.142857t57.714286 37.428571zm103.428571-93.142857q49.714286 54.857143 64.285714 127.142857t-7.714286 138q-5.142857 15.428571-19.428571 22.857143t-29.714286 2.285714-22.857143-19.428571-2.857143-29.714286q16-46.857143 5.714286-98.285714t-45.714286-90.285714q-35.428571-39.428571-84.571429-54.571429t-98.857143-4.857143q-16 3.428571-29.714286-5.428571t-17.142857-24.857143 5.428571-29.428571 24.857143-16.857143q70.285714-14.857143 139.428571 6.571429t118.857143 76.857143z"></path>
</svg>

    </a>
  
    <a href="http://localhost:1313" rel="me noopener" class="iconfont"
      title="zhihu"  target="_blank"
      >
      <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="36" height="36">
  <path d="M351.791182 562.469462l192.945407 0c0-45.367257-21.3871-71.939449-21.3871-71.939449L355.897709 490.530013c3.977591-82.182744 7.541767-187.659007 8.816806-226.835262l159.282726 0c0 0-0.86367-67.402109-18.578124-67.402109s-279.979646 0-279.979646 0 16.850783-88.141456 39.318494-127.053698c0 0-83.60514-4.510734-112.121614 106.962104S81.344656 355.077018 76.80834 367.390461c-4.536316 12.313443 24.62791 5.832845 36.941354 0 12.313443-5.832845 68.050885-25.924439 84.252893-103.69571l86.570681 0c1.165546 49.28652 4.596691 200.335724 3.515057 226.835262L109.86113 490.530013c-25.275663 18.147312-33.701566 71.939449-33.701566 71.939449L279.868105 562.469462c-8.497535 56.255235-23.417339 128.763642-44.275389 167.210279-33.05279 60.921511-50.55235 116.65793-169.802314 212.576513 0 0-19.442818 14.257725 40.829917 9.073656 60.273758-5.185093 117.305683-20.739347 156.840094-99.807147 20.553105-41.107233 41.805128-93.250824 58.386782-146.138358l-0.055259 0.185218 167.855986 193.263655c0 0 22.035876-51.847855 5.832845-108.880803L371.045711 650.610918l-42.1244 31.157627-0.045025 0.151449c11.69946-41.020252 20.11206-81.5749 22.726607-116.858498C351.665315 564.212152 351.72876 563.345412 351.791182 562.469462z"></path>
  <path d="M584.918753 182.033893l0 668.840094 70.318532 0 28.807093 80.512708 121.875768-80.512708 153.600307 0L959.520453 182.033893 584.918753 182.033893zM887.150192 778.934538l-79.837326 0-99.578949 65.782216-23.537066-65.782216-24.855084 0L659.341766 256.673847l227.807403 0L887.149169 778.934538z"></path>
</svg>

    </a>
  
    <a href="http://localhost:1313" rel="me noopener" class="iconfont"
      title="douban"  target="_blank"
      >
      <svg class="icon" style="" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="36" height="36">
  <path d="M926.917973 37.80608C959.65184 37.80608 986.19392 64.34816 986.19392 97.082027L986.19392 926.917973C986.19392 959.65184 959.65184 986.19392 926.917973 986.19392L97.082027 986.19392C64.34816 986.19392 37.80608 959.65184 37.80608 926.917973L37.80608 97.082027C37.80608 64.34816 64.34816 37.80608 97.082027 37.80608zM176.653653 176.19968 176.653653 252.678827 825.658027 252.678827 825.658027 176.19968zM217.719467 316.146347 217.719467 628.08064 273.524053 628.08064 341.292373 770.39616 157.259093 770.39616 157.259093 845.417813 842.949973 845.417813 842.949973 770.39616 654.226773 770.39616 722.899627 628.08064 783.67744 628.08064 783.67744 316.146347zM684.885333 392.891733 684.885333 553.987413 312.576 553.987413 312.576 392.891733zM570.770773 770.39616 426.653013 770.39616 359.621973 628.08064 639.443627 628.08064z"></path>
</svg>

    </a>
  
    <a href="http://localhost:1313" rel="me noopener" class="iconfont"
      title="pocket"  target="_blank"
      >
      <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="36" height="36">
  <path d="M912.569234 73.142857a88.429714 88.429714 0 0 1 88.576 89.161143v296.557714C1001.145234 732.562286 782.301806 950.857143 510.28352 950.857143A489.837714 489.837714 0 0 1 18.288091 458.861714V162.304A90.002286 90.002286 0 0 1 107.449234 73.142857h805.156572z m-402.285714 608a68.388571 68.388571 0 0 0 46.848-18.870857l230.838857-221.696a68.022857 68.022857 0 0 0 21.138286-48.566857 67.547429 67.547429 0 0 0-114.285714-48.566857l-184.576 177.152-184.576-177.152a67.328 67.328 0 0 0-46.299429-18.870857 67.547429 67.547429 0 0 0-46.884571 116.004571l231.424 221.696c11.995429 11.995429 29.147429 18.870857 46.299428 18.870857z"></path>
</svg>

    </a>
  
    <a href="http://localhost:1313" rel="me noopener" class="iconfont"
      title="tumblr"  target="_blank"
      >
      <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="36" height="36">
  <path d="M556.716946 378.027729l133.939525 0 0 89.307002L556.716946 467.334731 556.716946 601.318258c0 58.898435 8.290827 92.557022 53.140291 89.809445 10.382465-0.677429 22.25077-1.855254 35.687804-5.586229 13.437034-3.729951 24.257473-7.458879 32.372292-11.190877l12.739139-5.606695 0 82.546018c-3.403516 2.070148-8.463766 4.820796-15.007809 8.048303-6.631024 3.338025-21.029966 7.656377-43.016723 13.045107-21.988804 5.41022-44.937468 8.070816-68.844971 8.070816-51.395554 0-89.177042-10.994402-113.608477-33.17968-24.343431-22.097274-27.572986-56.147788-27.572986-101.195773L422.605505 467.334731l-89.263 0-0.435928-66.64077c38.480406-12.369725 67.798129-29.734208 88.128153-52.114938 20.332071-22.273283 33.333176-57.021691 38.829354-104.22783l96.853885-0.393973L556.717969 378.027729zM958.70846 243.958244l0 536.105001c0 98.730629-80.013335 178.722474-178.615027 178.722474L243.991502 958.785719c-98.774631 0-178.700985-79.991846-178.700985-178.722474L65.290517 243.958244c0-98.642624 79.925331-178.744987 178.700985-178.744987l536.102954 0C878.695125 65.213257 958.70846 145.31562 958.70846 243.958244zM869.44546 288.612257c0-74.015737-60.033281-133.961014-134.027529-133.961014L288.667004 154.651242c-73.994248 0-134.115534 59.945277-134.115534 133.961014l0 446.775486c0 74.015737 60.121286 133.983527 134.115534 133.983527l446.750927 0c73.994248 0 134.027529-59.96779 134.027529-133.983527L869.44546 288.612257z"></path>
</svg>

    </a>
  
    <a href="http://localhost:1313" rel="me noopener" class="iconfont"
      title="instagram"  target="_blank"
      >
      <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="36" height="36">
  <path d="M853.333333 277.333333C853.333333 289.28 843.946667 298.666667 832 298.666667L746.666667 298.666667C734.72 298.666667 725.333333 289.28 725.333333 277.333333L725.333333 192C725.333333 180.053333 734.72 170.666667 746.666667 170.666667L832 170.666667C843.946667 170.666667 853.333333 180.053333 853.333333 192M192 853.333333C180.053333 853.333333 170.666667 843.946667 170.666667 832L170.666667 469.333333 259.84 469.333333C257.28 482.986667 256 497.493333 256 512 256 653.226667 370.773333 768 512 768 653.226667 768 768 653.226667 768 512 768 497.493333 766.293333 482.986667 764.16 469.333333L853.333333 469.333333 853.333333 832C853.333333 843.946667 843.946667 853.333333 832 853.333333M512 341.333333C606.293333 341.333333 682.666667 417.706667 682.666667 512 682.666667 606.293333 606.293333 682.666667 512 682.666667 417.706667 682.666667 341.333333 606.293333 341.333333 512 341.333333 417.706667 417.706667 341.333333 512 341.333333M853.333333 85.333333 170.666667 85.333333C123.306667 85.333333 85.333333 123.306667 85.333333 170.666667L85.333333 853.333333C85.333333 900.266667 123.733333 938.666667 170.666667 938.666667L853.333333 938.666667C900.266667 938.666667 938.666667 900.266667 938.666667 853.333333L938.666667 170.666667C938.666667 123.306667 900.266667 85.333333 853.333333 85.333333Z"></path>
</svg>

    </a>
  
    <a href="http://localhost:1313" rel="me noopener" class="iconfont"
      title="gitlab"  target="_blank"
      >
      <svg class="icon" style="" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="36" height="36">
  <path d="M59.544137 403.419429L512.115566 983.405714 16.09728 623.396571a39.936 39.936 0 0 1-14.299429-43.995428l57.709715-176.018286z m264.009143 0h377.161143L512.152137 983.405714zM210.40128 53.723429l113.152 349.696H59.544137l113.152-349.696a20.041143 20.041143 0 0 1 37.705143 0z m754.285714 349.696l57.709715 176.018285a39.862857 39.862857 0 0 1-14.299429 43.995429l-496.018286 360.009143 452.571429-579.986286z m0 0h-264.009143l113.152-349.696a20.041143 20.041143 0 0 1 37.705143 0z"></path>
</svg>

    </a>
  
    <a href="http://localhost:1313" rel="me noopener" class="iconfont"
      title="goodreads"  target="_blank"
      >
      <svg viewBox="0 0 128 128" version="1.1"
  width="32" height="32">
  <path d="M 85.685714,45.48571 C 87.142857,56.14286 84.342857,68.05714 75.428571,74.25714 69.057143,78.68571 60.342857,78.28571 55.2,75.88571 44.6,70.94286 41.057143,59.14286 41.828571,48.11429 c 1.228572,-17.4 11.685715,-25.11429 21.514286,-25 13.4,-0.0571 20.514286,9.08571 22.342857,22.37142 z M 128,16 v 96 c 0,8.82857 -7.17143,16 -16,16 H 16 C 7.1714286,128 0,120.82857 0,112 V 16 C 0,7.17143 7.1714286,0 16,0 h 96 c 8.82857,0 16,7.17143 16,16 z M 94.285714,80.34286 c 0,0 -0.02857,-9.71429 -0.02857,-62.08572 H 85.97143 V 29.77143 C 85.742858,29.85713 85.628572,29.62857 85.514287,29.42857 82.771429,23.51429 75.257143,16.2 63.8,16.28571 48.971429,16.4 38.885714,25.2 35.057143,38.51429 33.828571,42.77143 33.4,47.11429 33.485714,51.54286 33.971429,73.8 46.371429,85.2 65.6,84.45714 73.857143,84.14286 81.171429,79.6 85.314286,71.54286 85.457143,71.25714 85.628571,71 85.8,70.71429 c 0.05714,0.0286 0.114286,0.0286 0.171429,0.0571 0.08571,1.08571 0.05714,8.77143 0.02857,9.85714 -0.05714,4.22857 -0.571429,8.42857 -2.057143,12.42857 -2.228571,6 -6.371428,9.91429 -12.714286,11.28572 -5.085714,1.11428 -10.171428,1.08571 -15.2,-0.34286 C 49.885714,102.25714 45.6,98.57143 44.285714,92.05714 44.2,91.6 43.914286,91.68571 43.628571,91.68571 H 35.971429 C 36.2,94.71429 36.885714,97.48571 38.4,100.02857 45.314286,111.6 62.028571,113.88571 75.028571,110.71429 89.285714,107.2 94.257143,95.02857 94.285714,80.34286 Z" />
</svg>

    </a>
  
    <a href="http://localhost:1313" rel="me noopener" class="iconfont"
      title="coding"  target="_blank"
      >
      <svg class="icon" style="" viewBox="0 0 1024 1024" version="1.1"
  width="36" height="36">
  <path
      d="m 313.5359,557.51414 c 9.229,0 16.57801,8.88719 16.57801,19.99616 0,11.10899 -7.34901,19.99617 -16.57801,19.99617 -9.229,0 -16.57801,-8.88718 -16.57801,-19.99617 0,-11.10897 7.34901,-19.99616 16.57801,-19.99616 z m 393.7706,0 c 9.22899,0 16.57802,8.88719 16.57802,19.99616 0,11.10899 -7.34903,19.99617 -16.57802,19.99617 -9.229,0 -16.57802,-8.88718 -16.57802,-19.99617 0,-11.10897 7.34902,-19.99616 16.57802,-19.99616 z"
      id="path6"/>
  <path
      d="m 945.8932,448.98796 c -27.17427,0 -51.1013,17.26164 -64.43208,43.23957 C 836.17066,393.44306 741.8298,302.00762 625.27096,264.23708 562.37704,239.1137 518.28294,190.57601 512.8139,134.17657 507.34486,190.74691 463.25077,239.1137 400.35685,264.23708 283.79802,301.83671 189.45714,393.44306 144.16669,492.22753 130.83591,466.2496 107.07979,448.98796 79.734607,448.98796 c -41.701401,0 -75.541066,40.84686 -75.541066,91.26454 0,50.41768 33.839665,91.26454 75.541066,91.26454 12.64715,0 24.610663,-3.75996 35.206923,-10.42536 3.58906,163.55837 180.30728,269.69186 397.87237,270.03367 217.5651,-0.34181 394.28332,-106.4753 397.87238,-270.03367 10.42535,6.6654 22.55977,10.42536 35.20692,10.42536 41.7014,0 75.541,-40.84686 75.541,-91.26454 0.171,-50.41768 -33.6687,-91.26454 -75.541,-91.26454 z M 114.2579,568.79403 c -3.58906,13.15987 -19.312535,18.79981 -35.206921,12.47625 -15.894385,-6.15267 -25.977916,-21.87616 -22.388867,-35.03602 3.58906,-13.15987 19.312533,-18.79981 35.206919,-12.47624 15.894389,6.15267 25.807019,21.87614 22.388869,35.03601 z m 398.556,276.69904 C 338.31748,845.15126 196.97707,762.603 196.97707,644.33509 c 0,-2.56361 0.1709,-4.95631 0.1709,-7.34902 0,-0.85453 0,-1.53817 0.17092,-2.3927 0.1709,-1.70908 0.34181,-3.41814 0.34181,-4.95631 0.1709,-2.22179 0.51273,-4.44359 0.85454,-6.6654 0,-0.1709 0,-0.51271 0.1709,-0.68362 3.58906,-23.2434 12.47624,-58.79214 26.14883,-79.13012 32.64331,-47.51224 90.92273,-78.9592 157.23479,-78.9592 51.1013,0 97.41721,18.79981 130.91506,49.05041 33.49784,-30.2506 79.64283,-49.05041 130.91504,-49.05041 66.48298,0 124.59148,31.61786 157.23479,78.9592 13.67259,20.50889 22.55977,55.88672 26.14883,79.13012 0,0.17091 0,0.51272 0.17091,0.68362 0.34182,2.22181 0.51272,4.44361 0.85453,6.6654 0.17091,1.70907 0.34181,3.24723 0.34181,4.95631 0,0.85453 0.17092,1.53817 0.17092,2.3927 0.17091,2.39271 0.17091,4.95631 0.17091,7.34902 C 828.82165,762.603 687.48124,845.15126 512.8139,845.49307 Z M 946.74774,581.27028 c -15.89439,6.15265 -31.61787,0.68362 -35.20692,-12.47625 -3.58906,-13.15987 6.49448,-28.88334 22.38887,-35.03601 15.89438,-6.15267 31.61786,-0.68363 35.20692,12.47624 3.41815,12.98896 -6.49448,28.71243 -22.38887,35.03602 z"
      id="path8"/>
</svg>

    </a>
  
    <a href="http://localhost:1313" rel="me noopener" class="iconfont"
      title="bilibili"  target="_blank"
      >
      <svg
  class="icon" style="" viewBox="0 0 1024 1024" version="1.1" width="36"
  height="36" id="svg8">
  <path
      style=""
      d="M 744.60599,0.00486267 A 41.779915,41.779915 0 0 0 710.4184,18.673394 L 548.5048,255.32642 h -11.70046 a 41.779915,41.779915 0 0 0 -10.80295,-7.84928 L 235.66,97.084498 a 41.779915,41.779915 0 0 0 -20.07193,-4.960864 41.779915,41.779915 0 0 0 -18.3748,79.145436 L 359.4859,255.32642 H 128.16909 c -49.458302,0 -89.27932,39.82105 -89.27932,89.27932 v 508.65224 c 0,49.4583 39.821018,89.27934 89.27932,89.27934 h 19.48445 C 149.12802,984.5043 179.92773,1024 224.79179,1024 c 44.86407,0 75.66379,-39.4957 77.13826,-81.46268 H 719.98116 C 721.45559,984.5043 752.25533,1024 797.1194,1024 c 44.86406,0 75.6638,-39.4957 77.13824,-81.46268 h 21.57323 c 49.45831,0 89.27936,-39.82104 89.27936,-89.27934 V 344.60574 c 0,-49.45827 -39.82105,-89.27932 -89.27936,-89.27932 H 649.74567 L 779.38103,65.866924 A 41.779915,41.779915 0 0 0 744.60599,0.00486267 Z M 644.49108,418.70871 c 6.29985,0.21538 12.44451,2.01107 17.86888,5.22196 l 171.36218,98.10771 c 18.23417,10.21935 24.63334,33.34627 14.24614,51.48533 -10.38726,18.13909 -33.57344,24.32718 -51.61587,13.77296 L 624.9903,489.18895 c -15.21356,-8.41858 -22.66871,-26.1765 -18.03211,-42.93436 4.63664,-16.75784 20.15573,-28.14465 37.53289,-27.54588 z M 350.2006,432.31846 c 16.89952,0.0317 31.69582,11.33328 36.17844,27.62747 4.48262,16.2942 -2.44981,33.57765 -16.95507,42.24898 l -140.7157,86.91312 c -17.68528,11.18244 -41.09629,5.77692 -52.08912,-12.02686 -10.99282,-17.80373 -5.33855,-41.15658 12.58167,-51.95857 L 329.9002,438.2095 c 6.0643,-3.86439 13.10951,-5.90891 20.3004,-5.89104 z M 501.605,641.53985 c 3.75002,-0.15248 7.48645,0.53903 10.93349,2.0235 0.15842,0.0637 0.31618,0.12888 0.47325,0.19582 0.59328,0.27092 1.17574,0.56489 1.74609,0.88121 0.15868,0.0854 0.31643,0.17233 0.47325,0.2611 0.55694,0.32165 1.10131,0.66458 1.63185,1.02807 0.16455,0.1123 0.32777,0.2265 0.48956,0.34269 0.50382,0.36781 0.99371,0.75428 1.46868,1.15864 0.18724,0.15504 0.37218,0.31282 0.55484,0.47323 0.43271,0.38784 0.8518,0.79061 1.25653,1.20756 0.15449,0.16114 0.30679,0.32437 0.45693,0.48959 0.40798,0.44266 0.79989,0.89988 1.17494,1.37076 0.17799,0.22544 0.35205,0.45395 0.5222,0.68538 0.25932,0.34701 0.50964,0.70071 0.75064,1.06071 0.26712,0.39516 0.52286,0.79784 0.76699,1.20757 0.16907,0.29043 0.33231,0.58424 0.48957,0.88123 0.21836,0.41297 0.42513,0.83199 0.62009,1.25653 0.14836,0.32333 0.28983,0.64976 0.42429,0.97911 0.21319,0.51552 0.40915,1.03801 0.58747,1.5666 0.0677,0.19499 0.13296,0.39085 0.19582,0.58748 0.18652,0.60823 0.34984,1.22334 0.48957,1.84399 0.0397,0.16277 0.0779,0.32601 0.11423,0.48957 0.1436,0.69112 0.25788,1.38801 0.34269,2.08877 0.005,0.0381 0.0111,0.0761 0.0163,0.11424 0.0857,0.78056 0.13474,1.56471 0.14687,2.34988 0.005,0.0543 0.0111,0.10879 0.0163,0.1632 0,0 -0.008,1.12132 0,1.45234 0,0 -0.14697,17.84761 5.89102,34.12231 3.01902,8.13734 7.33278,15.10615 12.61433,19.61501 5.28157,4.50889 11.42894,7.62081 23.64572,7.62081 12.2168,0 18.36416,-3.11192 23.64573,-7.62081 5.28154,-4.50886 9.5953,-11.47767 12.6143,-19.61501 6.03799,-16.2747 5.89103,-34.12231 5.89103,-34.12231 -0.44885,-13.87045 10.45922,-25.46302 24.3311,-25.86506 13.87189,-0.40201 25.42828,10.53953 25.78348,24.41272 0,0 1.11929,25.7226 -9.00791,53.01927 -5.06359,13.64832 -13.1986,28.46036 -27.05631,40.29073 -13.85772,11.83039 -33.5454,19.63135 -56.20142,19.63135 -22.65603,0 -42.34371,-7.80096 -56.20141,-19.63135 -4.1801,-3.56856 -7.78733,-7.42433 -10.99878,-11.42303 -3.21235,4.00037 -6.81703,7.85309 -10.99876,11.42303 -13.85773,11.83039 -33.5454,19.63135 -56.20144,19.63135 -22.65601,0 -42.3437,-7.80096 -56.2014,-19.63135 -13.85775,-11.83037 -21.99272,-26.64241 -27.05632,-40.29073 -10.12725,-27.29667 -9.00789,-53.01928 -9.00789,-53.01927 0.20714,-13.83687 11.58744,-24.88848 25.42444,-24.69013 14.1263,0.19991 25.2971,12.0278 24.69011,26.14247 0,0 -0.14697,17.84761 5.89103,34.12231 3.01902,8.13734 7.31646,15.10615 12.598,19.61501 5.28155,4.50889 11.44526,7.62081 23.66203,7.62081 12.21681,0 18.36418,-3.11192 23.64573,-7.62081 5.28154,-4.50886 9.57899,-11.47767 12.598,-19.61501 5.76352,-15.53489 5.89112,-32.05691 5.89103,-33.56746 0.006,-0.37466 0.0111,-1.05336 0.0163,-1.20759 -0.0117,-0.74583 0.0105,-1.49177 0.0652,-2.23565 0.009,-0.15784 0.0204,-0.31561 0.0327,-0.47324 0.14204,-1.56859 0.43163,-3.12027 0.86487,-4.63449 0.0213,-0.0763 0.0433,-0.15244 0.0652,-0.22848 3.0335,-10.25748 12.24157,-17.46007 22.92769,-17.93417 z"
      id="rect824"/>
</svg>

    </a>
  
    <a href="http://localhost:1313" rel="me noopener" class="iconfont"
      title="codeforces"  target="_blank"
      >
      <svg width="36" height="36" class="icon" style="" version="1.1" viewBox="0 0 1024 1024">
<path d="M 192 334.2 C 227.3 334.2 256 369.2 256 412.4 v 547.5 C 256 1003.2 227.3 1038.2 192 1038.2 H 64 C 28.7 1038.2 0 1003.2 0 960 V 412.4 C 0 369.2 28.7 334.2 64 334.2 h 128 z m 384 -234.7 C 611.3 99.6 640 134.5 640 177.8 v 782.2 C 640 1003.2 611.3 1038.2 576 1038.2 H 448 C 412.7 1038.2 384 1003.2 384 960 V 177.8 C 384 134.5 412.7 99.6 448 99.6 h 128 z m 384 391.1 C 995.3 490.6 1024 525.7 1024 568.9 v 391.1 C 1024 1003.2 995.3 1038.2 960 1038.2 h -128 C 796.7 1038.2 768 1003.2 768 960 V 568.9 C 768 525.7 796.7 490.6 832 490.6 h 128 z" />
</svg>

    </a>
  
    <a href="http://localhost:1313" rel="me noopener" class="iconfont"
      title="mastodon"  target="_blank"
      >
      <svg class="icon" style="" viewBox="0 0 448 512" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="36" height="36"><path fill="currentColor" d="M433 179.11c0-97.2-63.71-125.7-63.71-125.7-62.52-28.7-228.56-28.4-290.48 0 0 0-63.72 28.5-63.72 125.7 0 115.7-6.6 259.4 105.63 289.1 40.51 10.7 75.32 13 103.33 11.4 50.81-2.8 79.32-18.1 79.32-18.1l-1.7-36.9s-36.31 11.4-77.12 10.1c-40.41-1.4-83-4.4-89.63-54a102.54 102.54 0 0 1-.9-13.9c85.63 20.9 158.65 9.1 178.75 6.7 56.12-6.7 105-41.3 111.23-72.9 9.8-49.8 9-121.5 9-121.5zm-75.12 125.2h-46.63v-114.2c0-49.7-64-51.6-64 6.9v62.5h-46.33V197c0-58.5-64-56.6-64-6.9v114.2H90.19c0-122.1-5.2-147.9 18.41-175 25.9-28.9 79.82-30.8 103.83 6.1l11.6 19.5 11.6-19.5c24.11-37.1 78.12-34.8 103.83-6.1 23.71 27.3 18.4 53 18.4 175z"></path></svg>
    </a>
  
    <a href="http://localhost:1313" rel="me noopener" class="iconfont"
      title="youtube"  target="_blank"
      >
      <svg
  class="icon" style="" viewBox="0 0 36 36" version="1.1" width="36"
  height="36" id="svg8">
  <path
      style=""
      d="m 1.8724447,28.346305 c -1.89825625,-2.287259 -1.89825625,-18.4053514 0,-20.6926103 C 3.0356132,6.2521624 5.4948113,6 18,6 35.952296,6 35.5,5.6898541 35.5,18 35.5,30.310146 35.952296,30 18,30 5.4948113,30 3.0356132,29.747838 1.8724447,28.346305 Z M 19.113845,20.815859 C 21.25123,19.614581 23,18.347445 23,18 23,17.348349 15.706815,13 14.613845,13 14.27623,13 14,15.25 14,18 c 0,2.75 0.27623,5 0.613845,5 0.337616,0 2.362616,-0.982863 4.5,-2.184141 z"
      id="rect824"/>
</svg>

    </a>
  
    <a href="http://localhost:1313" rel="me noopener" class="iconfont"
      title="twitch"  target="_blank"
      >
      <svg
  class="icon" style="" viewBox="0 0 36 36" version="1.1" width="36" height="36" id="svg8">
  <path
      style=""
      d="M 10,32.5 C 10,30.309524 9.5666667,30 6.5,30 H 3 V 18.196167 6.3923336 L 6.2976072,3.1961668 9.5952145,0 H 21.297607 33 v 9.2813035 9.2813035 l -5.778997,5.718696 C 23.230948,28.229724 20.653654,30 18.895317,30 17.471816,30 15.312792,31.102597 14,32.5 12.708255,33.875 11.279813,35 10.825686,35 10.371559,35 10,33.875 10,32.5 Z M 23.12736,22 c 1.432033,0 3.645397,-1.197147 5.185549,-2.804719 C 30.682196,16.722278 31,15.598708 31,9.6952811 V 3 H 20.5 10 v 9.5 9.5 h 3 c 2.413503,0 3,0.425076 3,2.174314 v 2.174314 l 2.314451,-2.174314 C 19.587399,22.978441 21.753208,22 23.12736,22 Z M 17.666667,14.333333 C 17.3,13.966667 17,12.166667 17,10.333333 17,8.037037 17.466667,7 18.5,7 c 1.083333,0 1.5,1.1111111 1.5,4 0,3.753437 -0.7878,4.878866 -2.333333,3.333333 z m 6.722867,-0.760607 C 23.554137,11.395717 24.34722,7.7069709 25.75,7.2449946 26.613128,6.9607414 27,8.097114 27,10.916667 c 0,3.979702 -1.51214,5.518252 -2.610466,2.656059 z"
      id="rect824"/>
</svg>

    </a>


<a href="https://huachengzhou.github.io/studyDocument/index.xml" rel="noopener alternate" type="application/rss&#43;xml"
    class="iconfont" title="rss" target="_blank">
    <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="30" height="30">
  <path d="M819.157333 1024C819.157333 574.592 449.408 204.8 0 204.8V0c561.706667 0 1024 462.293333 1024 1024h-204.842667zM140.416 743.04a140.8 140.8 0 0 1 140.501333 140.586667A140.928 140.928 0 0 1 140.074667 1024C62.72 1024 0 961.109333 0 883.626667s62.933333-140.544 140.416-140.586667zM678.784 1024h-199.04c0-263.210667-216.533333-479.786667-479.744-479.786667V345.173333c372.352 0 678.784 306.517333 678.784 678.826667z"></path>
</svg>

  </a>
   
</div>

<div class="copyright">
  <span class="power-by">
    Powered by <a class="hexo-link" href="https://gohugo.io">Hugo</a>
  </span>
  <span class="division">|</span>
  <span class="theme-info">
    Theme - <a class="theme-link" href="https://github.com/xianmin/hugo-theme-jane">Jane</a>
  </span>

  <span class="copyright-year">
    &copy;
    
      2020 -
    2021
    <span class="heart">
      
      <i class="iconfont">
        <svg class="icon" viewBox="0 0 1025 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="14" height="14">
  <path d="M1000.1 247.9c-15.5-37.3-37.6-70.6-65.7-98.9-54.4-54.8-125.8-85-201-85-85.7 0-166 39-221.4 107.4C456.6 103 376.3 64 290.6 64c-75.1 0-146.5 30.4-201.1 85.6-28.2 28.5-50.4 61.9-65.8 99.3-16 38.8-24 79.9-23.6 122.2 0.7 91.7 40.1 177.2 108.1 234.8 3.1 2.6 6 5.1 8.9 7.8 14.9 13.4 58 52.8 112.6 102.7 93.5 85.5 209.9 191.9 257.5 234.2 7 6.1 15.8 9.5 24.9 9.5 9.2 0 18.1-3.4 24.9-9.5 34.5-30.7 105.8-95.9 181.4-165 74.2-67.8 150.9-138 195.8-178.2 69.5-57.9 109.6-144.4 109.9-237.3 0.1-42.5-8-83.6-24-122.2z"
   fill="#8a8a8a"></path>
</svg>

      </i>
    </span><span class="author">
        zch
        
      </span></span>

  
  

  
</div>

    </footer>

    <div class="back-to-top" id="back-to-top">
      <i class="iconfont">
        
        <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="35" height="35">
  <path d="M510.866688 227.694839 95.449397 629.218702l235.761562 0-2.057869 328.796468 362.40389 0L691.55698 628.188232l241.942331-3.089361L510.866688 227.694839zM63.840492 63.962777l894.052392 0 0 131.813095L63.840492 195.775872 63.840492 63.962777 63.840492 63.962777zM63.840492 63.962777"></path>
</svg>

      </i>
    </div>
  </div>
  
<script type="text/javascript" src="/studyDocument/lib/jquery/jquery-3.2.1.min.js"></script>
  <script type="text/javascript" src="/studyDocument/lib/slideout/slideout-1.0.1.min.js"></script>




<script type="text/javascript" src="/studyDocument/js/main.dee43230127a73d039a734510fa896c89c3c7ce0cf0be0c7a7433f8fd69b76dc.js" integrity="sha256-3uQyMBJ6c9A5pzRRD6iWyJw8fODPC&#43;DHp0M/j9abdtw=" crossorigin="anonymous"></script>












  
    <script type="text/javascript" src="/studyDocument/js/load-photoswipe.js"></script>
    <script type="text/javascript" src="/studyDocument/lib/photoswipe/photoswipe.min.js"></script>
    <script type="text/javascript" src="/studyDocument/lib/photoswipe/photoswipe-ui-default.min.js"></script>
  















</body>
</html>
